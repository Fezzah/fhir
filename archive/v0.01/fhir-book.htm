<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <title>FHIR Specification - FHIR v0.01</title>
    <link rel="Stylesheet" type="text/css" href="fhir.css" media="screen"/>
</head>

<body class="book">

<h1 style="text-align:center"><img src="flame128.png"/><br/>Fast Health Interoperability Resources (FHIR)</h1>

<p>Fast Healthcare Interoperability Resources (FHIR) defines a set of &quot;resources&quot; for health which represent 
granular clinical concepts that can be exchanged in order to quickly and effectively solve problems in 
healthcare and related process. This document is the full FHIR specification (version 0.01). 
</p>
<p>
The exact license applicable to FHIR is still under deliberation. The FHIR content will remain Â© HL7.org, 
and will be free for use by any implementers, irrespective of whether they are HL7 members or not. There 
will be no IP encumbrance from HL7.
</p>
<p>
The FHIR home page is <a href="http://www.hl7.org/fhir">http://www.hl7.org/fhir</a>, and has links to other 
representations and versions of FHIR, along with references to various implementation resources.
</p>
<p>
</p>
<h2>Table of Contents</h2>
  
<div class="toc">
  <p>
    1: Infrastructure<br/>
      &nbsp;&nbsp;1.1: <a href="#introduction">Introduction</a><br/>
     &nbsp;&nbsp;1.2: <a href="#xml">Resource Format</a><br/>
     &nbsp;&nbsp;1.3: <a href="#datatypes">Data Types</a><br/>
     &nbsp;&nbsp;1.4: <a href="#mixins">Mixins</a><br/>
     &nbsp;&nbsp;1.5: <a href="#terminologies">Terminologies</a><br/>
     &nbsp;&nbsp;1.6: <a href="#extensibility">Extensibility</a><br/>
     &nbsp;&nbsp;1.7: <a href="#constraint">Constraint</a><br/>
     2: Exchange<br/>
      &nbsp;&nbsp;2.1: <a href="#implementation">Implementation</a><br/>
     &nbsp;&nbsp;2.2: <a href="#atom">Aggregations</a><br/>
     &nbsp;&nbsp;2.3: <a href="#http">REST (HTTP)</a><br/>
     &nbsp;&nbsp;2.4: <a href="#conformance">RESTful Conformance Statement</a><br/>
     &nbsp;&nbsp;2.5: <a href="#messaging">Messaging</a><br/>
     &nbsp;&nbsp;2.6: <a href="#message">Message Resource</a><br/>
     &nbsp;&nbsp;2.7: <a href="#messageconformance">Messaging Conformance Statement</a><br/>
     &nbsp;&nbsp;2.8: <a href="#documents">Documents</a><br/>
     &nbsp;&nbsp;2.9: <a href="#documentconformance">Document Conformance Statement</a><br/>
     &nbsp;&nbsp;2.10: <a href="#hdata">hData Integration</a><br/>
     &nbsp;&nbsp;2.11: <a href="#profile">Resource Profile</a><br/>
     3: Administrative Resources<br/>
      &nbsp;&nbsp;3.1: <a href="#person">Person</a><br/>
     &nbsp;&nbsp;3.2: <a href="#animal">Animal</a><br/>
     &nbsp;&nbsp;3.3: <a href="#organization">Organization</a><br/>
     &nbsp;&nbsp;3.4: <a href="#agent">Agent</a><br/>
     &nbsp;&nbsp;3.5: <a href="#patient">Patient</a><br/>
     &nbsp;&nbsp;3.6: <a href="#document">Document</a><br/>
     4: Clinical Components<br/>
      &nbsp;&nbsp;4.1: <a href="#labreport">Lab Report</a><br/>
     5: Medications<br/>
      &nbsp;&nbsp;5.1: <a href="#prescription">Prescription</a><br/>
     6: Care management<br/>
      7: Documents<br/>
      </p>
  </div>

<hr/>

<div><div class="section"><h1>1: Infrastructure</h1><div><a name="introduction"> </a>





<h2>1.1: Introduction</h2>
    <!-- - -
Lloyd:
To put it another way, if you're binding to specific vocabularies, you're no longer in the "conceptual' space, you're starting to get into the logical/implementable space.  If your intention is to create a logical/implementable UML model, that's ok, but it's not appropriate to call the model a DAM.  On the other hand, if you're planning to produce a v3 specification, your logical/implementable model is required to be a RIM-based model and thus vocabulary binding should only happen there.

  -->

<table cellpadding="5" border="0" cellspacing="0">
<tr>
<td><img src="flame128.png"/></td>
<td>
Fast Healthcare Interoperability Resources (FHIR) defines a set of &quot;resources&quot; for health.
These resources represent granular clinical concepts that can be exchanged in order to 
quickly and effectively solve problems in healthcare and related process. 
The resources cover the basic elements of healthcare - patients, admissions, diagnostic
reports, medications, and problem lists, with their typical participants, and also support
a range of richer and more complex clinical models. 
The simple direct definitions of the resources are based on 
thorough requirements gathering, formal analysis and extensive 
cross-mapping to other relevant standards. 
</td></tr></table>
<p>
Technically, FHIR is designed for the web; where possible or appropriate, 
open internet standards are used for data representation. The resources 
are based on simple XML, with an <a href="#http">http-based RESTful (&sect;2.3)</a>
protocol where each resource has predictable URL. Note that while the 
resources are defined to support an HTTP based RESTful infrastructure, it is 
not necessary to use such an infrastructure when using the resources. This specification 
also defines <a href="#messaging">a class messaging based framework (&sect;2.5)</a> and 
<a href="#documents">way to use the resources to build clinical documents (&sect;2.8)</a>. In 
addition, <a href="#implementation.SOA">the resources can be used in a SOA-based solution (&sect;2.1.1)</a>.
This flexibility offers coherent solutions for a range of interoperability problems. 
</p>
<h3>1.1.1: Roadmap</h3>
<p>
This specification has the following parts: 
</p>
<ul>
<li>Background: foundation infrastructure for implementing resources (<a href="#xml">XML rules (&sect;1.2)</a>, <a href="#datatypes">data types (&sect;1.3)</a>, <a href="#terminologies">terminology basics (&sect;1.5)</a>,
   <a href="#extensibility">extensibility rules (&sect;1.6)</a>, and a <a href="#constraint">conformance infrastructure (&sect;1.7)</a>). </li>
<li>Exchange: actual schemes for exchanging resources  (<a href="#http">HTTP RESTful protocol (&sect;2.3)</a>, <a href="#messaging">Messaging (&sect;2.5)</a> and <a href="#documents">Documents (&sect;2.8)</a>, along with a <a href="#implementation">general implementation resources page (&sect;2.1)</a>)</li>
<li>Administrative Resources: basic resources encountered throughout the healthcare process </li>
<li>Basic Clinical Components: Core reusable clinical resources that are encountered in most clincal practice</li>
<li>etc</li>
</ul>
<p>The contents of this specification are navigated using the right-hand side bar.
</p>
<h3>1.1.2: Resources</h3>
<p>
All resources have the following parts:
</p>
<ul class="dense">
 <li>A master id that is never changed</li>
 <li>Structured Data - the formal representation of the resource in a computable fashion</li>
 <li>Extensibility section - additional data not defined by HL7</li>
 <li>Text Representation - a human readable fall back presentation</li>
</ul>
<p>
Because the master resource id is never changed or reused, resources may refer to other 
resources by the master id knowing that this is stable reference. While each resource 
can be read and/or changed without explicit reference to these other 
resources, the presence of these references influences the behaviour 
of the system: implementations are required to maintain system and data
integrity at all times.
</p>
<p>
The exchange specifications are simple and straight forward
and based around a direct description of the XML representation of the 
resource. Each resource is described separately, though there are 
some common data patterns used across all the resources (called &quot;<a href="#datatypes">data types (&sect;1.3)</a>&quot;).
</p>
<p>
For each resource, this specification defines 
</p>
<ul class="dense">
<li> scope and meaning of the resource </li>
<li> semantics and business implications of the resource</li>
<li> the XML content model of the resource (as XML, UML, and schema)</li>
</ul>
<p>
In addition to the simple XML definitions, a W3C XML schema and 
UML class diagram are available for each resource. The UML
class diagram represents the same logical model as the XML format (though 
because of UML issues, implementors should not expect software built from the 
UML models to be automatically interoperable or conformant with the XML defined
in this specification).
</p>
<p>
Each xml element (or matching UML class, attribute and 
composition association) has a formal definition that includes 
a definition, statement of requirements, additional comments, 
a mapping to the v3 RIM, and an indicative v2 mapping.
</p>
<p>
In addition, for each resource, some RESTful specific features are described:
</p>
<ul class="dense">
<li> the relative URL for RESTful implementations derived from the id, the type, and
a local base URL</li>
<li> transactions specfically associated with the resource</li>
<li> additional search parameters specifically associated with the resource</li>
</ul>
<p>
Each resource supports the same list of transactions - read, update, delete,
etc. One particularly important transaction supported by every resource type is
the provision of a conformance statement which specifies what parts of the defined
content model are supported by the system, and what other transactions or interactions
are supported. If any of the other interactions are supported, 
the conformance interaction must be supported. (i.e. if the 
conformance interaction returns an error, no operations are 
supported).
</p>



 
    
    
</div><div><a name="xml"> </a>






<h2>1.2: Resource XML</h2>

<p>
In this specification, resources are described in a simple
XML format. This page documents how the XML content for resources is described
and controlled. The XML may be validated by schema, and schemas are provided, but 
validation is not required in operational systems (though the XML must always be 
valid against this specification). In addition, W3C Schema and UML models are 
provided that may be a useful aid for system implementation.
</p>

<h3>1.2.1: XML Content Models</h3>
<p>
All the content model definitions provided in this specification follow the same general pattern:
</p>
<pre>
 &lt;<b>name</b> xmlns=&quot;...&quot;&gt; 
   &lt;<b>nameA</b>&gt; <font color="red">opt</font> <font color="Darkgreen">type</font> <font color="Navy">description of content</font> &lt;nameA&gt;
   &lt;<b>nameB</b>&gt; <font color="red">mand</font> <font color="darkgreen">type</font> <font color="Brown"><b>Zero+</b></font> <font color="Navy">description</font> &lt;/nameB&gt;
   &lt;<b>nameC</b>&gt; <font color="Brown">&lt;!-- <b>One+</b> --&gt;</font>
     &lt;<b>nameD</b> <font color="red">mand</font> <font color="darkgreen">type=&quot;?&quot;</font>&gt;<font color="navy">Relevant records</font> &lt;/nameD&gt;
   &lt;/nameC&gt;
 &lt;name&gt;
</pre>
<p>
Notes:
</p>
<ul>
 <li>The XML character set is always unicode. Specifying the character encoding is optional but recommended. Any encoding that is round trip compatible with unicode is allowed</li>
 <li>All the XML is in the namespace <a href="http://www.hl7.org/fhir">http://www.hl7.org/fhir</a>, which is usually specified as the default namespace on the root element (except for XHTML discussed below)</li>
 <li>The elements are assigned types. All the types are defined in <a href="#datatypes">the data types (&sect;1.3)</a> except for &quot;Resource&quot; and &quot;Narrative&quot; that are documented below. The type names are hyperlinked.</li>
 <li>In addition, elements have a control flag shown in red, that specifies whether the element must be present, is optional or may be marked as not present. This is explained below. The control flags are hyperlinked to their definitions.</li>
 <li>Unless specified otherwise, by the appearance of Zero+ or One+, an element can only appear once. If an element that can repeat is labelled as <font color="Brown"><b>Zero+</b></font> <font color="red">mand</font>, that means that any element that appears is mandatory </li>
 <li>In the Resource definitions, each element name is also a hyperlink to the formal definition of the element in the data dictionary that underlies the exchange formats.</li>
 <li>Any of the XML elements may have an xml id attribute to serve as the target of an reference.</li>
</ul>
<a name="xml.metadata"/>
<p>
Every resource contains the following common elements:
</p>
<pre>
&lt;<a title="A Resource Definition for FHIR" class="dict" href="#xml.Resource"><b>[Name]</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#xml.Resource"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first. Never changes after creation</font>&lt;/id&gt;
  &lt;<a title="See Extensions" class="dict" href="#extensibility"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of resource, for human interpretation" class="dict" href="#xml.Narrative"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#xml.Narrative">Narrative</a></font> <font color="navy">Text summary of resource, for human interpretation</font>&lt;/text&gt;
&lt;/[Name]&gt;
</pre>
<p>
The <i>id</i> element is always mandatory except in the case that a resource is posted to a server to create it, 
and the id of the resource is not yet known. In this case, the id element is absent. The use of the id 
element is <a href="#xml.Resource">discussed further below (&sect;1.2.4)</a>. The use of the <i>extensions</i> element is 
<a href="#extensibility">discussed under &quot;Extensibility&quot; (&sect;1.6)</a>. The text (&quot;Narrative&quot;) is <a href="#xml.Narrative">discussed below (&sect;1.2.3)</a>. 
In addition to these data elements, there are several pieces of metadata about a resource that are not part of the resource
content, but are delegated to the infrastructure:
</p>
<table class="grid">
  <tr><th>Metadata Item</th><th>Type</th><th>Usage</th></tr>
  <tr><td>Version Id</td><td><a href="#datatypes.id">id</a></td><td>Changed each time the content of the resource changes. Can be referenced in a resource reference (see below). Can be used to ensure that updates are based on the latest version of the resource</td></tr>
  <tr><td>Last Modified Date</td><td><a href="#datatypes.dateTime">dateTime</a></td><td>Change each time the content of the resource changes. Can be used by a system or a human to judge the currency of the resource content</td></tr>
  <tr><td>Master Location</td><td><a href="#datatypes.uri">uri</a></td><td>Reports the location of the master for the resource. Useful when a resource is re-used by another system - it can report the location of the master should any system need to know this.</td></tr>
</table>
<p>
In any environment where the resources are used, the technical details of the delegation will have to be resolved. For further details, see <a href="#implementation">Implementation Details (&sect;2.1)</a>.
</p>


<a name="xml.dataAbsentReason"/>
<h3>1.2.2: dataAbsentReason &amp; Control Flags </h3>
<p>
Data Quality - or the lack thereof- is a ubiquitious issue in healthcare. In order to handle this, 
every element defined as part of a resource data structure may have a dataAbsentReason 
attribute, which is used to specify why the normally expected content of the data element is missing. 
</p>
<p>
<pre>
 &lt;<b>x</b> dataAbsentReason=&quot;&quot;/&gt;
</pre> 
</p>
<p>
 The <i>dataAbsentReason</i> attribute can have one of the following values:
</p>
<table class="codes">
 <tr><td>unknown</td><td>The value is not known</td></tr>
 <tr><td>&nbsp;&nbsp;asked</td><td>The source human does not know the value</td></tr>
 <tr><td>&nbsp;&nbsp;temp</td><td>There is reason to expect (from the workflow) that the value may become known</td></tr>
 <tr><td>&nbsp;&nbsp;notasked</td><td>The workflow didn't lead to this value being known</td></tr>
 <tr><td>masked </td><td>The information is not available due to security, privacy or related reasons</td></tr>
 <tr><td>unsupported  </td><td>The source system wasn't capable of supporting this element</td></tr>
 <tr><td>astext  </td><td>The content of the data is represented as text (see below)</td></tr>
 <tr><td>error        </td><td>Some system or workflow process error means that the information is not available</td></tr>
</table>
<p> 
Notes: 
</p>
<ul>
<li>Using &quot;masked&quot; may be breach of security or confidentiality, but there are times when it's use
   is required to support alternate workflows for gaining access to denied information.</li>
<li>If the <i>dataMissingReason</i> attribute is present, the element may still have additional content from it's definition. Usually this is where the contained elements define what data is missing.</li>
<li>Systems are not required to process any provided data when a <i>dataAbsentReason</i> is present, except as described in their <a href="#constraint">conformance statement (&sect;1.7)</a>.</li>   
<li>The <i>dataAbsentReason</i> attribute cannot be used inside the data types, nor can it be used in the <i>text</i> portion of a resource, nor inside an <i>extension</i> block (with the exception of the <i>value</i> of the extension)</li>
</ul>
<a name="xml.Control"/>
<p> 
Every element has a control flags which is used to control the degree to which missing or poor quality data
is tolerated on a per element basis. The control flag must have one of the following values:
</p>
<table class="codes">
 <tr><td><font color="red">mand</font></td><td>The element must be present, and must be populated with correct data. i.e. Resource.id. No <i>dataAbsentReason</i> is allowed.</td></tr>
 <tr><td><font color="red">req</font></td><td>The element must be present, but may have a <i>dataAbsentReason</i> (todo: when would this be used?)</td></tr>
 <tr><td><font color="red">cond</font></td><td>The element may not be present, but if it is, may not have a dataAbsentReason. The condition must be explained in the notes that follow the definition</td></tr>
 <tr><td><font color="red">opt</font></td><td>The element doesn't have to be present. If it is present, it might have a dataAbsentReason. If the normal structure can be replaced with text, it might be.</td></tr>
</table> 
<hr/>

<img src="base.png"/>
<a name="xml.Narrative"/>
<h3>1.2.3: Narrative</h3>
<p>
Every resource includes a human readable narrative that contains a summary of the resource, 
and may be used to represent the content of the resource to a human. The narrative need 
not encode all the structured data, but is required to contain sufficient detail to make 
it &quot;clinically safe&quot; for a human to just read the narrative. Each resource will define 
what content must be represented in the narrative to ensure clinical safety
</p>
<p>
The narrative for a resource is allowed to contain additional information that is not in 
the structured data, including human edited content. Such additional information must be 
in the scope of the definition of the resource.
</p>
<p>
Each narrative has a flag that specifies the relationship of the narrative from the 
structured data, which may have one of the following codes:
</p>
<table class="codes">
 <tr><td><font>generated</font></td><td>The contents of the narrative are entirely generated from the structured data in the resource.</td></tr>
 <tr><td><font>extensions</font></td><td>The contents of the narrative are entirely generated from the structured data in the resource, and some of the structured data is contained in extensions</td></tr>
 <tr><td><font>additional</font></td><td>The contents of the narrative contain additional information not found in the structured data</td></tr>
</table> 
<p>
In addition to this general flag that specifies the status of the narrative, there is an optional mapping between the 
narrative and the structured data. Each mapping has narrative id, and structured data id which map to xml:id attributes 
found in the narrative and the structured data respectively, and a flag for whether the text was generated from the 
data, or the data was generated from the text (by some form of retrospective processing, whether human or computer), 
or whether both come from an external source. The structured data target may be an empty element with a dataAbsentReason
of &quot;astext&quot;; this means that the value of the text could not be properly represented in the data type. Any element defined as part of the resource content,
or any repeating element inside a data type, may carry an id attribute to serve as the target of a narrative mapping. When using xml:id attributes, 
<a href="#atom.Aggregation">the comments in the aggregation section (&sect;2.2)</a> about the value of the xml:id attribute should be kept in mind.
</p>
<p>
The narrative is an xhtml fragment that also includes images if appropriate:
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>status</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">generated | extensions | additional</font>&lt;/status&gt;
  &lt;<b>div</b> xmlns=&quot;http://www.w3.org/1999/xhtml&quot;<a class="cf" href="#xml.Control">mand</a> <font color="navy">limited xhtml content</font>&lt;/div&gt;
  &lt;<b>image</b>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<b>mimeType</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">mime type of image</font>&lt;/mimeType&gt;
   &lt;<b>content</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.base64Binary">base64Binary</a></font> <font color="navy">base64 image data</font>&lt;/content&gt;
  &lt;/image&gt;
  &lt;<b>map</b>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<b>text</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#xml:ID.xml:ID">xml:ID</a></font> <font color="navy">Narrative source (xml:id)</font>&lt;/text&gt;
   &lt;<b>data</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#xml:ID.xml:ID">xml:ID</a></font> <font color="navy">Data source (xml:id)</font>&lt;/data&gt;
   &lt;<b>source</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">text | data</font>&lt;/source&gt;
  &lt;/map&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Narrative.status is  bound to the concept domain <i>NarrativeStatus</i>: &quot;The status of a resource narrative&quot;. Possible values:
    <table class="codes">
    <tr><td>generated</td><td colspan="2">The contents of the narrative are entirely generated from the structured data in the resource.</td></tr>    <tr><td>extensions</td><td colspan="2">The contents of the narrative are entirely generated from the structured data in the resource, and some of the structured data is contained in extensions</td></tr>    <tr><td>additional</td><td colspan="2">The contents of the narrative contain additional information not found in the structured data</td></tr>    </table>
  </li>
  <li>Narrative.image.mimeType is  bound to the concept domain <i>MediaType</i>: &quot;The mime type of an attachment&quot;. The possible values are those specified in <a target="_blank" href="http://www.rfc-editor.org/bcp/bcp13.txt">BCP 13 (RFCs 2045, 2046, 2047, 4288, 4289 and 2049)</a></li>
  <li>Narrative.map.source is  bound to the concept domain <i>NarrativeMapSource</i>: &quot;Which is the source in a Narrative &lt;-&gt; Data mapping&quot;. Possible values:
    <table class="codes">
    <tr><td>text</td><td colspan="2">The text is the original data</td></tr>    <tr><td>data</td><td colspan="2">The data is the original data</td></tr>    </table>
  </li>
</ul>




<p>
The status is required when the narrative is the full resource narrative, but not required in resource references (see below).
</p>
<p>
The contents of the <i>xhtml</i> 
element are an XHTML fragment containing only the basic html formatting elements described in 
chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, &lt;a&gt; elements (either name or href),
images, and internally contained stylesheets. The XHTML content may not contain
a head, a body element, external stylesheet references, scripts, forms, base/link/xlink, frames, iframes,
and objects. Technically, the content of the text element is a union of the XHTML Schema types &quot;block&quot;, and &quot;inline&quot;, with
the additional rules above applied.
</p>
<div class="example">
<pre>
  &lt;narrative&gt;
    &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;This is a simple 
          example with only plain text&lt;/div&gt;
  &lt;/narrative&gt;
   
  &lt;narrative&gt;
   &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
     &lt;p&gt;
       This is an &lt;i&gt;example&lt;/i&gt; with some &lt;b&gt;xhtml&lt;/b&gt; formatting.
     &lt;/p&gt;
   &lt;/div&gt;
  &lt;narrative&gt;
</pre>
</div>
<p>
An additional address scheme is defined for use within the xhtml for image location:
</p>
<pre>
  &lt;img src=&quot;fhir:#45&quot;/&gt;
</pre>
<p>
This is a reference to an id attribute on an element in the same resource, either in the image attachments on the text element 
directly, or an element of type &quot;<a href="#datatypes.Attachment">Attachment (&sect;1.3.4)</a>&quot;.
</p>
<div class="example">
<pre>
  &lt;narrative&gt;
    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
      &lt;p&gt;
        &lt;img src=&quot;fhir:#a1/&gt;.
      &lt;/p&gt;
    &lt;/html&gt;
    &lt;image id=&quot;a1&quot;&gt;
      &lt;mimeType&gt;image/png&lt;/mimeType&gt;
      &lt;data&gt;MEKH....SD/Z&lt;/data&gt;
    &lt;/image&gt;
  &lt;narrative&gt;
</pre>
</div>

<p>
Applications processing the html should always be able to strip external images
(images not using the alternative &quot;fhir&quot; scheme above), and still be able to present 
the information correctly to a human reader (since these images are not part of the 
resource, their presence cannot be assured). Additionally, applications processing 
the html should always be able to strip the HTML tags completely (correcting for 
implicit paragraph elements such as headers) and still be clinically safe (so where internal
images are used, they must include an appropriate caption).
</p>
<p>
The <i>dataAbsentReason</i> is not used on the narrative element, or any elements 
contained in it. The xhtml element must have some non-whitespace content.
</p>
<a name="xml.Resource"/>
<h3>1.2.4: Resource References</h3>
<p>
The &quot;Resource&quot; type indicates a reference from one resource to another.
Since each resource is identified by a master id that never changes (a different id implies a different resource),
references are done by id.
</p>
<pre>
  &lt;x&gt;
    &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#terminologies.resourcetypes">ResourceType</a></font> <font color="navy">Resource Type</font>&lt;/type&gt;
    &lt;<b>id</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Id of the reference</font>&lt;/id&gt;
    &lt;<b>version</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.id">id</a> </font><font color="navy">Specific version Id of resource referenced</font>&lt;/version&gt;
    &lt;<b>text</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Text alternative for the resource</font>&lt;/text&gt;
  &lt;/x&gt;
</pre>
<p>
The resourceType type is the name of one of the resources defined in this specification, such as &quot;Patient&quot;. Whether or not the type of 
the resource is fixed for a particular element, the reference includes the resource type (this is to assist with future prooting 
the specification).
</p>
<p>
A specific version of the resource may be referenced by specifying a version Id in addition to the resource identifier. The 
version identifier is only known to be unique in the context of a given resource, so the resource Id is always required. 
Note that locating and retrieving a particular version of a resource is implementation specific, like accessing the latest version of the resource.
</p>

<div class="example">
<pre>
  &lt;id&gt;
    &lt;type&gt;Patient&lt;/type&gt;
    &lt;id&gt;034AB16&lt;/id&gt;
  &lt;id&gt;
</pre>
</div>
<p>
The <a href="#datatypes.id">id</a> type can take one of the following forms:
</p>
<table class="list">
  <tr><td>A whole number in the range 0 to 2^64-1. May be represented in hex</td></tr>
  <tr><td>A uuid (guid) (in lowercase, without wrapping with the characters &quot;{}[]&quot; which sometimes occur)</td></tr>
  <tr><td>An ISO OID (reference)</td></tr>
  <tr><td>Any other combination of letters, numerals, &quot;-&quot; and &quot;.&quot;</td></tr>
  <tr><td/><td/></tr>
</table>
<p>
Resource ids must be represented in lowercase. Ids are always opaque, and systems should not and need not attempt to determine 
their internal structure. However the id is represented, it must always be represented in the same way in resource references and URLs.
</p>
<p>
Some narrative may be provided that describes the resource in addition to the resource reference (or in place of, unless the 
resource reference is mandatory).
</p>
<div class="example">
<pre>
  &lt;id&gt;
    &lt;type&gt;Organisation&lt;/type&gt;
    &lt;id&gt;1234&lt;/id&gt;
    &lt;text&gt;HL7, Inc&lt;/text&gt;
  &lt;id&gt;
</pre>
</div>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the resource reference element has a dataAbsentReason flag, it must contain 
a valid <i>type</i> and <i>id</i>, or, if it is not mandatory, a text alternative. 
</p>
</div>

<h3>1.2.5: Inter-version Compatibility</h3>
<p>
There is no explicit version marker in the XML. Subsequent versions
of this specification may introduce new elements at any point in the 
content models, but the path or meaning of existing data elements will not be 
changed. 
</p>
<p>Given that in a typical scenario, mixed versions may need to exist, 
applications would best ignore elements that they do not recognize. However in 
a healthcare context, many application vendors are unwilling to 
consider this approach because of concerns about clinical risk. 
Applications are not required to ignore unknown elements, but must
declare whether they will do so in their conformance statements.
</p>

<h3>1.2.6: XML Schema</h3>
<p>
This specification provides schema definitions for all the content models described here. 
The base schema is called &quot;<a href="fhir-base.xsd">fhir-base.xsd</a>&quot; and defines all the 
datatypes and also the base infrastructure types described on this page. In addition, there 
is a schema for each resource, and a common schema <a href="fhir-all.xsd">fhir-all.xsd</a>
that includes all the resource schemas.
</p>
<p>
XML that is exchanged must be valid against the schema, though there is no requirement to
validate instances against the schema, nor is being valid against the schema sufficient 
to be a conformant instance (this specification makes many rules that cannot be checked 
by schema). Exchanged content must not specify the schema or even the schema instance 
namespace in the resource XML. 
</p>
<p>
Should schema based validation or code generation be of interest, applications can define their own
schemas that more closely match the working content mode given their conformance statement. These 
schemas can eliminate elements not used by the application, and explicitly define extensions that 
are used. However the xml format they describe must be consistent with the XML and rules 
defined in this specification. 
</p>

<a name="xml.json"/>
<h3>1.2.7: JSON Format</h3>
<p>
Though the formal representation of the resources is in XML, many systems wish to use JSON to exchange the resources, and it is useful to standardise a single JSON format for this use. 
The JSON format for the resources follows the standard XML format closely:
</p>
<pre>
 &lt;<b>name</b> xmlns=&quot;...&quot;&gt; 
   &lt;<b>nameA</b>&gt; <font color="red">opt</font> <font color="Darkgreen">type</font> <font color="Navy">description of content</font> &lt;nameA&gt;
   &lt;<b>nameB</b>&gt; <font color="red">mand</font> <font color="darkgreen">type</font> <font color="Brown"><b>Zero+</b></font> <font color="Navy">description</font> &lt;/nameB&gt;
   &lt;<b>nameC</b>&gt; <font color="Brown">&lt;!-- <b>One+</b> --&gt;</font>
     &lt;<b>nameD</b> <font color="red">mand</font> <font color="darkgreen">type=&quot;?&quot;</font>&gt;<font color="navy">Relevant records</font> &lt;/nameD&gt;
   &lt;/nameC&gt;
 &lt;name&gt;
</pre>
<p>
is represented in JSON as 
</p>
<pre>
{&quot;name&quot;:
  &quot;nameA&quot; : {...},
  &quot;nameB&quot; : 
    [
      {...},
      {...}
    ],
  &quot;nameC&quot; :  
    [
      { &quot;nameD&quot; : {...} }
    }
}
</pre>
<p>Notes:</p>
<ul>
 <li>There is no namespaces in the JSON representation</li>
 <li>The names are the same, including for elements that may repeat. This means that queries written against the XML form can also be executed against the JSON form (though there seems to be no general XPath for JSON implementation)</li>
 <li>The xml attributes <i>id</i> (xml:id) and <i>dataAbsentReason</i> become JSON object attributes with the names &quot;id&quot; and &quot;dataAbsentReason&quot;; they come in that order before other defined elements</li>
 <li>In the data types, the value representations for <a href="#datatypes.primitive">primitive types (&sect;1.3.1)</a> such a string, decimal etc are identical between the XML and the JSON form</li>
 <li>Items that can repeat are represented as arrays even if they do not repeat in the actual instance</li>
 <li>JSON property attributes never have empty values; omit a value if it is empty (same as for the xml)</li>
 <li>The XHTML &lt;div&gt; element is represented as a single escaped string of XHTML</li>
 <li>The last two items means that a generic XML -&gt; JSON converter will not be able to perform a correct conversion. The reference platforms provide XML &lt;--&gt; JSON conversion functionalty</li>
</ul>

<a name="xml.objects"/>
<h3>1.2.8: Object Models</h3>
<p>
In addition to the schema, this specification also provides object
models defined in UML that may be of assistance in defining systems 
that work with the resources defined here.
</p>
<p>
Although the UML models provided express the same contents as the 
xml formats, because of the wide variation in how different architectures and 
tools map from UML to XML, there should be no expectation that any particular
tool will produce compatible XML from these UML diagrams. Systems are welcome
to use these object models as a basis for serialization internally, or even
between trading partner systems, with any form of exchange technology (including 
JSON). Systems that use this form of exchange cannot claim to be conformant 
with this specification, but can describe themselves as using &quot;FHIR consistent
object models&quot;.
</p>



    
</div><div><a name="datatypes"> </a>




<h2>1.3: Data Types</h2>

<p>
The data types include primitive types imported from XML schema,
and also additional data types that capture patterns that are 
ubiquitious throughout the scope of the healthcare data that will
be exchanged.
</p>
<p align="center"><img height="408" width="450" src="dt-map.png"/></p>
<p>
The data types defined on this page on this page are categorised as either &quot;Core Types&quot; or &quot;Structures&quot;. 
&quot;Structures&quot; are higher level concepts that some systems internally treat differently from the &quot;Core Types&quot;. 
There is no functional difference betweent the two categories, and systems are not required to treat them 
any differently. This table summarises the types:
</p>
<table class="grid">
<tr><td colspan="3">Core Types</td><td colspan="2">Structures</td></tr>
<tr><td><a href="#datatypes.Attachment">Attachment (&sect;1.3.4)</a></td>             <td><a href="#datatypes.Identifier">Identifier (&sect;1.3.5)</a></td>  <td><a href="#datatypes.Interval">Interval (&sect;1.3.9)</a></td> <td><a href="#datatypes.HumanId">HumanId (&sect;1.3.12)</a></td> <td><a href="#datatypes.Contact">Contact (&sect;1.3.15)</a></td></tr>
<tr><td><a href="#datatypes.CodeableConcept">CodeableConcept (&sect;1.3.6)</a></td>       <td><a href="#datatypes.Quantity">Quantity (&sect;1.3.8)</a></td>  <td><a href="#datatypes.Ratio">Ratio (&sect;1.3.10)</a></td>   <td><a href="#datatypes.HumanName">HumanName (&sect;1.3.13)</a></td>       <td/></tr>
<tr><td><a href="#datatypes.Coding">Coding (&sect;1.3.6.1)</a></td> <td><a href="#datatypes.Choice">Choice (&sect;1.3.7)</a></td>    <td/>                   <td><a href="#datatypes.Address">Address (&sect;1.3.14)</a></td> <td><a href="#datatypes.Schedule">Schedule (&sect;1.3.16)</a></td></tr>
</table>
<a name="datatypes.primitive"/>
<h3>1.3.1: Primitive Types</h3>
<p>
<img src="dt1.png"/>
</p>
<p>
The following table summarises the primitive types that 
are used in the exchange specifications. The posssible values for these types are those specified in the W3C Schema specification part 2.
</p>
<table class="list">
 <tr><td><a name="datatypes.boolean"/>boolean</td><td>values can be true or false</td></tr>
 <tr><td><a name="datatypes.integer"/>integer</td><td>A whole number (32 bit number; for values larger than this, use decimal)</td></tr>
 <tr><td><a name="datatypes.decimal"/>decimal</td><td>A rational number. Do not use a IEEE type floating point type, instead use something that works like a true decimal, with inbuilt precision (i.e. Java BigInteger)</td></tr>
 <tr><td><a name="datatypes.base64Binary"/>base64Binary</td><td>A stream of bytes, base64 encoded</td></tr>
 <tr><td><a name="datatypes.instant"/>instant</td><td>An instant in time - known at least to the second. Note: For system times, not human times (see below). Timezone is always required</td></tr>
 <tr><td><a name="datatypes.string"/>string</td><td>Unicode. Note that FHIR strings may not exceed 1MB in size</td></tr>
 <tr><td><a name="datatypes.uri"/>uri</td><td>Ref to W3C spec</td></tr>
 <tr><td/><td/></tr>
</table>
<p>
Implementations that convert the xml described in this specification to other formats such as 
JSON or some object based notation will have to find equivalent types.
</p>
<a name="datatypes.strings"/>
<h3>1.3.2: String Patterns</h3>

<p>
In addition to these assumed primitive types, this specification define a few simple
string patterns that are commonly used:
</p>

<table class="list">
 <tr><td><a name="datatypes.code"/>code</td><td>a string which has at least one character and no whitespace</td></tr>
 <tr><td><a name="datatypes.oid"/>oid</td><td>An ISO oid [ref ISO std]</td></tr>
 <tr><td><a name="datatypes.uuid"/>uuid</td><td>A UUID [ref DEC std]. Sometimes called a GUID. Always represented in lowercase</td></tr>
 <tr><td><a name="datatypes.sid"/>sid</td><td>A system id, which is a uri taken from the list of <a href="#terminologies.codesystems">known definition systems (&sect;1.5.1)</a>. sid values never contain a '#'</td></tr>
 <tr><td><a name="datatypes.id"/>id</td><td>A whole number in the range 0 to 2^64-1, optionally represented in hex, a uuid, an oid, or any other combination of letters, numerals, &quot;-&quot; and &quot;.&quot;, with a length limit of 36 characters</td></tr>
 <tr><td><a name="datatypes.date"/>date</td><td>A date, or partial date (e.g. just year or year + month). There is no timezone. 
   The format is a union of the schema types gYear, gYearMonth, and date.</td></tr>
 <tr><td><a name="datatypes.dateTime"/>dateTime</td><td>A date, date-time or partial date (e.g. just year or year + month). Generally, there is no timezone, though one may be 
   populated if hours and minutes are specified. The format is a union of the schema types gYear, gYearMonth, date, and dateTime. Seconds may be provided but may also be ignored.</td></tr>
</table>

<div class="example">
<p><b>Examples</b></p>
<p>date (e.g. Date of birth):</p>
<pre>
  &lt;x&gt;1951-06-04&lt;/x&gt;
</pre>
</div>

<hr/>
<h3>1.3.3: Types</h3>
<p>
<img src="dt2.png"/>
</p>
<a name="datatypes.Attachment"/>
<h3>1.3.4: 
Attachment
</h3>
<p>
This type is for referring to data content defined in other formats.
The most common use of this to include images or reports in 
some report format such as PDF, but it can be used for any 
data that has a mime type.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>mimeType</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">the mime type of the content</font>&lt;/mimeType&gt;
  &lt;<b>data</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.base64Binary">base64Binary</a></font> <font color="navy">data inline, base64ed</font>&lt;/data&gt;
  &lt;<b>url</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">uri where the data can be found</font>&lt;/url&gt;
  &lt;<b>hash</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.base64Binary">base64Binary</a></font> <font color="navy">sha-256 hash of the data (base64 )</font>&lt;/hash&gt;
  &lt;<b>lang</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">ISO 639-3 language code</font>&lt;/lang&gt;
  &lt;<b>title</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">A name to display in place of the data</font>&lt;/title&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Attachment.mimeType is  bound to the concept domain <i>MediaType</i>: &quot;The mime type of an attachment&quot;. The possible values are those specified in <a target="_blank" href="http://www.rfc-editor.org/bcp/bcp13.txt">BCP 13 (RFCs 2045, 2046, 2047, 4288, 4289 and 2049)</a></li>
  <li>Attachment.lang is  bound to the concept domain <i>Language</i>: &quot;A human language&quot;. The possible values are those specified in <a target="_blank" href="http://www.sil.org/iso639-3/codes.asp">ISO 639-3</a></li>
</ul>


<p>
The <i>mimeType</i> element must always be populated. The actual content of the 
Attachment can be conveyed directly using the <i>data</i> element,
or a <i>url</i> reference can be provided. If both are provided, they must 
point to the same content. The reference can never be reused to point to
different data (which means that the reference is version specific). The
<i>url</i> reference must point to a location that resolves to actual data; some
uri's such as cid: meet this requirement.
</p>
<p>
The <i>hash</i> is included so that applications can verify that the contents
of a location have not changd, and also so that a signature of the xml content can 
implicitly sign the content of an image without having to include the data 
or reference the url in the signature. The <i>lang</i> element can help a 
consumer choose between multiple different Data elements.
</p>
<p>
In many cases where Attachment is used, the cardinality is &gt;1; repeats
are used to convey the same content in different mime types and languages,
or to provide a thumbnail of a large image.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Attachment element has a dataAbsentReason flag, it must contain 
a <i>data</i> or a <i>url</i>. If neither <i>data</i> nor a <i>url</i> 
is provided, the value should be understood as an assertion that no content for 
the specified <i>mimeType</i> and/or <i>lang</i> is available for the reason stated.
</p>
<p>
The context of use may frequently make rules about the kind of attachment
(and therefore, the kind of mime types) that can be used.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A PDF document:</p>
<pre>
  &lt;x&gt;
   &lt;mimeType&gt;application/pdf&lt;/mimeType&gt;
   &lt;data&gt;/9j/4...KAP//Z&lt;/data&gt; &lt;!-- covers many lines --&gt;
   &lt;lang type=&quot;code&quot;&gt;en-us&lt;/lang&gt;
   &lt;title type=&quot;string&quot;&gt;Definition of Procedure&lt;/title&gt;
  &lt;/x&gt;
</pre>
<p>A reference to a DICOM image:</p>
<pre>
  &lt;x&gt;
   &lt;mimeType&gt;application/dicom&lt;/mimeType&gt;
   &lt;url&gt;http://10.1.2.3:1000/wado?requestType=WADO&amp;wado details...&lt;/url&gt;
   &lt;hash&gt;&gt;EQH/..AgME&lt;/hash&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="datatypes.Identifier"/>
<h3>1.3.5: 
Identifier
</h3>
<p>
An identifier defined by some external system.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>system</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">The system that defines the id</font>&lt;/system&gt;
  &lt;<b>id</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">the actual identifier</font>&lt;/id&gt;
&lt;/x&gt;
</pre>



<p>
The <i>system</i> may be either a specific application, or a recognised
concept for which the specific application may be implicit. 
The system is a URI that 
may be an OID (oid:) or a UUID (uuid:), a sid (a specially defined URI from <a href="#terminologies.codesystems"> the named systems list (&sect;1.5.1)</a>),
or a URL that references a definition of the identifier. 
OIDs and UUIDs may be registered in the HL7 OID registry, and should be if the content is shared or exchanged across institutional boundaries.
</p>
<p>
In some cases, the system may not be known - only the id is known (i.e. a simple device that scans a barcode). 
In this case, no useful matching may be perfomed using the id unless the system can be safely inferred by the context. 
</p>
<p>
Note that the <i>system</i> defines the scheme that controls uniqueness of the <i>id</i>. 
The <i>id</i> must be unique for within the defined <i>system</i>. If the <i>id</i> itself 
is actually an OID, a UUID, or a URI, then the <i>system</i> will be either &quot;urn:hl7-org:sid/oid&quot;, 
&quot;urn:hl7-org:sid/uuid&quot; or &quot;urn:hl7-org:sid/uri&quot; respectively, and the OID, UUID would be in the <i>id</i> 
element. Ids are always case sensitive. UUIDs must be represented in lower case.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Identifier element has a dataAbsentReason flag, it must contain 
a an <i>id</i>. If the Identifier element is marked as mandatory, it must 
contain a <i>system</i>.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A primary key from an application table (an OID in the space allowcated by HL7
to some organisation to further sub-allocate):</p>
<pre>
  &lt;x&gt;
   &lt;system&gt;oid:2.16.840.1.113883.16.4.3.2.5&lt;/system&gt;
   &lt;id&gt;123&lt;/id&gt;
  &lt;/x&gt;
</pre>
<p>An identifier of a resource defined by this specification, on a particular system:</p>
<pre>
  &lt;x&gt;
   &lt;system&gt;http://pas-server/xxx/patients&lt;/system&gt;
   &lt;id&gt;443556&lt;/id&gt;
  &lt;/x&gt;
</pre>
<p>A guid:</p>
<pre>
  &lt;x&gt;
   &lt;system&gt;urn:hl7-org:sid/uuid&lt;/system&gt;
   &lt;id&gt;a76d9bbf-f293-4fb7-ad4c-2851cac77162&lt;/id&gt;
  &lt;/x&gt;
</pre>
</div>


<a name="datatypes.CodeableConcept"/>
<h3>1.3.6: 
CodeableConcept
</h3>
<p>
A CodeableConcept represents a represents a field that is usually defined by formal reference to one or more terminologies or ontologies, but may also be defined by the provision of text.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>coding</b>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font>  <font color="Gray">&lt;!-- A reference to a code defined by a terminology system  --&gt;</font>
   &lt;<b>code</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Symbol in syntax defined by the system</font>&lt;/code&gt;
   &lt;<b>system</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Identity of the terminology system </font>&lt;/system&gt;
   &lt;<b>display</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Representation defined by the system</font>&lt;/display&gt;
  &lt;/coding&gt;
  &lt;<b>text</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">A plain text representation of the concept</font>&lt;/text&gt;
  &lt;<b>primary</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#xml:ID.xml:ID">xml:ID</a></font> <font color="navy">Which code was chosen directly by the user</font>&lt;/primary&gt;
&lt;/x&gt;
</pre>



<p>
This data type has text and/or one more &quot;codings&quot; that all represent a single notional concept, 
though the multiple codings will often have slightly different granularity due to the differences 
in the definitions of the underlying codes.
Each &quot;<i>coding</i>&quot; is a representation of the concept using a symbol from a defined &quot;code system&quot;, 
which may be an enumeration, a list of codes, a full terminology such as SNOMED-CT or LOINC, 
or a formal ontology. The concept may be coded multiple times in different code systems (or even 
multiple times in the same code systems, where multiple forms are possible, such as 
with SNOMED-CT). Whether or not <i>coding</i> elements are present, the <i>text</i> 
is a human language representation of the concept as seen/selected/uttered by the user 
who entered the data, and/or which represents the intended meaning of the user or concept. 
Very often the <i>text</i> is the same as a <i>display</i> of one of the codings.
</p>
<p>
For each <i>coding</i>, there must be a <i>system</i> the identifies the 
terminology or ontology the <i>code</i> is defined by. The <i>system</i> is a URI that 
may be an OID (oid:) or a UUID (uuid:), a specially defined URI from 
<a href="#terminologies.codesystems"> the named systems list (&sect;1.5.1)</a>, or a url that references 
a definition of the system, or any other URI. OIDs and UUIDs may be registered in the HL7 OID 
registry, and should be if the content is shared or exchanged across institutional boundaries.
The <i>system</i> reference is version independent; applications are never required to process 
the content of the system URI in order to determine whether two codes are the same. 
Note though, that merely because a code/system pair is different does not mean that concept
is different - applications have to consult the ontologies or terminologies to make those kind 
of comparisons. 
</p>
<p>
If present, the <i>code</i> must be a syntactically correct symbol as 
defined by the <i>system</i>. Note that codes are case sensitive unless specified otherwise by the code system.
If no code is present, the coding means
that the concept cannot be encoded in the identified system.
The <i>display</i> is a text representation of the code that is 
defined by the <i>system</i>, which can be used to display the code by
an application that is not aware of the system. One of the codings 
may be flagged as the primary - the code that the user actually chose directly. 
If present, the value of the primary element is an ID that must match an xml:id 
on one of the codings. 
</p>

<div class="use">
<p><b>Use</b></p>
<p>
Unless the CodeableConcept element has a dataAbsentReason flag, it must contain 
at least one <i>coding</i> with a <i>code</i>, or a <i>text</i>. 
Each <i>coding</i> must contain a <i>system</i> element, and should contain a <i>display</i> if it contains a <i>code</i>.
</p>
<p>
The context of use may frequently make rules about what codings are allowed or required.
</p>
</div>
<a name="datatypes.Coding"/>
<h4>1.3.6.1: &quot;Coding&quot; Data Type</h4>
<p>
The CodeableConcept data type represents a commonly encountered pattern around the use of coding, with multiple codings and a text. 
In some circumstances, the resources and/or models that use these data types may be more prescriptive about the use of 
multiple codings, the way that the text element interacts with the codings, and/or the way that codings are derived from each other. 
In these circumstances, the &quot;Coding&quot; Data Type is used. The Coding type has the contents of the <i>coding</i> element as defined 
in the <i>CodeableConcept</i> data type.
</p>

<div class="example">
<p><b>Examples</b></p>
<p>A simple code for headache, in ICD-10, with the text on which the coding is based:</p>
<pre>
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;G44.1&lt;/code&gt;
      &lt;system&gt;urn:hl7-org:sid/icd-10&lt;/system&gt;
    &lt;/coding&gt;
    &lt;text&gt;general headache&lt;/text&gt;
  &lt;/x&gt;
</pre>
<p>A concept represented in an institutions local coding systems for which no snomed equivalent exists:</p>
<pre>
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;burn&lt;/code&gt;
      &lt;system&gt;oid:2.16.840.1.113883.19.5.2&lt;/system&gt;
    &lt;/coding&gt;
    &lt;coding&gt;
      &lt;system&gt;http://snomed.info&lt;/system&gt;
    &lt;/coding&gt;
    &lt;text&gt;Burnt ear with iron. Burnt other ear calling for ambulance&lt;/text&gt;
  &lt;/x&gt;
</pre>
<p>A Snomed-CT expression:</p>
<pre>
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;128045006:{363698007=56459004}&lt;/code&gt;
      &lt;system&gt;http://snomed.info&lt;/system&gt;
    &lt;/coding&gt;
    &lt;text&gt;Cellulitis of the foot&lt;/text&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="datatypes.Choice"/>
<h3>1.3.7: 
Choice
</h3>
<p>
A code taken from a short list of codes that are not defined in a formal code system. Choice is generally used 
for things like pain scales, questionnaires or formally defined assessment indexes. The possible codes may be 
ordered with some arbitrarily defined scale. Note: Choice is not an appropriate data type to use when the possible
codes are defined in a formal code system, such as a value set, or otherwise stord on a terminology server.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>code</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Selected code</font>&lt;/code&gt;
  &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> A list of possible values for the code --&gt;</font>
   &lt;<b>code</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Possible code</font>&lt;/code&gt;
   &lt;<b>display</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Display for the code</font>&lt;/display&gt;
  &lt;/value&gt;
  &lt;<b>isOrdered</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">If the order of the values has meaning</font>&lt;/isOrdered&gt;
&lt;/x&gt;
</pre>



<p>
The <i>code</i> is the selected value. A list of possible values must be provided; at least a code must be provided for each <i>value</i>. 
The selected code must be found in the list of possible codes. 
</p>
<p>
If isOrdered is true, then the values have an inherent meaningful order, and the list of values must be provided in the correct order.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Choice element has a dataAbsentReason flag, it must contain a <i>code</i>.
The Choice element must always contain at least one possible value.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>The results on a urinalysis strip:</p>
<pre>
  &lt;x&gt;
    &lt;code&gt;+&lt;/code&gt;
    &lt;value&gt;
      &lt;code&gt;neg&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;trace&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;+&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;++&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;+++&lt;/code&gt;
    &lt;/value&gt;
    &lt;isOrdered&gt;true&lt;/isOrdered&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="datatypes.Quantity"/>
<h3>1.3.8: 
Quantity
</h3>
<p>
A measured amount (or an amount that can potentially be measured).
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.decimal">decimal</a></font> <font color="navy">Numerical value (with implicit precision)</font>&lt;/value&gt;
  &lt;<b>status</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">how the value should be understood and represented</font>&lt;/status&gt;
  &lt;<b>units</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">unit representation</font>&lt;/units&gt;
  &lt;<b>code</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">A coded form of the unit</font>&lt;/code&gt;
  &lt;<b>system</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">The system that defines the coded form</font>&lt;/system&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Quantity.status is  bound to the concept domain <i>QuantityStatus</i>: &quot;how the Quantity should be understood and represented&quot;. Possible values:
    <table class="codes">
    <tr><td>&lt;</td><td colspan="2">The actual value is less than the given value</td></tr>    <tr><td>&lt;=</td><td colspan="2">The actual value is less than or equal to the given value</td></tr>    <tr><td>&gt;=</td><td colspan="2">The actual value is greater than or equal to the given value</td></tr>    <tr><td>&gt;</td><td colspan="2">The actual value is greater than the given value</td></tr>    </table>
  </li>
</ul>



<p>
The <i>value</i> contains the numerical value of the quantity, including an implicit precision. 
The <i>status</i> indicates how the value should be understood and 
represented. If no status is specified, the value is a point
value. The <i>status</i> element can never be ignored.
</p>
<p>
The <i>units</i> element must contain a displayable unit that defines what is measured. 
The units may additionally be coded in the <i>code</i> and the <i>system</i>, 
which is a URI, OID, or a SID that defines the code (see <a href="#datatypes.CodeableConcept">CodeableConcept (&sect;1.3.6)</a> for further information about <i>system</i>). 
</p>
<p>
If the units are able to be coded in UCUM, and a code is provided, it SHOULD be a UCUM code. 
If a UCUM unit is provided in the <i>code</i> then a canonical value can be generated for 
purposes of comparison between quantities. Note that the <i>units</i> element will often 
contain text that is actually a valid UCUM unit, but it cannot be assumed that it does. 
</p>

<div class="use">
<p><b>Use</b></p>
<p>
Unless the Quantity element has a dataAbsentReason flag, it must contain 
at a <i>value</i> and a <i>unit</i>. If a <i>code</i> is present, a <i>system</i>
is also required.
</p>
<p>
The context of use may frequently define what kind of quantity
this is, and therefore what kind of units can be used. The context 
of use may additionally require a <i>code</i> from a particular <i>system</i>.
The context of use may also restrict the values for <i>status</i>.
</p>
</div>
<h4>1.3.8.1: 
Defined Variations on Quantity
</h4>
<p>
These are used as types in resource content models, but they are really just Quantity with some rules:
</p>
<table class="list">
 <tr><td>Duration  </td><td>The unit must be an amount of time, and a UCUM unit must be provided.</td></tr>
 <tr><td>Distance  </td><td>The unit must be an amount of length, and a UCUM unit must be provided.</td></tr>
 <tr><td>Count     </td><td>The value must a whole number, and the UCUM unit must be &quot;1&quot;</td></tr>
 <tr><td>Money     </td><td>The unit must be a currency, and the code must from ISO 4217<br/>(system = &quot;urn:hl7-org:sid/iso-4217&quot;)</td></tr>
</table>

<div class="example">
<p><b>Examples</b></p>
<p>A duration:</p>
<pre>
  &lt;x&gt;
    &lt;value&gt;25&lt;/value&gt;
    &lt;unit&gt;sec&lt;/unit&gt;
    &lt;code&gt;s&lt;/code&gt;
    &lt;system&gt;urn:hl7-org:sid/ucum&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>A concentration where the value was out of range:</p>
<pre>
  &lt;x&gt;
    &lt;value&gt;40000&lt;/value&gt;
    &lt;status&gt;&amp;gt;&lt;/status&gt;
    &lt;unit&gt;mcg/L&lt;/unit&gt;
    &lt;code&gt;ug&lt;/code&gt;
    &lt;system&gt;urn:hl7-org:sid/ucum&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>An amount of prescribed medication:</p>
<pre>
  &lt;x&gt;
    &lt;value&gt;3&lt;/value&gt;
    &lt;unit&gt;capsules&lt;/unit&gt;
    &lt;code&gt;385049006&lt;/code&gt;
    &lt;system&gt;http://snomed.info&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>A price:</p>
<pre>
  &lt;x&gt;
    &lt;value&gt;25.45&lt;/value&gt;
    &lt;unit&gt;US$&lt;/unit&gt;
    &lt;code&gt;USD&lt;/code&gt;
    &lt;system&gt;urn:hl7-org:sid/iso-4217&lt;/system&gt;
  &lt;/x&gt;
</pre>
</div>



<a name="datatypes.Interval"/>
<h3>1.3.9: 
Interval
</h3>
<p>
A set of ordered values defined by a low and high limit.
</p>
<p>
An interval may be applied to <a href="#datatypes.Quantity">Quantity (&sect;1.3.8)</a>, 
<a href="#datatypes.dateTime">dateTime</a>, and <a href="#datatypes.date">date</a>. 
The context where the type is used must specify which of these 
types is used. An interval specifies a range of values; the context
of use will specify whether the entire range applies (e.g. &quot;the patient
was an inpatient of the hospital for this time range&quot;) or one value 
from the range applies (e.g. &quot;give the patient between 2 and 4 tablets&quot;).
</p>
<pre>
&lt;<a title="A set of ordered values defined by a low and high limit. The values may be of type Quantity, date, or dateTime" class="dict" href="#datatypes.Interval"><b>Interval</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="The low value. The boundary is inclusive." class="dict" href="#datatypes.Interval.low"><b>low</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#[param].[param]">[param]</a></font> <font color="navy">Low value (Text or elements from specified type)</font>&lt;/low&gt;
  &lt;<a title="The high value. The boundary is inclusive. See discussion in specification regarding how the high value boundary is interpreted for dates" class="dict" href="#datatypes.Interval.high"><b>high</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#[param].[param]">[param]</a></font> <font color="navy">High value (Text or elements from specified type)</font>&lt;/high&gt;
&lt;/Interval&gt;
</pre>



<p>
If the <i>low</i> or <i>high</i> elements are missing, the meaning
is that the low or high boundaries are not known. A 
<i>dataAbsentReason</i> flag may be used on the <i>low</i> or <i>high</i>
elements in this case. On intervals over a time period, if the <i>high</i> is missing, 
it means that the interval is current and ongoing.
</p>
<p>
If the interval applies to the <a href="#datatypes.Quantity">Quantity (&sect;1.3.8)</a> type, the <i>status</i> flag on 
the quantity cannot have the values &lt;, &lt;=, =&gt;, or &gt;. Note that the Interval type should not be 
used to represent measurements where the status flag might be used instead.
</p>
<p>
When the interval applies to a date or dateTime, the high value includes any matching date/time. 
When the interval applies to the other types, the high value is assumed to have arbitrarily high precision.
For example:
</p>
<table class="list">   
  <tr><td>1.5 to 2.5</td><td>
    includes 1.50, and 2.50 but not 1.49 or 2.51</td></tr>
  
  <tr><td>2011-05-23 to 2011-05-27 </td><td>
   includes all the times of 23rd May through to the end of the 27th May </td></tr>

</table>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Interval element has a <i>dataAbsentReason</i> flag, it must contain 
a <i>low</i> and, if it does not apply to a date or dateTime, a <i>high</i>.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Interval of Quantity (distance):</p>
<pre>
  &lt;x&gt;
   &lt;low&gt;
     &lt;value&gt;2.8&lt;/value&gt;
     &lt;unit&gt;m&lt;/unit&gt;
   &lt;/low&gt;
   &lt;high&gt;
     &lt;value&gt;4.6&lt;/value&gt;
     &lt;unit&gt;m&lt;/unit&gt;
   &lt;/high&gt;
  &lt;/x&gt;
</pre>
<p>23rd May 2011 to 27th May, including 27th May:</p>
<pre>
  &lt;x&gt;
   &lt;low&gt;
     &lt;date&gt;2011-05-23&lt;/date&gt;
   &lt;/low&gt;
   &lt;high&gt;
     &lt;date&gt;2011-05-27&lt;/date&gt;
   &lt;/high&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="datatypes.Ratio"/>
<h3>1.3.10: 
Ratio
</h3>
<p>
A ratio of two Quantity values - a numerator and a denominator.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>numerator</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a></font> <font color="navy">The numerator</font>&lt;/numerator&gt;
  &lt;<b>denominator</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a></font> <font color="navy">The denominator</font>&lt;/denominator&gt;
&lt;/x&gt;
</pre>



<p>
Common factors in the numerator and denominator are not automatically cancelled out. The Ratio data type is used for titers  (e.g.,  &quot;1:128&quot;)  and  other  quantities  produced  by  laboratories  that  truly 
represent  ratios.  Ratios  are  not  simply  &quot;structured  numerics&quot; and blood  pressure  measurements (e.g. &quot;120/60&quot;) are not ratios. In addition, ratios are used where common factors in the numerator and denominator do not 
cancel out. The most common example of this is where the ratio represents a unit cost, and the numerator is a currency.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Ratio element has a <i>dataAbsentReason</i> flag, it must contain 
a <i>numerator</i> and a <i>denominator</i>. The context of use may require 
particular types of Quantity for the numerator or denominator.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Titer (Ratio of integer:integer)</p>
<pre>
  &lt;x&gt;
   &lt;numerator&gt;
     &lt;value&gt;1&lt;/value&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value&gt;128&lt;/value&gt;
   &lt;/denominator&gt;
  &lt;/x&gt;
</pre>
<p>Unit cost (Ratio of Money:Quantity):</p>
<pre>
  &lt;x&gt;
   &lt;numerator&gt;
     &lt;value&gt;103.50&lt;/value&gt;
     &lt;unit&gt;US$&lt;/unit&gt;
     &lt;code&gt;USD&lt;/code&gt;
     &lt;system&gt;urn:hl7-org:sid/iso-4217&lt;/system&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value&gt;128&lt;/value&gt;
     &lt;unit&gt;day&lt;/unit&gt;
     &lt;code&gt;day&lt;/code&gt;
     &lt;system&gt;urn:hl7-org:sid/ucum&lt;/system&gt;
   &lt;/denominator&gt;
  &lt;/x&gt;
</pre>
</div>

<hr/>
<h3>1.3.11: Structures</h3>
<p>
<img src="dt3.png"/>
</p>
<a name="datatypes.HumanId"/>
<h3>1.3.12: HumanId</h3>


<p>An identifier that humans use. This is different to a system
identifier because identifiers that humans use are regularly changed or 
retired due to human intervention and error. Note that an 
human identifier may be a system identifier on some master 
system, but becomes a human identifier elsewhere due to how it is 
exchanged between humans. Driver's license nunmbers are a 
good example of this. Also, because human mediated identifiers
are often invoked as implicit links to external business processes,
such identifiers are often associated with multiple different resources. 
Human identifiers often have some type associated with them that is
important to allow the identifier to be picked as a basis for 
exchange elsewhere, either in other electronic interchanges, or 
paper forms.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">Code for identifier type</font>&lt;/type&gt;
  &lt;<b>identifier</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.Identifier">Identifier</a></font> <font color="navy">Actual identifier</font>&lt;/identifier&gt;
  &lt;<b>period</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">Time period when id was valid for use</font>&lt;/period&gt;
  &lt;<b>assigner</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Organisation that issued id</font>&lt;/assigner&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>HumanId.type is  bound to the concept domain <i>IdentifierType</i>: &quot;The type of human identifier&quot; (sid = urn:hl7-org:sid/fhir/identifier-type). Use one of these values if possible:
    <table class="codes">
    <tr><td>account</td><td>Account number</td><td>An identifier that is unique to an account.</td></tr>    <tr><td>credit</td><td>Credit Card Number</td><td>A credit card number (or debit card).</td></tr>    <tr><td>microchip</td><td>Microchip Number</td><td>implanted, for animals, or a worn RFID for humans</td></tr>    <tr><td>registry</td><td>A Registry Number</td><td/></tr>    <tr><td>insurance</td><td>Insurance Scheme Member Number</td><td>Identifies the person as a member of an insurance scheme.</td></tr>    <tr><td>national</td><td>National Healthcare Identifier</td><td>May not only be used for healthcare.</td></tr>    <tr><td>ssn</td><td>National Social Security Number</td><td/></tr>    <tr><td>state</td><td>State Healthcare Identifier</td><td>May not only be used for healthcare.</td></tr>    <tr><td>patient</td><td>Patient identifier</td><td>Frequently called MRN (medical record number) or UR (unit record number).</td></tr>    <tr><td>facility</td><td>Facility ID</td><td/></tr>    <tr><td>provider</td><td>Provider number</td><td>a number allocated to a person as a provider of healthcare resources.</td></tr>    </table>
  </li>
</ul>


<p>
Note that in many cases, the assigner is used to indicate what registry/state/facility etc assigned the identifier. 
Another possible source for the type of an identifier is HL7 v2 table 0203. 
</p>  
<p>
The resource elements often use HumanId for an identifier that may be an external human mediated reference, or that may also 
come from a direct unambiguous reference to a resource, or may be from a seperate workflow, possibly human mediated. When 
the identifier is actually a direct resource reference, the <i>type</i> should be a 
<a href="#terminologies.resourcetypes">resource type</a>, the <i>identifier</i>.<i>system</i> should be the URL
of the source system or, if a particular end point is 
not known, then &quot;urn:hl7-org:sid/fhir/[X]&quot; where &quot;[X]&quot; is the resource name , 
and the <i>identifier</i>.<i>id</i> should be the resource id.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
An <i>identifier</i> with an <i>id</i> element is required unless a <i>dataAbsentReason</i>
flag is provided on the <i>identifier</i> element. If the HumanId is mandatory, then either an 
<i>identifier.system</i> or an <i>type</i> must be provided (In some cases, the <i>type</i> of the 
identifier will be known, but not the <i>identifier</i>.<i>system</i>. For instance, 
a driver's license number, where the state, province or country that issues
the license identifier is unknown). 
</p>
<p>
The <i>assigner</i>.<i>id</i> may be replaced with <i>assigner</i>.<i>text</i> when used with the <i>dataAbsentReason</i> &quot;astext&quot;.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A US SSN:</p>
<pre>
  &lt;x&gt;
    &lt;type&gt;
      &lt;code&gt;ssn&lt;/code&gt;
      &lt;system&gt;urn:hl7-org:sid/fhir/identifier-type&lt;/system&gt;
    &lt;/type&gt;
    &lt;identifier&gt;
      &lt;system&gt;urn:hl7-org:sid/us-ssn&lt;/system&gt;
      &lt;id&gt;000111111&lt;/id&gt;
    &lt;/identifier&gt;
  &lt;/x&gt;
</pre>
<p>Notes:</p> 
<ul>
<li>US SSNs are often presented like this: 000-11-1111, the dashes are for presentation and should be removed, as specified in the <a href="#terminologies">definition of ssn-us (&sect;1.5)</a></li>
<li>There is apparent duplication between type and system; the type says that this is a national social security identifier from some country, while the system specifically identifies the 
  US SSN. Not all countries will have a registered system id like USA does; it might be useful to also reference the country in the assigning authority</li>
</ul>
<p>A medical record number assigned on 5-July 2009:</p>
<pre>
  &lt;x&gt;
    &lt;type&gt;
      &lt;code&gt;patient&lt;/code&gt;
      &lt;system&gt;urn:hl7-org:sid/fhir/identifier-type&lt;/system&gt;
    &lt;/type&gt;
    &lt;identifier&gt;
      &lt;system&gt;oid:0.1.2.3.4.5.6.7&lt;/system&gt;
      &lt;id&gt;2356&lt;/id&gt;
    &lt;/identifier&gt;
   &lt;period&gt;
     &lt;low&gt;2009-06-05&lt;/low&gt;
   &lt;/period&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="datatypes.HumanName"/>
<h3>1.3.13: 
HumanName
</h3>
<p>
</p>
A name of a human, or a name given to an animal by a human.
<p>
Names may be changed, or repudiated, or people may have different names in different 
contexts. Names may be divided into parts of different type that have variable 
significance depending on context, though the division into parts does not always 
matter. With personal names, the different parts may or may not be imbued with
some implicit meaning; various cultures associate different importance with the 
name parts, and the degree to which systems must care about name parts around the 
world varies widely.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>use</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">The use of this name</font>&lt;/use&gt;
  &lt;<b>text</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Text representation of the full name</font>&lt;/text&gt;
  &lt;<b>part</b>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> A part of a name --&gt;</font>
   &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Type of name part (see below)</font>&lt;/type&gt;
   &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">The content of the name part</font>&lt;/value&gt;
  &lt;/part&gt;
  &lt;<b>period</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">Time period when name was/is in use</font>&lt;/period&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>HumanName.use is  bound to the concept domain <i>NameUse</i>: &quot;The use of a human name&quot;. Possible values:
    <table class="codes">
    <tr><td>usual</td><td colspan="2">Known as/conventional/the one you normally use</td></tr>    <tr><td>official</td><td colspan="2">The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called legal name.</td></tr>    <tr><td>temp</td><td colspan="2">A temporary name. A name valid time can provide more detailed information. This may also be used for temporary names assigned at birth or in emergency situations.</td></tr>    <tr><td>anonymous</td><td colspan="2">Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons)</td></tr>    <tr><td>old</td><td colspan="2">This name is no longer in use (or was never correct, but retained for records)</td></tr>    <tr><td>maiden</td><td colspan="2">A name used prior to marriage. Marriage naming customs vary greatly around the world. This name use is for use by applications that collect and store maiden names. Though the concept of maiden name is often gender specific, the use of this term is not gender specific. The use of this term does not imply any particular history for a personÃ¢â‚¬Ëœs name, nor should the maiden name be determined algorithmically</td></tr>    </table>
  </li>
  <li>HumanName.part.type is  bound to the concept domain <i>NamePartType</i>: &quot;Type of a part of a human name&quot;. Possible values:
    <table class="codes">
    <tr><td>family</td><td colspan="2">Family name, this is the name that links to the genealogy. In some cultures (e.g. Eritrea) the family name of a son is the first name of his father.</td></tr>    <tr><td>given</td><td colspan="2">Given name. NOTE Not to be called first name since given names do not always come first. .</td></tr>    <tr><td>title</td><td colspan="2">Part of the name that is acquired as a title due to academic, legal, employment or nobility status etc. NOTE Title name parts include name parts that come after the name, such as qualifications.</td></tr>    </table>
  </li>
</ul>


<p>
The <i>text</i> element specifies the entire name as it should be represented. This
may be provided instead of or as well as specific <i>part</i> elements. Every <i>part</i>
must have a <i>value</i>.
</p>
      

<div class="use">
<p><b>Use</b></p>
<p>
Either <i>text</i> or at least one <i>part</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the name element. 
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>Full name of Peter James Chalmers, with a preferred name of James.</p>
<pre>
  &lt;x&gt;
    &lt;use&gt;usual official&lt;/use&gt;
    &lt;part&gt;
      &lt;type&gt;given&lt;/type&gt;
      &lt;value&gt;Peter&lt;/value&gt;
    &lt;/part&gt;
    &lt;part&gt;
      &lt;type&gt;given&lt;/type&gt;
      &lt;value&gt;James&lt;/value&gt;
    &lt;/part&gt;
    &lt;part&gt;
      &lt;type&gt;family&lt;/type&gt;
      &lt;value&gt;Chalmers&lt;/value&gt;
    &lt;/part&gt;
  &lt;/x&gt;
</pre>
<p>See <a href="#examples-datatypes">further examples</a></p>
</div>
<a name="datatypes.Address"/>
<h3>1.3.14: 
Address
</h3>
<p>
A postal address. There is a variety of postal address formats defined around the world. 
This format defines a superset that is the basis for addresses all around the world 
Note: address is for <b>postal addresses</b>, not physical locations. 
</p>

<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>use</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">The use of this address</font>&lt;/use&gt;
  &lt;<b>text</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Text representation of the address</font>&lt;/text&gt;
  &lt;<b>part</b>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Type of address part (see below)</font>&lt;/type&gt;
   &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">The content of the address part</font>&lt;/value&gt;
  &lt;/part&gt;
  &lt;<b>period</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">Time period when address was/is in use</font>&lt;/period&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Address.use is  bound to the concept domain <i>AddressUse</i>: &quot;The use of an address&quot;. Possible values:
    <table class="codes">
    <tr><td>home</td><td colspan="2">A communication address at a home.</td></tr>    <tr><td>work</td><td colspan="2">An office address. First choice for business related contacts during business hours.</td></tr>    <tr><td>temp</td><td colspan="2">A temporary address. The period can provide more detailed information.</td></tr>    <tr><td>old</td><td colspan="2">This address is no longer in use (or was never correct, but retained for records)</td></tr>    </table>
  </li>
  <li>Address.part.type is  bound to the concept domain <i>AddressPartType</i>: &quot;Type of address part&quot;. Possible values:
    <table class="codes">
    <tr><td>part</td><td colspan="2">Part of an address line (typically used with an extension that further defines the meaning of the part).</td></tr>    <tr><td>line</td><td colspan="2">A line of an address (typically used for street names &amp; numbers, unit details, delivery hints etc) .</td></tr>    <tr><td>city</td><td colspan="2">The name of the city, town, village, or other community or delivery centre.</td></tr>    <tr><td>state</td><td colspan="2">sub-unit of a country with limited sovereignty in a federally organized country. A code may be used if codes are in common use (i.e. US 2 letter state codes).</td></tr>    <tr><td>country</td><td colspan="2">Country. ISO 3166 3 letter codes can be used in place of a full country name.</td></tr>    <tr><td>zip</td><td colspan="2">A postal code designating a region defined by the postal service.</td></tr>    <tr><td>dpid</td><td colspan="2">A value that uniquely identifies the postal address. (often used in barcodes).</td></tr>    </table>
  </li>
</ul>


<p>
The <i>text</i> element specifies the entire address as it should be represented. This
may be provided instead of or as well as specific <i>part</i> elements. Every <i>part</i>
must have a <i>value</i>.
</p>


<div class="use">
<p><b>Use</b></p>
<p>
Either <i>text</i> or at least one <i>part</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the address element. 
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>HL7 office's address.</p>
<pre>
  &lt;x&gt;
   &lt;use&gt;work primary&lt;/use&gt;
   &lt;text&gt;
       1050 W Wishard Blvd
       RG 5th floor
       Indianapolis, IN 46240
     &lt;/html&gt;
   &lt;/text&gt;
   &lt;part&gt; 
     &lt;type&gt;city&lt;/type&gt;
     &lt;value&gt;Indianapolis&lt;/value&gt;
   &lt;/part&gt;
   &lt;part&gt; 
     &lt;type&gt;state&lt;/type&gt;
     &lt;value&gt;IN&lt;/value&gt;
   &lt;/part&gt;
   &lt;part&gt; 
     &lt;type&gt;zip&lt;/type&gt;
     &lt;value&gt;46240&lt;/value&gt;
   &lt;/part&gt;
  &lt;/x&gt;
</pre>
<p>See <a href="#examples-datatypes">further examples</a></p>
</div>
<a name="datatypes.Contact"/>
<h3>1.3.15: 
Contact
</h3>
<p>
All kinds of technology mediated contact details for a person or organisation, including telephone, email, etc.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>system</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">What kind of contact this is</font>&lt;/system&gt;
  &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">The actual contact details</font>&lt;/value&gt;
  &lt;<b>use</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">How to use this address</font>&lt;/use&gt;
  &lt;<b>period</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">Time period when the contact was/is in use</font>&lt;/period&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Contact.system is  bound to the concept domain <i>ContactSystem</i>: &quot;What kind of contact this is&quot;. Possible values:
    <table class="codes">
    <tr><td>phone</td><td colspan="2">the value is a telephone number used for voice calls. Use of full international numbers starting with + is recommended to enable automatic dialing support but not required.</td></tr>    <tr><td>fax</td><td colspan="2">the value is a fax machine. Use of full international numbers starting with + is recommended to enable automatic dialing support but not required.</td></tr>    <tr><td>email</td><td colspan="2">the value is an email address</td></tr>    <tr><td>url</td><td colspan="2">The value is a url. This is intended for various personal contacts including blogs, twitter, facebook etc. Do not use for email addresses</td></tr>    </table>
  </li>
  <li>Contact.use is  bound to the concept domain <i>ContactUse</i>: &quot;How to use this address&quot;. Possible values:
    <table class="codes">
    <tr><td>home</td><td colspan="2">A communication contact at a home; attempted contacts for business purposes might intrude privacy and chances are one will contact family or other household members instead of the person one wishes to call. Typically used with urgent cases, or if no other contacts are available.</td></tr>    <tr><td>work</td><td colspan="2">An office contact. First choice for business related contacts during business hours.</td></tr>    <tr><td>temp</td><td colspan="2">A temporary contact. The period can provide more detailed information.</td></tr>    <tr><td>old</td><td colspan="2">This contact is no longer in use (or was never correct, but retained for records)</td></tr>    <tr><td>mobile</td><td colspan="2">A telecommunication device that moves and stays with its owner. May have characteristics of all other use codes, suitable for urgent matters, not the first choice for routine business</td></tr>    </table>
  </li>
</ul>


<p>
The value should be a properly formatted telephone number according to 
<a href="http://www.itu.int/rec/T-REC-E.123-200102-I/e">ITU-T E.123</a>, 
but this is frequently not possible due to legacy data and/or recording methods.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
A <i>value</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the contact element. A <i>system</i> is required if a <i>value</i> is provided.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>Phone number for some one who works at home:</p>
<pre>
  &lt;x&gt;
   &lt;system&gt;phone&lt;/system&gt;
   &lt;value&gt;+15556755745&lt;/value&gt;
   &lt;use&gt;home&lt;/use&gt;
  &lt;/x&gt;
</pre>
<p>See <a href="#examples-datatypes">further examples</a></p>
</div>
    <!-- - - 
<a name="Location"></a>
<h2>Location</h2>
<p>
A physical location based on geospatial co-ordinates.
</p>
<pre>
&lt;x&gt;
 <identifier>
  <code>
  <names>
  <address>
  <text>
  <parts>
    <part type="Location"></part>
  </parts>
  <partOfs>
    <partOf type="Location"></part>
  </partOfs>
  <spacialLocation>
    <identifier>
    <system>
    
  </spacialLocation>
  <period> 
&lt;/x&gt;
</pre>
<p>
TODO: what should this be - ?  (google KML)
</p>
  -->
<a name="datatypes.Schedule"/>
<h3>1.3.16: 
Schedule
</h3>
<p>
A schedule that specifies an event that may occur multiple times. Schedules are not used for recording when things did happen, but when they are expected or requested to occur.
A schedule can be either a list of events - intervals on which the event occurs, 
or a single event with repeating criteria, or just repeating criteria with no actual event. 
</p>
<p>
Note: a possible enhancement to this is to have the repeat content repeat with each event. This is richer and more complex - is the added functionality useful?
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>event</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">When the event occurs</font>&lt;/event&gt;
  &lt;<b>repeat</b>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- Only if there is none or one event --&gt;</font>
   &lt;<b>frequency</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">Event occurs frequency times per duration</font>&lt;/frequency&gt;
   &lt;<b>when</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Event occurs duration from common life event</font>&lt;/when&gt;
   &lt;<b>duration</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Duration.Duration">Duration</a></font> <font color="navy">repeating or event-related duration</font>&lt;/duration&gt;
   &lt;<b>count</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">number of times to repeat</font>&lt;/count&gt;
   &lt;<b>end</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">when to stop repeats</font>&lt;/end&gt;
  &lt;/repeat&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Schedule.repeat.when is  bound to the concept domain <i>EventTiming</i>: &quot;A real world event that a schedule is related to&quot;. Possible values:
    <table class="codes">
    <tr><td>HS</td><td colspan="2">event occurs duration before the hour of sleep (or trying to)</td></tr>    <tr><td>WAKE</td><td colspan="2">event occurs duration after waking</td></tr>    <tr><td>AC</td><td colspan="2">event occurs duration before a meal (from the latin ante cibus)</td></tr>    <tr><td>ACM</td><td colspan="2">event occurs duration before breakfast (from the latin ante cibus matutinus)</td></tr>    <tr><td>ACD</td><td colspan="2">event occurs duration before lunch (from the latin ante cibus diurnus)</td></tr>    <tr><td>ACV</td><td colspan="2">event occurs duration before dinner (from the latin ante cibus vespertinus)</td></tr>    <tr><td>PC</td><td colspan="2">event occurs duration after a meal (from the latin post cibus)</td></tr>    <tr><td>PCM</td><td colspan="2">event occurs duration after breakfast (from the latin post cibus matutinus)</td></tr>    <tr><td>PCD</td><td colspan="2">event occurs duration after lunch (from the latin post cibus diurnus)</td></tr>    <tr><td>PCV</td><td colspan="2">event occurs duration after dinner (from the latin post cibus vespertinus)</td></tr>    </table>
  </li>
</ul>


<p>
If events are specified, at least a low must be specified for each event. If no high is 
specified, the event is assumed to last a limited but
unknown time as clinically relevant.
</p>
<p>
If the schedule has repeating criteria, the repeat can occur a given number of times per 
the specified duration, or in relation to some real world event. Also, if the event repeats,
a time to end the schedule can be specified, either by specifying a count number of times 
it can occur, or a date at which to end the schedule. If no end condition is specified, 
the Schedule will terminate on some criteria which is expressed elsewhere. 
</p>
<p>
There are 3 rules concerning the contents of a <i>Schedule</i>:
</p>
<ol>
 <li>There can only be a repeat element if there is none or one event</li>
 <li>Only one of <i>frequency</i> and <i>when</i> can be present</li>
 <li>Only one of <i>count</i> and <i>end</i> can be present</li>
</ol>

<div class="use">
<p><b>Use</b></p>
<p>
At least one <i>event</i> or a <i>repeat</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the Schedule element. If a <i>repeat</i> is present, either <i>frequency</i> or <i>when</i> is required.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>A series of appointments for radiotherapy:</p>
<pre>
  &lt;x&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-07T09:00&lt;/low&gt;
      &lt;high&gt;2012-01-07T13:00&lt;/high&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-14T09:00&lt;/low&gt;
      &lt;high&gt;2012-01-14T13:00&lt;/high&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-22T11:00&lt;/low&gt;
      &lt;high&gt;2012-01-22T15:00&lt;/high&gt;
    &lt;/event&gt;
  &lt;/x&gt;
</pre>
<p>BID (twice a day) (no start or end specified):</p>
<pre>
  &lt;x&gt;
   &lt;repeat&gt;
     &lt;frequency&gt;2&lt;/frequency&gt;
     &lt;duration&gt;
       &lt;value&gt;1&lt;/value&gt;
       &lt;units&gt;day&lt;/units&gt;
       &lt;code&gt;d&lt;/code&gt;
       &lt;system&gt;urn:hl7-org:sid/ucum&lt;/system&gt;
     &lt;/duration&gt;
   &lt;/repeat&gt;
  &lt;/x&gt;
</pre>
<p>1/2 an hour before breakfast for 10 days from 23-Dec 2011:</p>
<pre>
  &lt;x&gt;
    &lt;event&gt;
      &lt;low&gt;2011-12-23&lt;/low&gt;
    &lt;/event&gt;
    &lt;repeat&gt;
      &lt;when&gt;ACM&lt;/when&gt;
      &lt;duration&gt;
        &lt;value&gt;30&lt;/value&gt;
        &lt;units&gt;min&lt;/units&gt;
        &lt;code&gt;min&lt;/code&gt;
        &lt;system&gt;urn:hl7-org:sid/ucum&lt;/system&gt;
      &lt;/duration&gt;
      &lt;end&gt;2012-01-02&lt;/end&gt;
    &lt;/repeat&gt;
  &lt;/x&gt;
</pre>
<p>
Note that the end date is inclusive like the high date of an Interval.
</p>

</div>

<h3>1.3.17: Schema &amp; UML models</h3>
<p>
<a href="fhir-base.xsd">Data Types Schema</a>.
</p>
<p>
  With regard to the UML models, see notes about the <a href="#xml.objects">UML Object models (&sect;1.2.8)</a>, and particularly the note regarding the <a href="#mixins">UML representation of dataAbsentReason (&sect;1.4)</a>
</p>

<h4>1.3.17.1: Change History</h4>
<ul>
  <li>20-Mar 2011: Removed version from system in Coding - version and module pushed to extensions</li>
  <li>19-Mar 2011: Renamed dateTime to instant, humanDate to dateTime, and introduced date.</li>
</ul>




    
</div><div><a name="mixins"> </a>







<h2>1.4: UML Models and dataAbsentReason</h2>

<p>
This specification describes the use of the <i>dataAbsentReason</i> attribute, 
which is used throughout the content models on elements of any type to
indicate missing data. The <i>dataAbsentReason</i> attribute &quot;may appear on any element in a resource other 
than those marked mandatory&quot;.
</p>
<p>
In Object-Orientated paradigms, the <i>dataAbsentReason</i> is a mixin. 
The <a href="http://en.wikipedia.org/wiki/Mixin#">definition of a mix-in</a> is that 
it is an abstract class that provides functionality that is not inherited by specialization but rather by collecting functionality.
A mixin can be thought of as a generic class that specializes it's parameter class:
</p>
<p><img src="mixin-pure.png"/></p>
<p>
This shows a mixin called &quot;DataQualityAspect&quot; which expresses the attribute &quot;dataAbsentReason&quot;. The 
two derived classes, DataQualityAspectQuantity which inherits both Quantity and DataQualityAspect
and DataQualityAspect(Quantity), which binds Quantity to the paramter T on the DataQualityAspect mixin
both have the same semantics (are identical other than their type derivation). 
</p>
<p>
The problem with this approach is that not only is the &lt;&lt;mixin&gt;&gt; stereotype
not a recognised standard UML sytnax, but most mainstream programming languages cannot 
implement multiple inheritence in this form. There is two alternative approaches for 
implementing this in these platforms. The first is using a wrapper class:
</p>
<p><img src="mixin-wrapper.png"/></p>
<p>
The problem with this variation is that Quantity and DataQualityAspect(Quantity) are 
no longer both types of Quantity, as with a pure mixin, and this will have a series of 
knock on effects in implementations. The other alternative is simply to make DataQualityAspect
a base class:
</p>
<p><img src="mixin-base.png"/></p>
<p>
This is the simplest approach, but has the disadvantage that all instances of 
the Quantity data type carry the dataAbsentReason attribute, whether it is
appropriate or not. 
</p>
<p>
Implementors that use these objects in an environment where mixins are not supported
must choose either of these two approaches. For simplicity, the object models defined
in this specification simply bind the target type directly to the specified data type,
and ignore the issue of the dataAbsentReason mixin.</p>
<p>
Note that the dataAbsentReason may also be associated with primitive 
types as well.
</p>



    
</div><div><a name="terminologies"> </a>









<h2>1.5: Terminologies</h2>

<p>
Throughout the FHIR specification, many elements are assigned a type of either <a href="#datatypes.code">code</a>, <a href="#datatypes.Coding">Coding (&sect;1.3.6.1)</a>, or <a href="#datatypes.CodeableConcept">CodeableConcept (&sect;1.3.6)</a>.
These elements are bound to a &quot;Concept Domain&quot;, which defines the set of concepts that may be associated with the element. Each Concept Domain has a formal definition, and a binding type that may define a particular
set of acceptable concepts:
</p>
<table class="grid">
 <tr><td>Code List</td><td>The concept is directly bound to a code list defined in this specification (mostly used with elements of type &quot;code&quot;). In some circumstances, other additional codes may be used (not for elements with type &quot;code&quot;)</td></tr>
 <tr><td>External</td><td>The possible list of codes (concepts) is defined by an external specification, usually ISO or W3C. A reference is provided </td></tr>
 <tr><td>Preferred</td><td>The concept domain is bound directly to an external coding system, and values from this coding system must be use if appropriate values exist</td></tr>
 <tr><td>Unbound</td><td>
   The FHIR specification does not bind the concept domain to any particular set of concepts (a value set).
   Instead, jurisdictions, Institions, projects or applications bind the concept domain.<br/><br/>
   Within the unbound concept domains, FHIR may recommend a particular value set (or coding system), or 
   suggest values as illustrative
	</td></tr>
</table>
<p>
Note that this approach is based on the framework defined in the HL7 V3 core principles in section 5.1. Also note that when a CodeableConcept has a concept domain, this means that one of the codes in the coding list meet the binding of the concept domain, and all the codes must conform to the definition of the concept domain.
</p>
<a name="terminologies.codesystems"/>
<h3>1.5.1: Named Systems List</h3>
<p>
This specification defines the following names (URIs) as fiexed names that may 
be used in the <i>system</i> element of the <a href="#datatypes.Identifier">Identifier (&sect;1.3.5)</a>,
<a href="#datatypes.Coding">Coding (&sect;1.3.6.1)</a> or <a href="#datatypes.CodeableConcept"> (&sect;1.3.6)</a> data types. 
</p>

<table class="grid">
 <tr>
   <th width="150">URI</th>
   <th>Source</th>
   <th>Comment</th>
 </tr>

 <tr style="background-color: #FEFEFE">
   <td colspan="3">Code Systems</td>
 </tr>

 <tr>
   <td>http://snomed.info</td>
   <td>SNOMED-CT: (<a href="http://ihtsdo.org">IHTSDO</a>)</td>
   <td>The version, module etc may be appended to this uri following the IHTSDO specifications<br/>OID=2.16.840.1.113883.6.96</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/loinc</td>
   <td>LOINC (<a href="http://loinc.org">LOINC.org</a>)</td>
   <td><p>
       The LOINC sid can also be used to indicate a LOINC property value by append one of the following values to the URL:</p>
       <table class="codes">
         <tr><td>/property</td><td>PROPERTY</td></tr>
         <tr><td>/time-aspect</td><td>TIME_ASPCT</td></tr>
         <tr><td>/system</td><td>SYSTEM</td></tr>
         <tr><td>/scale</td><td>SCALE_TYPE</td></tr>
         <tr><td>/method</td><td>METHOD_TYPE</td></tr>
         <tr><td>/class</td><td>CLASS</td></tr>
       </table>
       <p>The acceptable values for these URLs are the literal values found in the definition of LOINC for the given column name. <br/><br/>
       The version of LOINC may be appended to this uri like so: urn:hl7-org:sid/loinc?v=2.36<br/><br/>OID=2.16.840.1.113883.6.1.</p>
   </td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/ucum</td>
   <td>UCUM: (<a href="http://unitsofmeasure.org">UnitsOfMeasure.org</a>)</td>
   <td>Generally used in the Quantity Data Type<br/>OID=2.16.840.1.113883.6.8</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/icd-10</td>
   <td>ICD-10 International (<a href="http://www.who.int/classifications/icd/en/">WHO</a>)</td>
   <td><br/>OID=2.16.840.1.113883.6.3 </td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/icd-9</td>
   <td>ICD-9 USA (<a href="http://www.cdc.gov/nchs/icd/icd9.htm">CDC</a>)</td>
   <td><br/>OID=2.16.840.1.113883.6.42 </td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/v2-[X]</td>
   <td>Version 2 table code</td>
   <td>[X] is the 4 digit identifier for a table. i.e. urn:hl7-org:sid/v2-0203<br/>OID=2.16.840.1.113883.12.[X] </td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/iso-639</td>
   <td>Language Codes as defined in (<a href="http://en.wikipedia.org/wiki/ISO_639">ISO 639</a>)</td>
   <td>3 letter codes known as 639-3 <br/>OID=1.0.639.3</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/iso-4217</td>
   <td>Currency Codes as defined in (<a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a>)</td>
   <td>3 digit currency designators<br/>OID=1.0.4217</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/atc</td>
   <td>Anatomical Therapeutic Chemical Classification System (<a href="http://www.whocc.no/atc/structure_and_principles/">WHO</a>)</td>
   <td><br/>OID=2.16.840.1.113883.6.73</td>
 </tr> 
 
 <tr style="background-color: #FEFEFE">
   <td colspan="3">Identifier Systems</td>
 </tr>

 <tr>
   <td>urn:hl7-org:sid/uri</td>
   <td>URIs (<a href="http://www.w3.org">W3C</a>)</td>
   <td>As defined by various applicable RFCs including X<br/>No OID</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/oid</td>
   <td>OIDs</td>
   <td>The identifier is an OID itself</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/uuid</td>
   <td>UUIDs</td>
   <td>Also called GUIDs<br/>No OID</td>
 </tr>
 <tr>
   <td>urn:hl7-org:sid/us-ssn</td>
   <td>SSN (<a href="http://www.w3.org">W3C</a>)</td>
   <td>SSN for USA. Represented with dashes removed<br/>OID=2.16.840.1.113883.4.1</td>
 </tr>
 
 
</table>
<a name="terminologies.localsystems"/>
<h3>1.5.2: Internal Code Systems</h3>
<p>
In addition to this, a number of code sytems are defined informally through 
the specification. This table enumerates them, and assigns sid and OID values 
for them, though these are not generally used directly in this specification:
</p>
<table class="list">
 <tr>
  <td><a href="#terminologies.specialvalues">Special Values (&sect;1.5.3)</a></td>
  <td>urn:hl7-org:sid/fhir/special-values</td>
  <td>2.16.840.1.113883.6.305</td>
 </tr>
 <tr>
  <td><a href="#terminologies.resourcetypes">Resource Types</a></td>
  <td>urn:hl7-org:sid/fhir/resources</td>
  <td>2.16.840.1.113883.6.306</td>
 </tr>
 <tr>
  <td><a href="#http.interactions">Logical Interactions</a> (RESTful framework)</td>
  <td>urn:hl7-org:sid/fhir/interactions</td>
  <td>2.16.840.1.113883.6.308</td>
 </tr>
 <tr>
  <td><a href="#messaging.Events">Message Events (&sect;2.5.3)</a> (Messaging framework)</td>
  <td>urn:hl7-org:sid/fhir/message-events</td>
  <td>2.16.840.1.113883.6.307</td>
 </tr>
 <tr>
  <td><a href="#xml.dataAbsentReason">Data Absent Reason (&sect;1.2.2)</a></td>
  <td>urn:hl7-org:sid/fhir/data-absent-reason</td>
  <td>2.16.840.1.113883.6.309</td>
 </tr>
</table>
<p>
Note that all the codes in these code systems are case sensitive, and must be used in lowercase.
</p>
<a name="terminologies.specialvalues"/>
<h3>1.5.3: Special Values</h3>
<p>
Internally defined codes useful throughout the specification where <a href="#datatypes.Coding">Coding (&sect;1.3.6.1)</a> or <a href="#datatypes.CodeableConcept">CodeableConcept (&sect;1.3.6)</a> is used.
These are defined by the code system &quot;urn:hl7-org:sid/fhir/special-values&quot; which has OID 2.16.840.1.113883.6.305. 
</p>
<table class="codes">
  <tr><td>true</td><td>Boolean true</td></tr>
  <tr><td>false</td><td>Boolean false</td></tr>
  <tr><td>trace</td><td>The content is greater than zero, but too small to be quantified (used in formulations)</td></tr>
  <tr><td>sufficient</td><td>The specific quantity is not known, but is known to be non-zero and is not specified because it makes up the bulk of the material. (e.g. 'Add 10mg of ingredient X, 50mg of ingredient Y, and sufficient quantity of water to 100mL.' The null flavor would be used to express the quantity of water. )</td></tr>
  <tr><td>withdrawn</td><td>The correct value is no longer available</td></tr>
</table>

<a name="terminologies.resourcetypes"/>
<a name="terminologies.ResourceType"/>
<h3>1.5.4: Resource Types</h3>
<p>
In several places, the resource types themselves are used as codes, with the sid, where required, of &quot;urn:hl7-org:sid/fhir/resource-types&quot;. This is a formal list of such codes: 
</p>
<table class="codes">
  <tr><td><a href="#conformance">Conformance (&sect;2.4)</a></td><td>A conformance statement returned by request in an RESTful framework</td></tr>  <tr><td><a href="#document">Document (&sect;3.6)</a></td><td>A documentation of clinical observations and services that are aggregated together into a single statement of clinical meaning that establishes it's own context. A clinical document is composed of a set of resources that include both human and computer readable portions. A human must attest to the accuracy of the human readable portion, and may authenticate and/or sign the entire whole</td></tr>  <tr><td><a href="#message">Message (&sect;2.6)</a></td><td>A message that contains FHIR resources</td></tr>  <tr><td><a href="#animal">Animal (&sect;3.2)</a></td><td>An animal that has relevance to the care process -usually this is for animals that are patients.</td></tr>  <tr><td><a href="#agent">Agent (&sect;3.4)</a></td><td>A person who represents an organisation, and is authorised to perform actions on it's behalf</td></tr>  <tr><td><a href="#messageconformance">MessageConformance (&sect;2.7)</a></td><td>A conformance statement about how an application uses FHIR messaging</td></tr>  <tr><td><a href="#organization">Organization (&sect;3.3)</a></td><td>For any organization/institution/government department that has relevance to the care process</td></tr>  <tr><td><a href="#prescription">Prescription (&sect;5.1)</a></td><td>Directions provided by a prescribing practitioner for a specific medication to be administered to an individual</td></tr>  <tr><td><a href="#profile">Profile (&sect;2.11)</a></td><td>A Resource Profile - a statement of constraint on one or more Resources and/or Concept Domains</td></tr>  <tr><td><a href="#interestofcare">InterestOfCare</a></td><td>Yet to be defined</td></tr>  <tr><td><a href="#admission">Admission</a></td><td>Yet to be defined</td></tr>  <tr><td><a href="#specimen">Specimen</a></td><td>Yet to be defined</td></tr>  <tr><td><a href="#device">Device</a></td><td>Yet to be defined</td></tr>  <tr><td><a href="#patient">Patient (&sect;3.5)</a></td><td>A patient is a person or animal that is receiving care</td></tr>  <tr><td><a href="#group">Group</a></td><td>Yet to be defined</td></tr>  <tr><td><a href="#person">Person (&sect;3.1)</a></td><td>A person who is involved in the healthcare process</td></tr>  <tr><td><a href="#labreport">LabReport (&sect;4.1)</a></td><td>The findings and interpretation of pathology tests performed on tissues and body fluids. This is typically done in a laboratory but may be done in other environments such as at the point of care</td></tr>  <tr><td><a href="#documentconformance">DocumentConformance (&sect;2.9)</a></td><td>A conformance statement about how one or more FHIR documents</td></tr>
</table>










    
</div><div><a name="extensibility"> </a>





<h2>1.6: Extensibility</h2>

<p>
This exchange specification is based on generally agreed common
requirements across healthcare - many jurisdications, domains, and 
different functional approaches. As such, it is common for 
specific implementations to have valid requirements that will not
be adopted by this specification. Adopting all of these requirements 
would make this specification very cumbersome and difficult to
implement. Instead, this specification expects that these additional
common requirements will be implemented as extensions.
</p> 
<p>
As such, extensibility is a fundamental part of the design of this 
specifications. Every resource includes an extensions section that 
may be used to represent additional information that is not part of 
the basic definition of the resource. Conformant applications are not
allowed to reject resources because they contain extensions, though
they may need to reject resources because of the specific contents of
the extensions.
</p>
<p>
Note that unlike in many other specifications, there can be no stigma 
associated with the use of extensions by any application, project, or 
standard, whatever institution or jurisdiction uses or defines them; their use of
such extensions is what allows the specification to retain a core 
simplicity for everyone.
</p>
<p>
In order to make the use of extensions safe, and manageable, there is a 
strict governance applied to the definition and use of extensions. Though
any implementer is allowed to define an extension, there is a set of reqiurements 
that must be met as part of the definition of the extension.
</p>
<h3>1.6.1: Extensibility Element</h3>
<p>
Each resource includes the optional extensions element before the narrative element at the end of the resource.
</p>
<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>code</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Code that identifies the meaning of the extension</font>&lt;/code&gt;
  &lt;<b>definition</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Source of the definition for the code</font>&lt;/definition&gt;
  &lt;<b>ref</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Internal reference to context of the extension (xml:id)</font>&lt;/ref&gt;
  &lt;<b>state</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">must-understand | superceded</font>&lt;/state&gt;
  &lt;<b>value[x]</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="navy">Value of extension</font>&lt;/value[x]&gt;
  &lt;<b>extension</b>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Nested Extensions --&gt;</font>
    <font color="Gray">&lt;!-- Content as for Extension --&gt;</font>
  &lt;/extension&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Extension.state is  bound to the concept domain <i>ExtensionState</i>: &quot;The state of an extension&quot;. Possible values:
    <table class="codes">
    <tr><td>must-understand</td><td colspan="2">The extension contains information that qualifies or negates another element, and must be understood by an application processing the resource</td></tr>    <tr><td>superceded</td><td colspan="2">The extension has been promoted into the main content of the resource, and the content is found at the reference. The extension continues to be defined for backward compatibility</td></tr>    </table>
  </li>
</ul>



<p>
Notes:
</p>
<ul>
 <li>The <i>code</i> identifies the meaning of the extension. The only codes that can be used are those defined using the methodology described below.</li>
 <li>The source of the definition must be declared using the <i>definition</i> element. The <i>definition</i> may point directly to a computable or human readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition should be version specific.</li>
 <li>If present, the id in the <i>ref</i> element identifies a target element that is extended by the content as if it contained the extension itself. The id must point within the same resource</li>
 <li>The order that extensions appear in is significant - where multiple extensions have the same ref id, they extend the target element in the order in which they appear in the extensions</li>
 <li>When using xml:id attributes, <a href="#atom.Aggregation">the comments in the aggregation section (&sect;2.2)</a> about the value of the xml:id attribute should be kept in mind</li>
 <li>Any element defined as part of the resource content, or any repeating element inside a data type, may carry an id attribute to serve as the target of an extension</li>
 <li>An extension may have a value, or nested extensions, but not both. The actual name of the value element has the type added to it in place of the [x], such as valueQuantity</li>
</ul>
<p>
As well as providing additional undescribed information, extensions may be used to qualify the meaning of other elements in a way that makes them 
unsafe to ignore, or even to negate the meanings of other elements. Such extensions must have a state of &quot;must-understand&quot;. Over time, an extension
may be promoted to become part of the resource itself. In order to properly send the data, the extension should still be present, but should have no
value element. Instead, the state of the extension is &quot;superceded&quot;, and the ref points to the correct location for the data.
</p>
<p>
<b>Any application processing the data of a resource must check for extensions with state=&quot;must-understand&quot;.</b> If the application does not recognise the code on an extension that is labeled
&quot;must-understand&quot;, and where the extension either has no internal reference, or the reference is data processed by the application, it SHALL either refuse to process the data, 
or carry a warning concerning the data along with any action or output that results from processing the data. 
Note that it must always be safe to show the narrative to humans; any extension that is labelled as must-understand must be represented in the narrative.
Applications are encouraged to ignore un-required extensions that they do not recognise. Applications that do not accept unknown extensions should declare 
this in their conformance statement.
</p>
<p>
The <i>value[x]</i> element has the [x] replaced with the name of one of the defined types, and the contents as defined for that type, or another extension. The value type may be one of the following:
</p>
<ul class="dense">
 <li>dateTime</li>
 <li>string</li>
 <li>uri</li>
 <li>humanDate</li>
 <li>Attachment</li>
 <li>CodeableConcept</li>
 <li>Coding</li>
 <li>Identifier</li>
 <li>Quantity</li>
 <li>Choice</li>
 <li>Interval_Quantity</li>
 <li>Interval_humanDate</li>
 <li>Ratio</li>
 <li>HumanId</li>
 <li>HumanName</li>
 <li>Address</li>
 <li>Contact</li>
</ul>
<p>
Nested extensions cannot have a <i>ref</i> element. The <i>[type]</i> element is optional unless the definitions of the extension codes make rules about it. Extensions can never have a default value.
</p>

<h3>1.6.2: Defining Extensions</h3>

    <!-- - -

the question is whether an extension could ever alter the interpretation of something other than it's immediate context
[7:12:13 AM] Grahame Grieve: and I suggest that the answer to this is definitional
[7:12:16 AM] Grahame Grieve: and no.
[7:12:23 AM | Edited 7:12:25 AM] Grahame Grieve: that's what defines it's context
[7:13:02 AM] Lloyd McKenzie: Well, mood, negationInd, uncertaintyInd, inversionCode, etc. all only alter immediate context.
[7:13:20 AM] Lloyd McKenzie: Off the top of my head, I can't think of any that would alter something else.
[7:13:57 AM] Lloyd McKenzie: I'm ok with the idea of banning extensions that alter the meaning of anything outside their immediate context.  (If you want to do that, you need to define an extension that sits inside the context you want to alter.)
[7:14:51 AM] Grahame Grieve: right
[7:15:27 AM] Grahame Grieve: so then, must-understand is always qualified by the fact that if you don't process/understand the context it refers to, then you don't actually need to understand it

  -->
<p>
Extensions may be defined by any project or jurisdication, up to and including international standards organisations such as HL7 itself. 
</p>
<p>
Extensions are always defined against some particular context. The following are possible contexts for an extension:
</p>
<ul class="dense">
 <li>A particular element in a single resource</li>
 <li>Anywhere a particular data type is used</li>
 <li>A set of elements across one or more resources</li>
 <li>a particular context in one of the mapped reference models</li>
 <li>Another extension</li>
</ul>
<p>
In addition, an element definition might apply additional constraints with 
regards to particular element values of the target that make it's use appropriate.
Extensions SHALL only be used in the contect against which they are defined.
</p>
<p>
Each extension is defined using the following fields:
</p>
<p>todo: metadata, context</p>
<table class="codes">
 <tr><td>Code</td><td>Required</td><td>The code that is used in a resource to identify this extension</td></tr>
 <tr><td>Context</td><td>Required</td><td>The context of this extension. See below</td></tr>
 <tr><td>TargetType</td><td>Optional</td><td>The type of the path to which this applies, if it matters. This must be a valid FHIR data type as described above</td></tr>
 <tr><td>Cardinality</td><td>Required</td><td>The cardinality of this extension.<br/> Specifying a minimum cardinality of 1 means that if the source system declares that it conform to the set of extensions containing this extension, it must be included in the resource</td></tr>
 <tr><td>Conformance</td><td>Required</td><td>Whether the use of the extension is mandatory, conditional, optional, or prohibited. If the extension is conditional, the conditions must be described in the comments field. This field overlaps with the cardinality, and must be consistent with it.</td></tr>
 <tr><td>Type</td><td>Required</td><td>The type(s) of the extension. This must be a valid FHIR data type as described above, or &quot;Extension: x,y,z&quot; which indicates that the extension codes x,y, and z will be contained in the extension</td></tr>
 <tr><td>Concept Domain</td><td>Conditional</td><td>For the types CodeableConcept and Coding. see <a href="#terminologies">Terminologies (&sect;1.5)</a></td></tr>
 <tr><td>Must Understand</td><td>Required</td><td>Whether the extension must be understood by any system reading the resource. There is 3 possible values: &quot;true&quot; - the extension must be understood, &quot;false&quot; - the extension does not need to be understood, and &quot;sender&quot; - the sender can decide whether the extension needs to be understood</td></tr>
 <tr><td>Definition</td><td>Required</td><td>A formal statement of the meaning of the content of the field</td></tr>
 <tr><td>Requirements</td><td>Required</td><td>Discussion of the reason for the extension / what use cases it was defined to handle</td></tr>
 <tr><td>Comments</td><td>Optional</td><td>Additional other information about the extension, including information concerning it's conditionality if indicated in the conformance field</td></tr>
 <tr><td>RIM Mapping</td><td>Conditional</td><td>The formal mapping from this extension to the RIM. Required for HL7 defined extensions, but may be optional in other contexts</td></tr>
 <tr><td>v2 Mapping</td><td>Optional</td><td>Mapping to a v2 segment/field/etc, if desired and appropriate. </td></tr>
</table>
<p>
Notes:
</p>
<ul>
 <li>Mappings are not required to be computable (i.e. executable logic). Mappings to other specifications can also be provided.</li>
</ul>
<p>
Whenever resources containing extensions are exchanged, the definitions of the extensions must be available to all the parties that share the resources. 
Each extension contains a URI that references the source of the definitions. The source can be a literal reference, such as an http: url that refers
to an end-point that responds with the contents of the definitions, or a logical reference (e.g. using a urn:) - for instance, to a national published
standard. Literal references are preferred. 
</p>
<p>
Whether the reference is a literal or logical reference, the extension definitions must be published using the fields defined as above. 
They may be published in narrative form, possibly as part of a larger specification. This narrative form is for human consumption. 
In addition, they may be published in a structured form, as either a csv file, or an XML file. The CSV file should have the fields 
described above as columns in the order described above, with a title row containing the case sensitive field names as above. XML
files should use the format described in the <a href="definitions.xsd">XML Definitions schema</a> (note that element and extension
definitions from FHIR itself also use the same format).
</p>
<p>

Todo: extension packs &amp; metadata


Control
* resources are balloted
* implementations (jurisdictions, institutions, projects) must publish their extensions through HL7 extension registry/repository (will be distributed?)
* extensions may be submitted to HL7 for endorsement. Committees approve them by in-committee vote, and then HL7 publishes them with endorsement
* extensions should never be redefined once in used. (endorsed extensions can't have their RIM mappings changed)

</p>
<p>
As well as defining the base element structure for resources, HL7 also publishes extensions.
When HL7 itself publishes extensions as part of the FHIR specification, these extensions must 
be used for this data whenever the data is represented in instances. HL7 publishes data definitions
as extensions rather than as part of the base resource structure in order to keep the base 
resource structure simple and concise, and to allow implementors not to engage with an entire world's
worth of functionality up front. Note that HL7 extensions are never flagged as must-understand - if 
HL7 publishes resource content that <i>must</i> be understood, it will be part of the resource 
content itself, since everyone has to understand it anyway.
</p>
<p>
Implementations are encouraged to share their extensions with HL7; the domain committees will work 
to elevate the extensions into HL7 published extensions or the into the base resource structure itself.
</p>



    
</div><div><a name="constraint"> </a>





todo: conformance and realms

<h2>1.7: Constraint</h2>
<p>
This specification describes a set of base resources that are used in many different
contexts in healthcare. In order to make this manageable, applications need to be
able to provide a structured statement of which elements of a resource are used, 
and how. In addition the existing elements, the use of extensions also needs to
be described. These structured statements are actually constraint statements that
describe a particular pattern of usage. As a general tool, they find use in several different
contexts:
</p>
<ul class="dense">
 <li>Describing testable conformance rules for applications that read and write FHIR resources</li>
 <li>Making rules about how information is represented in jurisdictions and institutions</li>
 <li>Describing common clinical patterns of use of general resources</li>
</ul>
<p>
The final form of these conformance descriptions is a constraint statement, which may 
be used at run time to assist with application to application negotiation, or it may 
be used at design time or even purchase time to assist implementers to understand the 
capabilities of the system. This specification uses the general constraint statement 
defined here in 4 contexts:
</p>
<ul>
 <li><a href="#conformance">Conformance Resource (&sect;2.4)</a>: a statement of functionality for a <a href="#http">RESTful server or client (&sect;2.3)</a></li>
 <li><a href="#messageconformance">Messaging End-Point Description (&sect;2.7)</a>: a statement of services provided or consumed by a <a href="#messaging">messaging interface (&sect;2.5)</a> </li>
 <li><a href="#documentconformance">Document Specification (&sect;2.9)</a>: a description of the contents of a set of resources aggregated into a <a href="#documents">document (&sect;2.8)</a></li>
 <li><a href="#profile">Resource Profile (&sect;2.11)</a>: a description of how a resource is used in a particular way - often used as Clinical Templates, which </li>
</ul>
<p>
The constraint statement is a fixed XML format that is used to represent the core part of 
these various descriptions of use, which is the actual contents of a resource. 
</p>
<h3>1.7.1: Unpicking</h3>
<p>
One common operation in a constraint statement is to take an element that may occur more
than once, and describe a series of different constraints on the elements in the list. 
In this way, the list is split into a series of individual elements or sub-lists. 
In FHIR, this operation is known as &quot;unpicking&quot; a list. Here is an example to illustrate the 
process:
</p>
<table class="list">
 <tr>
  <th>Resource Definition</th>
  <th>&nbsp;</th>
  <th style="border-left: 1px solid gray">&nbsp;</th>
  <th>Profile for Acme, Inc</th>
 </tr>
 <tr>
  <td>relationship [0..*] <br/>&nbsp;&nbsp;type : Coding<br/>&nbsp;&nbsp;name : string</td>
  <td>&nbsp;</td>
  <td style="border-left: 1px solid gray">&nbsp;</td>
  <td>
   parent [1..2] <br/>&nbsp;&nbsp;type = PAR<br/>&nbsp;&nbsp;name...<br/>
   guardian [0..1] <br/>&nbsp;&nbsp;type = GUARD<br/>&nbsp;&nbsp;name...<br/>
   child [0..6] <br/>&nbsp;&nbsp;type = CHILD<br/>&nbsp;&nbsp;name...<br/>
  </td>
 </tr>
</table>
<p>
In this example, the resource definition defines the relationship element which may occur
multiple times. The profile for Acme, Inc constrains the relationships into 3 different kinds: 
1 or 2 parents, up to 6 children, and maybe a guardian. No other relationships are supported
by the Acme system. 
</p>
<p>
Note that in FHIR, only the resource is ever actually exchanged. The profile describes a way of 
using the resource, but the item profile names (&quot;parent&quot;, etc in this list) are never exchanged.
In order the unpicking to be useful, systems must be able to determine which 
relationships in the relationship list that is actually exchanged are parent, child, or 
guardian; in this particular case, the determination is achieved by fixing the value of the 
relationship type element. Fixing a code value is the most common way to unpick a list.
</p>

<a name="constraint.Constraint"/>
<h3>1.7.2: Constraint Statement</h3>

<p>
Note that the context of appearing will make it clear whether this resource constraint specification
is written from the context of the resource instance, a writing or a reading application
</p>
<p>
<img src="constraint.png"/>
</p>

<pre>
&lt;<b>x</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">The Type of the resource being described</font>&lt;/type&gt;
  &lt;<b>profile</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Resource Profile that supplies the constraints</font>&lt;/profile&gt;
  &lt;<b>name</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name for this Constraint Statement</font>&lt;/name&gt;
  &lt;<b>purpose</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Human summary: why describe this resource?</font>&lt;/purpose&gt;
  &lt;<b>element</b>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<b>path</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">The path of the element (see the formal definitions)</font>&lt;/path&gt;
   &lt;<b>name</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name this constraint for re-use &amp; unrolling</font>&lt;/name&gt;
   &lt;<b>purpose</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Human summary: why describe this element?</font>&lt;/purpose&gt;
   &lt;<b>min</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">Minimum Cardinality</font>&lt;/min&gt;
   &lt;<b>max</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Maximum Cardinality (a number or *)</font>&lt;/max&gt;
   &lt;<b>type</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Type of the element</font>&lt;/type&gt;
   &lt;<b>conformance</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Mandatory|Conditional|Optional|Prohibited</font>&lt;/conformance&gt;
   &lt;<b>condition</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Condition if conformance=Conditional</font>&lt;/condition&gt;
   &lt;<b>mustSupport</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">If the element must be usable</font>&lt;/mustSupport&gt;
   &lt;<b>mustUnderstand</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">If the element must be understood</font>&lt;/mustUnderstand&gt;
   &lt;<b>definition</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">More specific definition</font>&lt;/definition&gt;
   &lt;<b>mapping</b>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
    &lt;<b>target</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Which mapping this is (v2, CDA, openEHR, etc)</font>&lt;/target&gt;
    &lt;<b>map</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Details of the mapping</font>&lt;/map&gt;
   &lt;/mapping&gt;
   &lt;<b>resource</b>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- If context includes aggregation and type=Resource() --&gt;</font>
    &lt;<b>aggregated</b>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">Whether this resource is aggregated</font>&lt;/aggregated&gt;
    &lt;<b>profile</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Reference to a Resource Profile</font>&lt;/profile&gt;
   &lt;/resource&gt;
   &lt;<b>valueSet</b>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Value set id (only if coded)</font>&lt;/valueSet&gt;
   &lt;<b>value</b>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
    &lt;<b>name</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Reference to another element by element.name</font>&lt;/name&gt;
    &lt;<b>[type]</b>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="navy">Fixed value: [as defined for type]</font>&lt;/[type]&gt;
   &lt;/value&gt;
  &lt;/element&gt;
&lt;/x&gt;
</pre>

<p>
Terminology Bindings
</p>
<ul>
  <li>Constraint.type is  bound to the concept domain <i>ResourceType</i> which has the allowed values of <a href="#terminologies.ResourceType"> any defined Resource Type name (&sect;1.5.4)</a></li>
  <li>Constraint.element.type is  bound to the concept domain <i>DataType</i> which has the allowed values of <a href="#datatypes"> any defined data Type name (&sect;1.3)</a> (including <a href="#xml.Resource">Resource (&sect;1.2.4)</a>)</li>
  <li>Constraint.element.conformance is  bound to the concept domain <i>ConformanceType</i>: &quot;The conformance value for an element&quot;. Possible values:
    <table class="codes">
    <tr><td>Mandatory</td><td colspan="2">The element is or must always be present without a dataAbsentReason</td></tr>    <tr><td>Conditional</td><td colspan="2">The element may need to be present (with no dataAbsentReasons) depending on the condition</td></tr>    <tr><td>Optional</td><td colspan="2">The element may or may not be present</td></tr>    <tr><td>Prohibited</td><td colspan="2">The element can not present or will be rejected if received</td></tr>    </table>
  </li>
</ul>




<p>
Notes:
</p>
<ul>
<li>The name of the resource is only used as a logical target for .element.aggregation.reference. which may reference another resource 
  constraint in same resource by this name (#[name]), or a different resource by an absolute uri. In the case of an absolute uri, it 
  must resolve literally or logically to a <a href="#profile">Resource Profile (&sect;2.11)</a></li>
<li>The constraint statement has a flat list of elements. The path element provides the overall structure and matches the value in the formal definitions exactly</li>
<li>The condition element must be present if the conformance value is conditional. There is no formal computable grammar for the condition</li>
<li>The type of the element is mostly fixed in the underlying resource definitions, so it can be left out of the constraint specification. 
However when the type is open (resource link to a choice, or a link to any resource, or a choice of data types), then
  this field can be used to pick a narrower set of types</li>
<li>Definition is provided so that the constraint statement can provide a more specific definition for the field in a specific context. 
  For instance, the underlying resource definition might be &quot;Result value&quot;, and the more specific resource definition could be &quot;Plasma Cholesterol Test Value&quot;.
  The meaning needs to be consistent with the underlying definition, but narrower - a constraint on it. If no definition is provided, the inherited definition
  still applies</li>
<li>There can be more than one definition for each element path. The constraint specification can define multiple different constraints for any element, and 
  then use them in different places. In practice, this is useful for elements in a list, and the differently named constraint profiles are invoked using the 
  <i>values</i> element. The name of the element constraint must be unique within the constraint specification for that resource</li>
<li>For an element with a maximum cardinality of 1, there can only be one entry in the value list, which is either a literal fixed type (with an element name matching the type of the fixed value), or a name,
  which is a reference to a named constraint pattern. If the element has a type of &quot;list&quot;, then there can be multiple values - again, either fixed values with a type, or a named constraint. 
  Each of these appears in the list with the order and cardinality specified. By this means, a list may be &quot;unpicked&quot; into a series of different components</li>
<li>The extensions element can be unpicked using this mechanism in order to define the applicable extensions</li>
</ul>

<p>
TODO: Is any control over narrative required?
</p>

  
<h3>1.7.3: Formal Definitions</h3>

<p>The formal definitions for the elements above. Also available as <a href="constraint.dict.xml">an XML file</a>.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint"> </a><b>Constraint</b></td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.type"> </a><b>Constraint.type</b></td></tr>
  <tr><td>Definition</td><td>The Type of the resource being described</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ResourceType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.profile"> </a><b>Constraint.profile</b></td></tr>
  <tr><td>Definition</td><td>Reference to a resource profile which includes the constraint statement that applies to this resource</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Provide either a profile reference or constraints on the resource elements</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.name"> </a><b>Constraint.name</b></td></tr>
  <tr><td>Definition</td><td>The name of this aggregation profile</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Comments</td><td>This field is the target for a named aggregation definition (aggregation.name)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.purpose"> </a><b>Constraint.purpose</b></td></tr>
  <tr><td>Definition</td><td>Human summary: why describe this resource?</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element"> </a><b>Constraint.element</b></td></tr>
  <tr><td>Control</td><td>Conditional, 0..*: Provide either a profile reference or constraints on the resource elements</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.path"> </a><b>Constraint.element.path</b></td></tr>
  <tr><td>Definition</td><td>The path of the element (see the formal definitions)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.name"> </a><b>Constraint.element.name</b></td></tr>
  <tr><td>Definition</td><td>Name this constraint for re-use &amp; unrolling</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.purpose"> </a><b>Constraint.element.purpose</b></td></tr>
  <tr><td>Definition</td><td>Human summary: why describe this element?</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.min"> </a><b>Constraint.element.min</b></td></tr>
  <tr><td>Definition</td><td>Minimum Cardinality</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>integer</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.max"> </a><b>Constraint.element.max</b></td></tr>
  <tr><td>Definition</td><td>Maximum Cardinality (a number or *)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.type"> </a><b>Constraint.element.type</b></td></tr>
  <tr><td>Definition</td><td>Type of the element</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>code from DataType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.conformance"> </a><b>Constraint.element.conformance</b></td></tr>
  <tr><td>Definition</td><td>Mandatory|Conditional|Optional|Prohibited</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ConformanceType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.condition"> </a><b>Constraint.element.condition</b></td></tr>
  <tr><td>Definition</td><td>Condition if conformance=Conditional</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Required if conformance = conditional</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.mustSupport"> </a><b>Constraint.element.mustSupport</b></td></tr>
  <tr><td>Definition</td><td>If the element must be usable</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.mustUnderstand"> </a><b>Constraint.element.mustUnderstand</b></td></tr>
  <tr><td>Definition</td><td>If the element must be understood</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.definition"> </a><b>Constraint.element.definition</b></td></tr>
  <tr><td>Definition</td><td>More specific definition</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.mapping"> </a><b>Constraint.element.mapping</b></td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.mapping.target"> </a><b>Constraint.element.mapping.target</b></td></tr>
  <tr><td>Definition</td><td>Which mapping this is (v2, CDA, openEHR, etc)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.mapping.map"> </a><b>Constraint.element.mapping.map</b></td></tr>
  <tr><td>Definition</td><td>Details of the mapping</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.resource"> </a><b>Constraint.element.resource</b></td></tr>
  <tr><td>Definition</td><td>If context includes aggregation and type=Resource()</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: If context includes aggregation and type=Resource()</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.resource.aggregated"> </a><b>Constraint.element.resource.aggregated</b></td></tr>
  <tr><td>Definition</td><td>Whether this resource is aggregated</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.resource.profile"> </a><b>Constraint.element.resource.profile</b></td></tr>
  <tr><td>Definition</td><td>Reference to a Resource Profile</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td>The reference might be a simple name in the form #[name], which is a reference to another named constraint in a resource - where the resource contains more than one constraint, or a RUL which is a reference to a resource Profile</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.valueSet"> </a><b>Constraint.element.valueSet</b></td></tr>
  <tr><td>Definition</td><td>Value set id (only if coded)</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.value"> </a><b>Constraint.element.value</b></td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.value.name"> </a><b>Constraint.element.value.name</b></td></tr>
  <tr><td>Definition</td><td>Reference to another element by element.name</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Either a name or a fixed value is required</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="constraint.Constraint.element.value.[type]"> </a><b>Constraint.element.value.[type]</b></td></tr>
  <tr><td>Definition</td><td>Fixed value: [as defined for type]</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Either a name or a fixed value is required</td></tr>
  <tr><td>Type</td><td>*</td></tr>
</table>







    
</div></div><div class="section"><h1>2: Exchange</h1><div><a name="implementation"> </a>






<h2>2.1: Implementation Details</h2>

<p>
While the FHIR Resources are designed with a simple <a href="#http">RESTful HTTP-based implementation (&sect;2.3)</a> 
in mind, it is not necessary to use this implementation framework. This specification also defines a 
straight <a href="#messaging">messaging based implementation framework (&sect;2.5)</a> for FHIR resources, and a <a href="#documents">document-based framework (&sect;2.8)</a>, 
as well as documenting how <a href="#hdata">FHIR resources are used with hData (&sect;2.10)</a>.
</p>
<a name="implementation.SOA"/>
<h3>2.1.1: SOA</h3>
<p>
Alternatively, it is not necessary to use any of these approaches; resources can be exchanged or persisted
using any technical means that is appropriate to the context at hand. A common use of FHIR 
resources or aggregations is as parameters of service interfaces. FHIR itself does not define
any particular service interface; instead, other standards and implementations define their 
own service interfaces and architecture that use FHIR resources. As long as the resources that
are used are conformant with regard to this specification, and the rules for authoring and
reading applications are followed, then the implementation can claim conformance to
&quot;FHIR Resources&quot;. Such implementations will need to resolve several issues:
</p>
<ul>
  <li>Resource references need to be able to be resolved. There are a variety of solutions to this, from ensuring that the all the relevant resources are aggregated together, or that all relevent resources are passed as parameters in a service call, through to a resource repository that provides access to all reference resources. </li>
  <li>The <a href="#xml.metadata">Resource metadata</a> items &quot;Version Id&quot; and &quot;Last Modified Date&quot; are provided for use in resolving resource versioning and concurrency issues, both from a technical and human perspective. Most contexts of use will require at least one if not both of these attributes for some uses, and the implementation framework will need to resolve how and when they are exchanged</li>
  <li>The <a href="#xml.metadata">resource metadata</a> item &quot;Master Location&quot; may be useful as part of a solution towards resolving resource references, and/or handling issues pertaining to distrubed use and re-use of resources, and implementations should describe how this data item is handlded</li>
  <li>The <a href="#constraint">basic conformance statement (&sect;1.7)</a> allows authoring and reading applications to describe their rules concerning the contents of a resource. 
      The implementation will need to describe how this constraint statement fits into the exchange/persistence context.</li>
  <li>How transactional information such as data enterer, author(s), responsible party, consent, and approvals is treated</li>
</ul>
<p>
The resolution to these issues should be documented and published somewhere.
</p>

<a name="implementation.Use"/>
<h3>2.1.2: Using Resources</h3>
<p>
Given these options, there are many ways to implement any particular workflow. 
There are many ways to use resources to build working systems:
</p>
<ul>
<li>A RESTful paradigm where resources are exchanged separately using http transactions directly as defined in this specification. Implementations can use both push and pull, or a mix of the two</li>
<li>The resources can be exchanged in messages or some other SOA implementation, where the resources are directly the contents/parameters that are exchanged</li>
<li>The resources can be &quot;aggregated&quot; into documents that are self-contained and complete collections of linked resources, and then these documents can be exchanged and/or persisted</li>
<li>The resources can be embedded in HTML pages or other web content such as content feeds</li>
</ul>

<h3>2.1.3: Useful Resources</h3>
<p>
General Resources:
</p>
<ul>
 <li><a href="fhir-all-xsd.zip">All schemas as a .zip</a> (includes base schemas, resource schemas, and metadata schemas)</li>
 <li><a href="fhir.dict.xml">Single combined definitions, including data types</a></li>
 <li>The UML definitions as an <a href="fhir.xmi">XMI file</a> (or the <a href="fhir.eap">Enterprise Architect source</a>)</li>
</ul>
<p>
Resource specific resources:
</p>
<table class="codes">
  
</table>
<p>
Note: the JSON examples are simply the XML examples auto-converted to JSON by the <a href="http://www.json.org/java/index.html">json.org code</a>. TODO: Add note about why JSON is included.
</p>
<p>
All of these resources except the JSON format are normative (i.e. Ballot comments may be made against these resources with regard to their 
correctness, other comments may be ruled out of scope). The reference implementations below are informative, and not subject to ballot.
</p>

<h4>2.1.3.1: Reference Implementations</h4>
<p>
Reference implementations are provided for implementer interest and assistance. Other implementations can be used, including code generated from the schemas.
</p>
<ul>
<li><b><a href="delphi.zip">Delphi</a></b>: Resource Definitions, and XML &amp; JSON parsers. D5+. TODO: remove dependencies on unpublished code.</li>
<li><b><a href="java.zip">Java</a></b>: Resource Definitions + parser (+ more todo). The java reference implementation depends on XmlPull (http://www.xmlpull.org/) and the Apache Commons Codec library (http://commons.apache.org/codec/).</li>
<li><b><a href="csharp.zip">C#</a></b>: Resource definitions (+ more todo)</li>
<li><b><a href="ecore.zip">ECore</a></b>: Formal Object Definitions in OCLinECore text format - under development</li>

</ul>

<a name="implementation.defaults"> </a>
<h3>2.1.4: Default Values</h3>
<p>
This is a list of the all the default values defined in the FHIR specification:
</p>
<ul>
  <li>In the RESTful conformance  declaration, support for a transaction is declared on an element of type boolean. If no element is present, the transaction is not supported.</li>
</ul>


    
</div><div><a name="atom"> </a>







<a name="atom.Aggregation"/>
<h2>2.2: Aggregation</h2>
<p>
One basic operation performed with resources is to aggregate a group of resources into a single XML document. 
This is performed in many of the implementation frameworks. Aggregated resources are useful for grouping 
resources together for a variety of different reasons, including:
</p>
<ul>
  <li>Listing a set of resources that have changed since a given instant in time </li>
  <li>Exchanging a set of resources as a single batch</li>
  <li>Grouping a self contained set of resources to act as an exchangeable and persistable group with clinical integrity (i.e. a clinical document)</li>
</ul>
<p>
Resources are aggregated using the Atom format (<a target="_blank" href="http://tools.ietf.org/html/rfc4287">http://tools.ietf.org/html/rfc4287</a>), following this template:
</p>
<pre>
&lt;<b>feed</b> xmlns=&quot;http://www.w3.org/2005/Atom&quot; xmlns:gd=&quot;http://schemas.google.com/g/2005&quot;&gt;
  &lt;<b>title</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.string">string</a>&quot;</font>&gt;<font color="navy">text statement of purpose</font>&lt;/title&gt;
  &lt;<b>updated</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.dateTime">dateTime</a>&quot;</font>&gt;<font color="navy">when aggregation happened</font>&lt;/updated&gt;
  &lt;<b>id</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.id">id</a>&quot;</font>&gt;<font color="navy">unique id for this aggregation</font>&lt;/id&gt;
  &lt;<b>link</b> <a class="cf" href="#xml.Control">mand</a> rel=&quot;via&quot; href=&quot;<font color="navy">aggregating application url</font>&quot;/&gt;

  &lt;<b>entry</b> gd:etag=&quot;<font color="navy">version id</font>&quot;&gt;    <font color="Gray">&lt;!-- Zero+ --&gt;</font>
    &lt;<b>title</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.string">string</a>&quot;</font>&gt;<font color="navy">text summary of resource</font>&lt;/title&gt;
    &lt;<b>link</b> <a class="cf" href="#xml.Control">mand</a> rel=&quot;self&quot; href=&quot;<font color="navy">Master Location for Resource</font>&quot;/&gt;
    &lt;<b>id</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.id">id</a>&quot;</font>&gt;<font color="navy">Master Id for this resource</font>&lt;/id&gt;
    &lt;<b>updated</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.dateTime">dateTime</a>&quot;</font>&gt;<font color="navy">Last Updated for resource</font>&lt;/updated&gt;
    &lt;<b>published</b> <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">type=&quot;<a href="#datatypes.dateTime">dateTime</a>&quot;</font>&gt;<font color="navy">Time resource sourced for aggregation</font>&lt;/updated&gt;
    &lt;<b>author</b>&gt;
      &lt;<b>name</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.string">string</a>&quot;</font>&gt;<font color="navy">Name of Human or Device that authored the resource</font>&lt;/name&gt;
      &lt;<b>uri</b> <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">type=&quot;<a href="#datatypes.uri">uri</a>&quot;</font>&gt;<font color="navy">Link to the resource for the author</font>&lt;/uri&gt;
    &lt;/author&gt;
    &lt;<b>category</b> term=&quot;<font color="navy">[Resource Type]</font>&quot; scheme=&quot;urn:hl7-org:sid/fhir/resource-types&quot;/&gt;  
    &lt;<b>content</b> <a class="cf" href="#xml.Control">mand</a> type=&quot;text/xml&quot;&gt;
      &lt;<b>[ResourceName]</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
         &lt;<b>id</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.id">id</a>&quot;</font>&gt;<font color="navy">Resource Id (i.e. normal resource content)</font>&lt;/id&gt;
         &lt;!-- Content for the resource --&gt;
      &lt;/[ResourceName]&gt;
    &lt;/content&gt;
    &lt;<b>summary</b> <a class="cf" href="#xml.Control">opt</a> type=&quot;xhtml&quot;&gt;
         <font color="Gray">&lt;!-- Narrative from resource for a browser. Must be wrapped in a &lt;div&gt; --&gt;</font>
    &lt;/summary&gt;
    &lt;<b>Signature</b> xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot; <a class="cf" href="#xml.Control">opt</a>&gt;
         <font color="Gray">&lt;!-- Enveloped Digital Signature (see Atom section 5.1) --&gt;</font>
    &lt;/Signature&gt;
  &lt;/entry&gt;
&lt;/feed&gt;
</pre>
<p>Notes:</p>
<ul>
 <li>Logically, an aggregation is a set of resources that are prepared to send somewhere for consumption - a &quot;feed&quot;. There is no implication that the feed is a standing arrangement (though this is not precluded)</li>
 <li>The title for the feed and the entry are arbitary human readable content and not to be used for any automated processing. Applications may populate these in any useful way</li> 
 <li>Every aggregation must have a unique id, which must be a valid <a href="#datatypes.id">id</a>. UUIDs are recommended</li>
 <li>The link elements are mandatory in the atom feed format.</li>
 <li>The type attribute on the <i>content</i> element does appear in the xml instance (it's an atom type, not a FHIR type)</li>
 <li>The entry element carries the <a href="#xml.metadata">three pieces of resource metadata</a>: Version Id, Last Updated, and Master Location</li>
 <li>Author is a required element by the atom element. The author of a resource is not explicit in the FHIR resource model; instead it is delegated to the infrastructure. The name is the name of a human author, or a device. The uri is a link to the resource for the author</li>
 <li>In a RESTful implementation, the Master Location is the URL of the resource on a system that is the master for that resource. In the absence of a known master, or a RESTful implementation, some other location may be used.</li>
 <li>An xml:base element may be specified on the content element, though one is not needed for FHIR resources.</li>
 <li>The aggregation can be signed with a single Enveloped Digital Signature as described in the Atom specification</li>
</ul>

<p>
Readers of the aggregated resources should always look through the resources in the 
atom feed when a <a href="#xml.Resource">resource reference (&sect;1.2.4)</a> is encountered. 
The resource reference will have the resource type and the id of the target, like this:
</p>
<div class="example">
<pre>
  &lt;institution&gt;
    &lt;type&gt;Organization&lt;/type&gt;
    &lt;id&gt;1145c09c-73d0-4297-9835-620e4afa9deb&lt;/id&gt;
  &lt;/institution&gt;
</pre>
</div>
<p>
A reader trying to find this institution should always look through the entries in 
the atom feed prior to looking anywhere else for the institution. If that 
organization is in the feed, it would look like this:
</p>
<div class="example">
<pre>
   .. feed ..
  &lt;entry&gt;
    .. 
    &lt;id&gt;1145c09c-73d0-4297-9835-620e4afa9deb&lt;id&gt;
    .. 
    &lt;category term=&quot;Organization&quot; scheme=&quot;urn:hl7-org:sid/fhir/resource-types&quot;/&gt;

    &lt;content type=&quot;text/xml&quot;&gt;
      &lt;Organization xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
         &lt;id&gt;1145c09c-73d0-4297-9835-620e4afa9deb&lt;/id&gt;
         &lt;!-- other Content for the resource --&gt;
      &lt;/Organization&gt;
    &lt;/content&gt;
  ... feed ...
</pre>
</div>
<p>
It would also be possible to locate the resouce by the url (todo: explanation of this method).
</p>
<a name="atom.Ids"/>
<h3>2.2.1: XML Ids in resources</h3>
<p>
FHIR resources make use of XML id attributes as targets for pointers elsewhere in the document. XML id attributes must be unique 
in the context of a single XML document, and the atom feed is a single XML document. it can be difficult and time consuming - or
impossible in the presence of a digital signature - to fix the id attributes so they are unique when aggregating resources.
For this reason, it is highly recommended that all XML id attributes are prefixed with the type and master id of the resource, like
this: [Type]_[master id]_id (e.g. Person_23442_1). 
</p>
<a name="atom.json"/>
<h3>2.2.2: JSON Format</h3>
<p>
For the <a href="#xml.json">same reasons as resources (&sect;1.2.7)</a>, it is useful to define a standard JSON representation of the atom format. Several existing JSON 
representations of the atom feed are in general use; this specification adopts the <a href="https://developers.google.com/gdata/docs/json">Google GData representation</a>.
</p>
<blockquote>
<p>Note: All of the existing JSON representations of Atom are lacking in simplicity. The Google conversion is at least algorithmic.</p>
</blockquote>

<a name="atom.endpoint"/>
<h3>2.2.3: RESTful support for Aggregations</h3>
<p>
The standard RESTful endpoints (such as [baseurl]/people/#{id}.xml for a Person resource, or [baseurl]/documents/#{id}.xml) handle
the individual resources, and not aggregations (though, per the restful spec, they may serve up aggregations for the <a href="#http.history">history (&sect;2.3.11)</a> and <a href="#http.update">update (&sect;2.3.8)</a> operations). 
There is a special end-point for aggregations at the relative url &quot;/assemblies&quot;, which supports the following operations:
</p>
<table class="list"> 
  <tr><td><b>Instance</b></td><td/></tr>
  <tr><td>read</td><td>Retrieve an aggregation</td></tr>
  <tr><td>vread</td><td>Not supported - aggregations have no version history</td></tr>
  <tr><td>update</td><td>Not supported - aggregations never change</td></tr>
  <tr><td>delete</td><td>Delete an aggregation</td></tr>
  <tr><td>validate</td><td>Check that the content would be acceptable as an update</td></tr>
  <tr><td>history</td><td>Not supported - aggregations never change</td></tr>
  <tr><td>transaction</td><td>Not supported</td></tr>
  <tr><td colspan="2"><b>Manager</b></td></tr>
  <tr><td>search</td><td>Search the aggregations based on some filter criteria. Supported search parameters<br/>
              <ul>
	        <li>Document.id - an id of a document. There should only be one aggregation for each document (optional, for systems that support documents)</li>
	        <li>Message.id - an id of a message. There is usually only one aggregation per message. (optional, for systems that archive messages and make them available in this fashion)</li>
		<li>[ResourceType].id - an id of a resource that may be brought into an aggregation. Multiple aggregations should be expected in the response. (also optional)</li>
	      </ul>
	      </td></tr>
  <tr><td>create</td><td>Create an aggregation (i.e. post to the server. The ID is assigned by the client)</td></tr>
  <tr><td>updates</td><td>Get a list of updates to resources of this type, optionally with some filter criteria</td></tr>
  <tr><td>transaction</td><td>Not supported</td></tr>
  <tr><td>conformance</td><td>Not supported (no conformance statement for aggregations directly)</td></tr>
  <tr><td>schema</td><td>Not supported (no schema for FHIR atom directly)</td></tr>
</table>
<p>
For all these resources, the id (as used in the <a href="#http">RESTful transactions (&sect;2.3)</a>) is the 
unique id of the aggregation. Note that creating an aggregation does not mean that any apparent 
implied transactions in the resources found in the aggregation should be applied to the server resources and/or 
executed by any system - specific transaction are required, either using the RESTful or messaging frameworks, 
or a SOA implementation.
</p>



    
</div><div><a name="http"> </a>




<h2>2.3: RESTful HTTP Details</h2>

<p>
In addition to defining a set of base resources, FHIR also provides a RESTful implementation using HTTP. 
Each resource type has the same set of interactions defined that can be used to manage the resources 
in a highly granular fashion. Applications claiming conformance to this framework
claim to be conformant to &quot;RESTful FHIR&quot;.
</p>
<p>
Note that this RESTful framework adheres as closely as possible to the REST principles. Transactions 
are performed directly on the server resource using an HTTP request/response. The HTTP calls may be
authenticated against a single user account (including using OAuth), but this doesn't cater for common transaction metadata
such as multiple users, responsible party, reasons, consents etc that is commonly encountered in healthcare. Instead, it is assumed that appropriate
security and logs are managed by the client (perhaps through using ATNA), and the server trusts the client to maintain
these. One implication of this is that this RESTful framework is only suitable for use where such 
trust relationships exist (e.g. in a single institution), and not suitable where such trust does not exist 
(e.g. state &amp; national EHR systems, and general internet-based ecosystems). Similarly, this simple 
RESTful interface has no support for explicit archiving, for instance. These type of more sophisticated usages
should consider a <a href="#messaging">messaging (&sect;2.5)</a> or <a href="#implementation.SOA">SOA-based approach (&sect;2.1.1)</a>, or 
some kind of profiled REST interface, such as <a href="#hdata">hData (&sect;2.10)</a>.
</p>
<p>
The following logical interactions are supported:
</p>
<a name="http.interactions"/>
<table class="list"> 
  <tr><td><b>Instance</b></td><td/></tr>
  <tr><td><a href="#http.read">read (&sect;2.3.6)</a></td><td>Read the current state of the resource</td></tr>
  <tr><td><a href="#http.vread">vread (&sect;2.3.7)</a></td><td>A version specific read of the resource</td></tr>
  <tr><td><a href="#http.update">update (&sect;2.3.8)</a></td><td>Update an existing resource by it's id (or create it if it is new)</td></tr>
  <tr><td><a href="#http.delete">delete (&sect;2.3.9)</a></td><td>Delete a resource</td></tr>
  <tr><td><a href="#http.validate">validate (&sect;2.3.10)</a></td><td>Check that the content would be acceptable as an update</td></tr>
  <tr><td><a href="#http.history">history (&sect;2.3.11)</a></td><td>Retrieve the update history for the resource</td></tr>
  <tr><td><a href="#http.transaction">transaction (&sect;2.3.15)</a></td><td>Support for specific transactions defined on the resource</td></tr>
  <tr><td colspan="2"><b>Manager</b></td></tr>
  <tr><td><a href="#http.search">search (&sect;2.3.12)</a></td><td>Search the resource type based on some filter criteria</td></tr>
  <tr><td><a href="#http.create">create (&sect;2.3.13)</a></td><td>Create a new resource with a server assigned id</td></tr>
  <tr><td><a href="#http.updates">updates (&sect;2.3.14)</a></td><td>Get a list of updates to resources of this type, optionally with some filter criteria</td></tr>
  <tr><td><a href="#http.transaction">transaction (&sect;2.3.15)</a></td><td>Support for specific transactions defined on the resource type</td></tr>
  <tr><td><a href="#http.conformance">conformance (&sect;2.3.16)</a></td><td>Get a conformance statement for support of this resource type</td></tr>
  <tr><td><a href="#http.schema">schema (&sect;2.3.17)</a></td><td>Get the XML schema for this resource</td></tr>
</table>

<p>
Note that while these same logical interactions are defined on all
resources, applications are not required to implement all of them. 
An application's <a href="#conformance">conformance statement (&sect;2.4)</a> must say what logical interactions 
are supported.
</p>


<h3>2.3.1: Base URL</h3>
<p>
Each resource lives at a specific location with a known URL 
which is automatically determined from the id, the resource 
type, and the base url of the system.
</p>
<p>
The concept of the base URL is defined because because this specification 
defines an interface rather than any particular system. The base URL 
is the address at which all the resources defined by this 
interface are found. The base URL takes the form of 
</p>
<pre>
http(s)://server/path
</pre>
<p>
The path may end with a trailing slash or not. Each 
resource defined in this specification has a manager
that lives at the address &quot;/[type name]&quot; where type 
name is the name of the type in lower case and plural. 
So, for instance, the resource manager for the type 
&quot;Patient&quot; will live at:
</p>
<pre>
http://server/path/patients
</pre>
<p>
Note that applications may need to remove the trailing
slash from the base URL when appending the resource 
address. All the logical operations are provided 
relative to the address of the resource and defined in 
these terms below. Note that this 
means that given the address of any one resource on a
system, the correct address for all the other resources 
may be determined.

However since application URLs may change, and because local configuration
may dictate that the provider of a resource is different
to that claimed by any particular provider or consumer, 
applications should be adroit at replacing base URLs.
</p>


<h3>2.3.2: HTTP Status Codes</h3>
<p>
For all interactions, if the requested resource is returned as requested, the HTTP status 200 OK 
should be used (except for &quot;create&quot; where the status code should be 201). 
If the resource is not known, the server should return an HTTP status code 404 Not Found. 
Other HTTP errors may be returned as appropriate. 
</p>
<p>
An HTTP redirect should not be used to indicate that the master id has changed. This is because 
the ids are treated as stable references elsewhere and used for matching. Changing an id will 
cause problems with this matching. Redirects may be issued to redirect to a new base URL, or
to a master system for a given resource.  
</p>

<h3>2.3.3: Resource Metadata &amp; Versioning</h3>
<p>
Each resource has an associated set of <a href="#xml.metadata">resource metadata</a>. These map to the http request and response using the following fields:
</p>
<table class="grid">
  <tr><th>Metadata Item</th><th>HTTP Response Header</th></tr>
  <tr><td>Version Id</td><td>ETag</td></tr>
  <tr><td>Last Modified Date</td><td>Last-Modified</td></tr>
  <tr><td>Master Location</td><td>Content-Location</td></tr>
</table>


<h3>2.3.4: Security</h3>
<p>
For this specification, normal HTTP security and authentication
rules apply. The base URL will specify whether SSL is 
required. HTTP authentication, including possibly the requirement for 
client certificates, may be required by the provider. 
It is a matter of application requirements and local 
configuration whether all interactions run under the account of 
a trusted system user, or whether each interaction runs under the 
account of the individual user. 
</p>
<p>
All the URLs defined below may be extended to support the OAuth protocol. 
</p>
<h3>2.3.5: Content Types &amp; File Extensions</h3>
<p>
This same RESTful protocol may be used with either the XML or JSON representations <a href="#xml">defined for resources (&sect;1.2)</a>.
The mime types text/xml and application/json are to be used in the HTTP Content-Type or Accept header respectively to indicate which 
form is the requested or returned content takes . In addition, the URLs defined below may have the file extensions 
.xml or .json may be appended to the URL where appropriate, as indicated by <i>(.ext)</i> below. For reasons of general compatibility, servers and clients may accept application/xml, but must specify text/xml themselves.
</p>
<p>
Servers are required to support the XML form. Support for the JSON format is optional. Servers must support the 
Content-Type and Accept headers. Because of established browser behaviour, file extensions in the URL overrule the 
values specified in the headers. 
</p>
<a name="http.read"> </a>
<h3>2.3.6: read</h3>
<p>
The read interaction accesses the current contents of a resource. The interaction
is performed by an HTTP GET operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/{@id} (.ext)
</pre>
<p>
This returns a single instance with the content that which is specified for the resource type.
This url may be accessed by a browser. The id is preceded by a &quot;:&quot; to make parsing the url easier.
The possible values for the id itself are described in the <a href="#xml.Resource">Resource Type (&sect;1.2.4)</a>.
The http headers ETag, and Last-Modified must be returned by the server, and the Content-Location should be 
returned. 
</p>

<a name="http.vread"> </a>
<h3>2.3.7: vread</h3>
<p>
The vread interaction preforms a version specific read of the resource. The interaction
is performed by an HTTP GET operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/{@id}/version-{:vid} (.ext)
</pre>
<p>
This returns a single instance with the content that which is specified for the resource type.
This url may be accessed by a browser. The http headers ETag, and Last-Modified, must be returned by the server, and are the values that apply for this version of the resource.
</p>
<p>
The version id is an opaque identifier that conforms to the same format requirements as 
a resource id. The id may be found by performing a history operation (see below), by recording the 
ETag return with a normal fetch operation, or from a version specific reference in a content model. 
The vread interaction should succeed even after a resource is deleted as long as a correct version 
identifier is provided. 
</p>

<a name="http.update"> </a>
<h3>2.3.8: update</h3>
<p>
The update interaction changes an existing resource, or creates a new resource of it doesn't already exist. 
The update interaction is performed by an HTTP PUT operation as shown:
</p>
<pre>
  PUT [baseurl]/[resourcetype]/{@id} (.ext)
</pre>
<p>
The server returns a copy of the newly updated resource (which may not be the same as that submitted) with the response.
</p>
<p>
Servers may choose to require version checking, and only accept submitted updates that have an If-Match header that
contains a matching version id for the current version of the resource. According to the http specification, it's 
up to the client to decide whether to provide an If-Match header, and if it does, the server must observe it. 
On normal update operations the client should not provide an If-Match header, and if the server wishes to receive it,
it should return a 412 error with the words &quot;If-Match&quot; in the response text. Upon receiving this error, the client
should resubmit with the If-Match header, if it is able. The Last-Modified dateTime may not suitable for concurrency
checking as it only has a resolution limit of per-second, and there are other problems with dates as well.
</p>
<a name="http.delete"> </a>
<h3>2.3.9: delete</h3>
<p>
The delete interaction removes an existing resource. The interaction
is performed by an HTTP DELETE operation as shown:
</p>
<pre>
  DELETE [baseurl]/[resourcetype]/{@id} (.ext)
</pre>
<p>
Servers may refuse to delete a resource depending on the resource type and/or contents, and on audit requirements. If a server refuses 
to delete resources of that type on principle, then it should return the status code 405 method not allowed. 
If the server refuses to delete a resource because of reasons specific to that resource, such as 
referential integrity, it should return the status code 412 Expectation Failed.
</p>

<a name="http.validate"> </a>
<h3>2.3.10: validate</h3>
<p>
The validate interaction checks whether the attached content would be acceptable as an 
update to an existing resource. The interaction is performed by an HTTP POST operation as shown:
</p>
<pre>
  POST [baseurl]/[resourcetype]/validate
  POST [baseurl]/[resourcetype]/validate/{@id}
</pre>
<p>
In the first case, the content is checked against the general specification and against 
the conformance profile that applies to the application. In the second case, the validation 
occurs as if the resource were submitted as an update, and additional instance specific things 
such as referential integrity and update rules are applied as well.
The return content has status 200 OK if the content validates ok, or 412 Precondition Failed,
with the following content:
</p>
<pre>
 &lt;<b>validation</b> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
   &lt;<b>error</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;<a href="#datatypes.string">string</a>&quot;</font>&gt;<font color="navy">General error message</font>&lt;/errror&gt;  
   &lt;<b>messages</b> <font color="darkgreen">type=&quot;list&quot;</font>&gt;   <font color="Gray">&lt;!-- Zero+ --&gt;</font>
     &lt;<b>message</b>&gt;
       &lt;<b>path</b> <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">type=&quot;string&quot;</font><font color="navy">xpath to the issue</font>&lt;/path&gt;
       &lt;<b>error</b> <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">type=&quot;string&quot;</font>&gt;<font color="navy">Description of the problem</font>&lt;/error&gt;
     &lt;/message&gt;
   &lt;messages&gt;
 &lt;/validation&gt;
</pre>

<a name="http.history"> </a>
<h3>2.3.11: history</h3>
<p>
The history interaction retrieves the history of the resource. The interaction is performed by an HTTP Get operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/{@id} (.ext)?view=history
</pre>
<p>
The return content is an <a href="#atom.Aggregation">Atom feed aggregration (&sect;2.2)</a> containing the version history for that 
resource, sorted with oldest versions first.
</p>
<a name="http.search"> </a>
<h3>2.3.12: search</h3>
<p>
This interaction searches the resource type based on some filter criteria. The interaction is performed by an HTTP Get operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/search (.ext)
</pre>
<p>
Because of the way that some user agents treat POST requests, POST submissions are also allowed, though the semantics are exactly the 
same as a GET operation. Search operations take a series of parameters that are encoded in the URL or as an x-multi-part-form submission
for a POST. Each resource type defines the applicable search parameters, and servers may declare additional parameters in their 
conformance statements. In addition, the following common search parameters apply to all resource types:
</p>
<table class="list">
  <tr><td>n</td><td>Starting offset of the first record to return in the search set</td></tr>
  <tr><td>count</td><td>Number of return records requested. The server is not bound to conform.</td></tr>
    <!-- - - <tr><td>[path]</td><td>a value to match in the content model.</td></tr>   -->
    <!-- - -The path is a reference to an element in the content model. The general form is [name].[name] etc. 
So to search by a patient telephone number, the parameter would be contacts.contact.value, and the 
value of the parameter would be tel:[#].   -->
</table>
<p>
The search results may be divided into a number of pages using offsets. 
It is at the discretion of the server how many results to return, though
the client may request a particular number of a <i>count</i> parameter. If
the client wishes for more results, it should use the <i>n</i> parameter.
More generally, the client uses parameters to narrow the search and 
increase it's usefulness. Note that which parameters to support is at the discretion of the server.
</p>
<p>
The return content is an <a href="#atom.Aggregation">Atom feed aggregration (&sect;2.2)</a> containing the results of the search
in a defined order. This specification does not assign any particular meaning to the order of the resources.
</p>

<a name="http.create"> </a>
<h3>2.3.13: create</h3>
<p>
The create interaction creates a new resource. The interaction
is performed by an HTTP POST operation as shown:
</p>
<pre>
  POST [baseurl]/[resourcetype] (.ext)
</pre>
<p>
The server returns a a copy of the newly created resource (which may not be the same as that submitted) 
with the acknowledgement, along with a Location: header which also contains the id of the created resource:
</p>
<pre>
 Location: [baseurl]/[resourcetype]/{new-id} (.ext)
</pre>
<p>
The client may submit the content with or without an id included. If the submitted resource contains an id, 
the server must either honor the requested id, or return a 409 Conflict if
a resource already exists by that id, or a 403 Forbidden if it will not 
honor client defined ids at all</p>

<a name="http.updates"> </a>
<h3>2.3.14: updates</h3>
<p>
The updates interaction retrieves a list of changes to the resource type. The interaction is performed by an HTTP Get operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/updates (.ext)
</pre>
<p>
The return content is an <a href="#atom.Aggregation">Atom feed aggregration (&sect;2.2)</a> containing the update history for that 
resource type, sorted with oldest updates first.
</p>
<p>
The client can use parameters to filter the update list. The following table summarises ths search parameters:
</p>
<table class="list">
  <tr><td>since</td><td>The time from which to return new updates</td></tr>
  <tr><td>from</td><td>A version Id (e-tag value) from which to return updates</td></tr>
    <!-- - -  <tr><td>[path]</td><td>a value to match in the content model.</td></tr>   -->
</table>
    <!-- - -<p>
See search above for details of the [path]. 
</p>   -->

<a name="http.transaction"> </a>
<h3>2.3.15: transaction</h3>
<p>
The transaction interaction provides support for specific transactions defined against the resource
by this specification. The transaction interaction is supported on both individual resources and the type:
</p>
<pre>
  POST [baseurl]/[resourcetype]/transaction/[name](.ext)
  POST [baseurl]/[resourcetype]/transaction/{@id}/[name](.ext)
</pre>
<p>
The name of the transaction, along with the content model of the request and response will be specified against each resource 
when the possible transactions are defined throughout this specification.
</p>

<a name="http.conformance"> </a>
<h3>2.3.16: conformance</h3>
<p>
The conformance interaction retrieves the application's conformance statement for the resource. The interaction is performed by an HTTP Get operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/conformance (.ext)
</pre>
<p>
For the return content, see the <a href="#conformance">Conformance Resource (&sect;2.4)</a>. If a 404 Unknown is returned, the resource is not supported, and no other interactions are implemented.
</p>

<a name="http.schema"> </a>
<h3>2.3.17: schema</h3>
<p>
The schema interaction retrieves a w3c schema for the resource. The interaction is performed by an HTTP Get operation as shown:
</p>
<pre>
  GET [baseurl]/[resourcetype]/schema.xsd
</pre>
<p>
The return content is a W3C schema that describes the resource. The schema does not have to be the one defined 
with this specification; it can eliminate elements not supported by the server, and explicitly define 
extensions supported by the server. However the xml format it describes must be consistent with the 
rules defined in this specification.
</p>

<h3>2.3.18: Intermediaries</h3>
<p>
The HTTP protocol may be routed through an HTTP proxy such as 
squid. Such proxies are transparent to the applications, though
implementors should be alert to the effects of rogue caching.
</p>
<p>
Interface engines may also be placed between the consumer and
the provider; these differ from proxies because they actively
change the content and/or destination of the HTTP exchange.
Such agents are allowed, but are bound to the conform to 
this specification. In order to assist with troubleshooting,
any agent that modifies an HTTP request or Response content must add 
a stamp to the HTTP headers like this:
</p>
<pre>
  request-modified-[identity]: [purpose]
  response-modified-[identity]: [purpose]
</pre>
<p>
The identity must a single token defined by the administrator of the agent
that will sufficiently identify the agent in the context of use. The header
must specify the agents purpose in modifying the content. End point systems must
not use this header for any purpose; it's aim is to assist with 
system troubleshooting.
</p>





    
</div><div><a name="conformance"> </a>

<h2>2.4: Conformance</h2>
<p>
A conformance statement returned by request in an RESTful framework.
</p>
<p>
The relative url is /conformances
</p>
<h3>2.4.1: 
Content
</h3>
<p><img alt="UML Image" src="conformance.png"/></p>

<pre>
&lt;<a title="A conformance statement returned by request in an RESTful framework" class="dict" href="#conformance.Conformance"><b>Conformance</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Globally unique Conformance Statement Id (Must be a UUID)" class="dict" href="#conformance.Conformance.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">ConformanceStatement Id (UUID)</font>&lt;/id&gt;
  &lt;<a title="Date that the conformance statement is published" class="dict" href="#conformance.Conformance.date"><b>date</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Publication Date</font>&lt;/date&gt;
  &lt;<a title="The organization that publishes this conformance statement" class="dict" href="#conformance.Conformance.publisher"><b>publisher</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> 
   &lt;<a title="Name of Organization" class="dict" href="#conformance.Conformance.publisher.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Publishing Organization</font>&lt;/name&gt;
   &lt;<a title="Address of Organization" class="dict" href="#conformance.Conformance.publisher.address"><b>address</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">Address of Organization</font>&lt;/address&gt;
   &lt;<a title="Contacts for Organization" class="dict" href="#conformance.Conformance.publisher.contact"><b>contact</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">Contacts for Organization</font>&lt;/contact&gt;
  &lt;/publisher&gt;
  &lt;<a title="The software that is covered by this conformance statement" class="dict" href="#conformance.Conformance.software"><b>software</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> 
   &lt;<a title="Name software is known by" class="dict" href="#conformance.Conformance.software.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name software is known by</font>&lt;/name&gt;
   &lt;<a title="Version covered by this statement" class="dict" href="#conformance.Conformance.software.version"><b>version</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Version covered by this statement</font>&lt;/version&gt;
   &lt;<a title="Date this version released" class="dict" href="#conformance.Conformance.software.releaseDate"><b>releaseDate</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Date this version released</font>&lt;/releaseDate&gt;
  &lt;/software&gt;
  &lt;<a title="client | server" class="dict" href="#conformance.Conformance.mode"><b>mode</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">client | server</font>&lt;/mode&gt;
  &lt;<a title="Additional other profiles that apply to this conformance statement." class="dict" href="#conformance.Conformance.profile"><b>profile</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">other profiles that apply (i.e. code binding rules)</font>&lt;/profile&gt;
  &lt;<a title="Resource Type with constraints" class="dict" href="#conformance.Conformance.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#constraint.Constraint">Constraint</a></font> <font color="navy">Resource Type with constraints</font>&lt;/resource&gt;
  &lt;<a title="null" class="dict" href="#conformance.Conformance.operation"><b>operation</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> 
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.read"><b>read</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/read&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.vread"><b>vread</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/vread&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.update"><b>update</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/update&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.delete"><b>delete</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/delete&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.validate"><b>validate</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/validate&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.history"><b>history</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/history&gt;
   &lt;<a title="only if supported" class="dict" href="#conformance.Conformance.operation.transaction"><b>transaction</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- only if supported --&gt;</font>
    &lt;<a title="transaction names supported" class="dict" href="#conformance.Conformance.operation.transaction.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">transaction names supported</font>&lt;/name&gt;
   &lt;/transaction&gt;
   &lt;<a title="only if supported" class="dict" href="#conformance.Conformance.operation.search"><b>search</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- only if supported --&gt;</font>
    &lt;<a title="search params supported" class="dict" href="#conformance.Conformance.operation.search.param"><b>param</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">search params supported</font>&lt;/param&gt;
   &lt;/search&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.create"><b>create</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- if supported --&gt;</font>
    &lt;<a title="source of id: client | server | either" class="dict" href="#conformance.Conformance.operation.create.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">source of id: client | server | either</font>&lt;/id&gt;
   &lt;/create&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.updates"><b>updates</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font>  <font color="Gray">&lt;!-- if supported --&gt;</font>
    &lt;<a title="update filter params supported" class="dict" href="#conformance.Conformance.operation.updates.param"><b>param</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">update filter params supported</font>&lt;/param&gt;
   &lt;/updates&gt;
   &lt;<a title="if supported" class="dict" href="#conformance.Conformance.operation.schema"><b>schema</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if supported</font>&lt;/schema&gt;
  &lt;/operation&gt;
  &lt;<a title="See Extensions" class="dict" href="#conformance.Conformance.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of conformance profile for human interpretation" class="dict" href="#conformance.Conformance.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of conformance profile for human interpretation</font>&lt;/text&gt;
&lt;/Conformance&gt;
</pre>


<p><a href="conformance.xsd">Schema for Conformance</a> and <a href="conformance.xml">an example</a> (or <a href="#conformance">formatted for browser (&sect;2.4)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Conformance.mode is  bound to the concept domain <i>RestfulConformanceMode</i>: &quot;The mode of a restful conformance statement&quot;. Possible values:
    <table class="codes">
    <tr><td>client</td><td colspan="2">The application acts as a server for this resource</td></tr>    <tr><td>server</td><td colspan="2">The application acts as a client for this resource</td></tr>    </table>
  </li>
  <li>Conformance.resource is  bound to the concept domain <i>ResourceType</i> which has the allowed values of <a href="#terminologies.ResourceType"> any defined Resource Type name (&sect;1.5.4)</a></li>
  <li>Conformance.operation.create.id is  bound to the concept domain <i>ResourceIdSource</i>: &quot;The system responsible for the provision of a resource unique id&quot;. Possible values:
    <table class="codes">
    <tr><td>client</td><td colspan="2">The client must provide a unique resource id</td></tr>    <tr><td>server</td><td colspan="2">The server defines the id and will reject any client attempt to define it</td></tr>    <tr><td>either</td><td colspan="2">The client can provide a unique resource id, or the server will define it instead</td></tr>    </table>
  </li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The MessageConformance resource is a special case; it is only defined for the conformance framework, and is not encountered in other contexts</li>
<li>The interpretation of request and resource depends on the mode. If the mode is sender, then request specifies what the application sends, and response specifies what it accepts. If the mode is &quot;listener&quot;, then this is reversed</li>
<li>If a request or response is not specified for an event, then no rules are made for it</li>
<li>Events that are not listed are not supported</li>
</ul>  



<h3>2.4.2: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance"> </a><b>Conformance</b></td></tr>
  <tr><td>Definition</td><td>A conformance statement returned by request in an RESTful framework</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.id"> </a><b>Conformance.id</b></td></tr>
  <tr><td>Definition</td><td>Globally unique Conformance Statement Id (Must be a UUID)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.date"> </a><b>Conformance.date</b></td></tr>
  <tr><td>Definition</td><td>Date that the conformance statement is published</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.publisher"> </a><b>Conformance.publisher</b></td></tr>
  <tr><td>Definition</td><td>The organization that publishes this conformance statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.publisher.name"> </a><b>Conformance.publisher.name</b></td></tr>
  <tr><td>Definition</td><td>Name of Organization</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.publisher.address"> </a><b>Conformance.publisher.address</b></td></tr>
  <tr><td>Definition</td><td>Address of Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.publisher.contact"> </a><b>Conformance.publisher.contact</b></td></tr>
  <tr><td>Definition</td><td>Contacts for Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.software"> </a><b>Conformance.software</b></td></tr>
  <tr><td>Definition</td><td>The software that is covered by this conformance statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.software.name"> </a><b>Conformance.software.name</b></td></tr>
  <tr><td>Definition</td><td>Name software is known by</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.software.version"> </a><b>Conformance.software.version</b></td></tr>
  <tr><td>Definition</td><td>Version covered by this statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.software.releaseDate"> </a><b>Conformance.software.releaseDate</b></td></tr>
  <tr><td>Definition</td><td>Date this version released</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.mode"> </a><b>Conformance.mode</b></td></tr>
  <tr><td>Definition</td><td>client | server</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from RestfulConformanceMode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.profile"> </a><b>Conformance.profile</b></td></tr>
  <tr><td>Definition</td><td>Additional other profiles that apply to this conformance statement.</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td> Generally these profiles make  constraints on the bindings of concept domains / value sets</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.resource"> </a><b>Conformance.resource</b></td></tr>
  <tr><td>Definition</td><td>Resource Type with constraints</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Constraint from ResourceType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation"> </a><b>Conformance.operation</b></td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: A resource type is required if the event declaration has multiple focal resources</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.read"> </a><b>Conformance.operation.read</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.vread"> </a><b>Conformance.operation.vread</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.update"> </a><b>Conformance.operation.update</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.delete"> </a><b>Conformance.operation.delete</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.validate"> </a><b>Conformance.operation.validate</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.history"> </a><b>Conformance.operation.history</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.transaction"> </a><b>Conformance.operation.transaction</b></td></tr>
  <tr><td>Definition</td><td>only if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.transaction.name"> </a><b>Conformance.operation.transaction.name</b></td></tr>
  <tr><td>Definition</td><td>transaction names supported</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.search"> </a><b>Conformance.operation.search</b></td></tr>
  <tr><td>Definition</td><td>only if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.search.param"> </a><b>Conformance.operation.search.param</b></td></tr>
  <tr><td>Definition</td><td>search params supported</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.create"> </a><b>Conformance.operation.create</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.create.id"> </a><b>Conformance.operation.create.id</b></td></tr>
  <tr><td>Definition</td><td>source of id: client | server | either</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ResourceIdSource</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.updates"> </a><b>Conformance.operation.updates</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.updates.param"> </a><b>Conformance.operation.updates.param</b></td></tr>
  <tr><td>Definition</td><td>update filter params supported</td></tr>
  <tr><td>Control</td><td>Mandatory, 0..*</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.operation.schema"> </a><b>Conformance.operation.schema</b></td></tr>
  <tr><td>Definition</td><td>if supported</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.extensions"> </a><b>Conformance.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="conformance.Conformance.text"> </a><b>Conformance.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of conformance profile for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="messaging"> </a>






<h2>2.5: Traditional Messaging Framework</h2>

<p>
This page describes how  FHIR Resources can be used in a traditional messaging 
context, much like HL7 v2. Applications claiming conformance to this framework
claim to be conformant to &quot;FHIR messaging&quot;. 
</p>
<p>
In FHIR messaging, a &quot;request message&quot; is sent from a source application to a destination
application when an event happens. Events mostly correspond to things that happen in the 
real world. The request application consists of an <a href="#atom.Aggregation">aggregation (&sect;2.2)</a>
of resources, with the first resource in the aggregation being a <a href="#message">Message (&sect;2.6)</a> resource
that identifies the nature of the request message and carries additional request metadata. The other 
resources in the aggregation depend on the request. The events supported in FHIR, along
with the resources included in them, are defined below. The destination application processes
the request, and returns one or more response messages which are also an <a href="#atom.Aggregation">aggregation (&sect;2.2)</a>
of resources, with the first resource in the aggregation being a <a href="#message">Message (&sect;2.6)</a> resource with a response
section that reports the outcome of the transaction and any additional response resources required.
</p>
<h3>2.5.1: Basic Messaging Assumptions</h3>
<p>
This specification assumes that content will be delivered from one application
to another by some delivery mechanism, and then a response will be returned 
to the source application. The exact mechanism of transfer is irrelevant to
this specification, but may include file transfer, http based transfer, LLP
(HL7 minimal lower layer protocol), MQ series messaging, or anything else. 
The only requirement for the transfer layer is that requests are sent to 
a known location, and responses are returned to the source of the request. 
This specification considers the source and destination applications as logical
entites, and the mapping from logical source and destination to implementation
specific addresses is outside the scope of this specification.
</p>
<p>
In principle, source applications are not required to wait for a response to a transaction before 
issuing a new transaction. However in some case, the transactions in a given stream are dependent
on each other, and must be sent in order. In addition, some transfer options may require sequential
delivery of messages.
</p>
<p>
This specification ignores the existence of interface engines and message transfer agents that 
lie between the <i>source</i> and <i>destination</i>. Either they are transparent to the message/transaction 
content, and irrelevant to this specification, or they are actively involved in manipulating the 
message content. If these middleware agents are modifying the message content, then they become
responsible for honoring the contract described below in both directions.
</p>
<h4>2.5.1.1: Absence of Reliable Messaging</h4>
<p>
Some of the message delivery mechanisms mentioned above are reliable delivery
systems - the message is always delivered, or an appropriate error is returned
to the source. However in most implementations, reliable messaging cannot be 
assumed, and either the request or the response can get lost in transit.
FHIR messaging describes a simple approach to handle this that applications 
must conform to, whether messaging appears to be reliable or not.
</p>
<p>
A message receiver must always check the incoming aggregation package ids,
and check them against a store of previously received messages (going back a reasonable period in time). If it receives
a duplicate message id that it has already responded to, it should assume that 
it's original response was lost, and resend the original response in a new 
aggregation package with Message.response.duplicate set to true. 
If the source application gets no response to it's request from the destination application, the 
source application should resend the same aggregation with the same aggregation package id. 
</p>
<h3>2.5.2: Message Format</h3>
<p>
A message is just an <a href="#atom.Aggregation">aggregation (&sect;2.2)</a> built using the
Atom feed format. The first resource of a message is a <a href="#message">Message (&sect;2.6)</a> 
resource. This resource identifies 
the message event and links to the additional focal resource associated with the message, if any. The list
of additional resources which must be included in a given message is provided
below. Other resources that are identified in the message resource or included resources may either be left 
as references that are located/resolved outside the scope of the aggregation, or they may also be included
in the aggregation.
</p>
<a name="messaging.Events"/>
<h3>2.5.3: Event List</h3>

<table class="grid">
 <tr><th>Code</th><th>Description</th><th>Request</th><th>Response</th><th>Notes</th></tr>
 <tr><td rowspan="4">admin-notify</td><td rowspan="4">Notification of a change to an administrative resource (either create or update). Note that there is no delete, though some administrative resources have status or period elements for this use</td><td>Person</td><td><font color="silver">--</font></td><td/></tr>
 <tr><td>Animal</td><td><font color="silver">--</font></td><td/></tr>
 <tr><td>Organization</td><td><font color="silver">--</font></td><td/></tr>
 <tr><td>Patient</td><td><font color="silver">--</font></td><td>Patient Links cannot be updated using admin-notify. The links element must be empty</td></tr>
 <tr><td>labreport-provide</td><td>Provide a lab report, or update a previously provided lab report</td><td>LabReport<br/>&nbsp;LabReport.patient<br/>&nbsp;LabReport.patient.person<br/>&nbsp;LabReport.patient.animal<br/>&nbsp;LabReport.admission<br/>&nbsp;LabReport.requestDetail.clinicalInfo<br/>&nbsp;LabReport.specimen<br/>&nbsp;LabReport.resultGroup.specimen</td><td><font color="silver">--</font></td><td/></tr>
 <tr><td>patient-link</td><td>Notification that two patient records actually identify the same patient</td><td>Patient,Patient</td><td><font color="silver">--</font></td><td>Follow ups: patient-unlink?</td></tr>
 <tr><td>patient-unlink</td><td>Notification that previous advice that two patient records concern the same patient is now considered incorrect</td><td>Patient,Patient</td><td><font color="silver">--</font></td><td/></tr>
</table>

<p>

</p>
<h3>2.5.4: Conformance Statement</h3>
<p>
Applications claiming to be conformant to &quot;FHIR messaging&quot; may choose to publish a conformance statement that
lists all the message events they support, either as sender or listener, and for each event, which resources
are aggregated (sender), or are required to be aggregated (listener), and the conformance statements for the 
information content of the individual resources. The conformance statement is a <a href="#messageconformance">resource with the name &quot;MessageConformance&quot; (&sect;2.7)</a>.
</p>



    
</div><div><a name="message"> </a>

<h2>2.6: Message</h2>
<p>
A message that contains FHIR resources.
</p>
<p>
The relative url is /messages
</p>
<h3>2.6.1: 
Content
</h3>
<p><img alt="UML Image" src="message.png"/></p>

<pre>
&lt;<a title="A message that contains FHIR resources" class="dict" href="#message.Message"><b>Message</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Unique Id for this message" class="dict" href="#message.Message.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id = Message Id</font>&lt;/id&gt;
  &lt;<a title="Id of the thread - a series of messages that pertain to the same logical sequence, and are all identified by the same thread identifier" class="dict" href="#message.Message.threadId"><b>threadId</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Id of thread of conversation</font>&lt;/threadId&gt;
  &lt;<a title="Instant the message was sent" class="dict" href="#message.Message.instant"><b>instant</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#instant.instant">instant</a></font> <font color="navy">Instant the message was sent</font>&lt;/instant&gt;
  &lt;<a title="Code that identifies the event this message represents, and connects it with the event definition in the FHIR specification" class="dict" href="#message.Message.event"><b>event</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Code for the event his message represents</font>&lt;/event&gt;
  &lt;<a title="Information about the the message that this message is a response to - if it is a response" class="dict" href="#message.Message.response"><b>response</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- If this is a response --&gt;</font>
   &lt;<a title="The id of the message that this a response to" class="dict" href="#message.Message.response.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Id of original message</font>&lt;/id&gt;
   &lt;<a title="Code that identifies the type of response to the message - whether it was successful or not, and whether it should be resent or not" class="dict" href="#message.Message.response.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Type of response to the message</font>&lt;/code&gt;
   &lt;<a title="True if this is not the first response, because the request message has been received more than once" class="dict" href="#message.Message.response.duplicate"><b>duplicate</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">if this is not the first response</font>&lt;/duplicate&gt;
  &lt;/response&gt;
  &lt;<a title="The source application from which this message originated" class="dict" href="#message.Message.source"><b>source</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Device.Device">Device</a>)</font> <font color="navy">Message Source Application</font>&lt;/source&gt;
  &lt;<a title="The destination application which the message is intended for" class="dict" href="#message.Message.destination"><b>destination</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Device.Device">Device</a>)</font> <font color="navy">Message Destination Application</font>&lt;/destination&gt;
  &lt;<a title="The person or device that performd the data entry leading to this message. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions" class="dict" href="#message.Message.enterer"><b>enterer</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Device.Device">Device</a>)</font> <font color="navy">The source of the data entry</font>&lt;/enterer&gt;
  &lt;<a title="The logical author of the message - the person or device that decided it should happen. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions" class="dict" href="#message.Message.author"><b>author</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Device.Device">Device</a>)</font> <font color="navy">The source of the decision</font>&lt;/author&gt;
  &lt;<a title="The person or organization that accepts overall responsbility for the contents of the message. The implication is that the message event happened under the policies of the responsible party" class="dict" href="#message.Message.responsible"><b>responsible</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">final responsibility for event</font>&lt;/responsible&gt;
  &lt;<a title="The effective time - the real world time of the even that the message represents. Usually this is just a starting time, but some message events also have an end time (do x for period y)" class="dict" href="#message.Message.effective"><b>effective</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)</font> <font color="navy">time of effect</font>&lt;/effective&gt;
  &lt;<a title="The cause of the event - a reason for why this message is being sent" class="dict" href="#message.Message.reason"><b>reason</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Cause of event</font>&lt;/reason&gt;
  &lt;<a title="The actual data of the message - a reference to the focus class of the message. " class="dict" href="#message.Message.data"><b>data</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen">(<a href="#Any.Any">Any</a>)</font> <font color="navy">The actual content of the message</font>&lt;/data&gt;
  &lt;<a title="See Extensions" class="dict" href="#message.Message.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title=" " class="dict" href="#message.Message.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of message, for human interpretation</font>&lt;/text&gt;
&lt;/Message&gt;
</pre>


<p><a href="message.xsd">Schema for Message</a> and <a href="message.xml">an example</a> (or <a href="#message">formatted for browser (&sect;2.6)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
<li>Message.event is  bound to the concept domain <i>MessageEvent</i> which has the allowed values defined for <a href="#messaging.Events"> Event List in the messaging framework (&sect;2.5.3)</a></li>
  <li>Message.response.code is  bound to the concept domain <i>ResponseCode</i>: &quot;The kind of response to a message&quot;. Possible values:
    <table class="codes">
    <tr><td>ok</td><td colspan="2">The message was accepted and processed without error</td></tr>    <tr><td>error</td><td colspan="2">Some internal unexpected error occured - wait and try again. Note - this is usually used for things like database unavailable, which may be expected to resolve, though human intervention may be required</td></tr>    <tr><td>rejection</td><td colspan="2">The message was rejected because of some content in it. There is no point in re-sending without change. The response narrative must describe what the issue is</td></tr>    <tr><td>rules</td><td colspan="2">The message was rejected because of some event-specific business rules, and it may be possible to modify the request and re-submit (as a different request). The response data must clarify what the change would be, as described by the event definition</td></tr>    <tr><td>undeliverable</td><td colspan="2">A middleware agent was unable to deliver the message to it's supposed destination</td></tr>    </table>
  </li>
  <li>Message.reason is  bound to the concept domain <i>EventReason</i>: &quot;The reason for an event occurring&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The Message resource is a special case; it is only defined for the messaging framework, and is not encountered in other contexts</li>
<li>The Message resource is always found in an aggregation. The resource references source, destination, enterer, author, and responsible may 
  all be included in the aggregation or left out on the basis that the recipient (and any intermediaries) are able to locate/resolve the resources
  independently. The former would be suitable for loosely coupled systems, and the latter for tightly coupled systems. The messaging conformance 
  statement for an application must describe what aggregation occurs or is required here</li>
<li>The actual content of the data is specified per message event. The data resource is always aggregated</li>
</ul>  


<h3>2.6.2: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message"> </a><b>Message</b></td></tr>
  <tr><td>Definition</td><td>A message that contains FHIR resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Many implementations are not prepared to use REST, and need a message based infrastructure</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.id"> </a><b>Message.id</b></td></tr>
  <tr><td>Definition</td><td>Unique Id for this message</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Each message needs a unique identifier so other messages and underlying infrastructure can reference it</td></tr>
  <tr><td>Comments</td><td>must be unique within a channel, but should be globally unique. UUIDs are recommended</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.threadId"> </a><b>Message.threadId</b></td></tr>
  <tr><td>Definition</td><td>Id of the thread - a series of messages that pertain to the same logical sequence, and are all identified by the same thread identifier</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.instant"> </a><b>Message.instant</b></td></tr>
  <tr><td>Definition</td><td>Instant the message was sent</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>instant</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.event"> </a><b>Message.event</b></td></tr>
  <tr><td>Definition</td><td>Code that identifies the event this message represents, and connects it with the event definition in the FHIR specification</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from MessageEvent</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.response"> </a><b>Message.response</b></td></tr>
  <tr><td>Definition</td><td>Information about the the message that this message is a response to - if it is a response</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.response.id"> </a><b>Message.response.id</b></td></tr>
  <tr><td>Definition</td><td>The id of the message that this a response to</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Comments</td><td>this message must have the same threadId as the original message (including missing if the original message threadId was missing)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.response.code"> </a><b>Message.response.code</b></td></tr>
  <tr><td>Definition</td><td>Code that identifies the type of response to the message - whether it was successful or not, and whether it should be resent or not</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ResponseCode</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Comments</td><td>This is a generic response to the request message. Specific data for the response will be found in Message.data</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.response.duplicate"> </a><b>Message.response.duplicate</b></td></tr>
  <tr><td>Definition</td><td>True if this is not the first response, because the request message has been received more than once</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Comments</td><td>The request shouldn't be received more than once if reliable message delivery applies, but mostly it doesn't</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.source"> </a><b>Message.source</b></td></tr>
  <tr><td>Definition</td><td>The source application from which this message originated</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Device)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.destination"> </a><b>Message.destination</b></td></tr>
  <tr><td>Definition</td><td>The destination application which the message is intended for</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Device)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.enterer"> </a><b>Message.enterer</b></td></tr>
  <tr><td>Definition</td><td>The person or device that performd the data entry leading to this message. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Device)</td></tr>
  <tr><td>Requirements</td><td>Need to know for audit/traceback requirements</td></tr>
  <tr><td>Comments</td><td>Usually only for the request, but can be used in a response</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.author"> </a><b>Message.author</b></td></tr>
  <tr><td>Definition</td><td>The logical author of the message - the person or device that decided it should happen. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Device)</td></tr>
  <tr><td>Requirements</td><td>Need to know for audit/traceback requirements</td></tr>
  <tr><td>Comments</td><td>Usually only for the request, but can be used in a response</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.responsible"> </a><b>Message.responsible</b></td></tr>
  <tr><td>Definition</td><td>The person or organization that accepts overall responsbility for the contents of the message. The implication is that the message event happened under the policies of the responsible party</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Organization)</td></tr>
  <tr><td>Requirements</td><td>Need to know for audit/traceback requirements</td></tr>
  <tr><td>Comments</td><td>Usually only for the request, but can be used in a response</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.effective"> </a><b>Message.effective</b></td></tr>
  <tr><td>Definition</td><td>The effective time - the real world time of the even that the message represents. Usually this is just a starting time, but some message events also have an end time (do x for period y)</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(dateTime)</td></tr>
  <tr><td>Requirements</td><td>Need to know for understanding the content of the message</td></tr>
  <tr><td>Comments</td><td>Usually only for the request, but can be used in a response</td></tr>
  <tr><td>To Do</td><td>Grahame thinks this is not 80/20. Also, that it reall should be domain modeled, not tucked away here</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.reason"> </a><b>Message.reason</b></td></tr>
  <tr><td>Definition</td><td>The cause of the event - a reason for why this message is being sent</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from EventReason</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track why resources are being changed and report in the audit log / history of the resource</td></tr>
  <tr><td>RIM Mapping</td><td>ControlAct.reasonCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.data"> </a><b>Message.data</b></td></tr>
  <tr><td>Definition</td><td>The actual data of the message - a reference to the focus class of the message. </td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Mandatory unless the message is a response, in which case the element is optional</td></tr>
  <tr><td>Type</td><td>Resource(Any)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Every message event is about actual data, a single resource, that is identified in the definition of the event, and perhaps some or all linked resources</td></tr>
  <tr><td>Comments</td><td>The data is defined where the transaction type is defined. The transaction data is always aggregated with the transaction resource</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.extensions"> </a><b>Message.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="message.Message.text"> </a><b>Message.text</b></td></tr>
  <tr><td>Definition</td><td> </td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="messageconformance"> </a>

<h2>2.7: MessageConformance</h2>
<p>
A conformance statement about how an application uses FHIR messaging.
</p>
<p>
The relative url is /messageconformances
</p>
<h3>2.7.1: 
Content
</h3>
<p><img alt="UML Image" src="messageconformance.png"/></p>

<pre>
&lt;<a title="A conformance statement about how an application uses FHIR messaging" class="dict" href="#messageconformance.MessageConformance"><b>MessageConformance</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Globally unique Conformance Statement Id (Must be a UUID)" class="dict" href="#messageconformance.MessageConformance.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">ConformanceStatement Id (UUID)</font>&lt;/id&gt;
  &lt;<a title="Date that the conformance statement is published" class="dict" href="#messageconformance.MessageConformance.date"><b>date</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Publication Date</font>&lt;/date&gt;
  &lt;<a title="The organization that publishes this conformance statement" class="dict" href="#messageconformance.MessageConformance.publisher"><b>publisher</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> 
   &lt;<a title="Name of Organization" class="dict" href="#messageconformance.MessageConformance.publisher.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Publishing Organization</font>&lt;/name&gt;
   &lt;<a title="Address of Organization" class="dict" href="#messageconformance.MessageConformance.publisher.address"><b>address</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">Address of Organization</font>&lt;/address&gt;
   &lt;<a title="Contacts for Organization" class="dict" href="#messageconformance.MessageConformance.publisher.contact"><b>contact</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">Contacts for Organization</font>&lt;/contact&gt;
  &lt;/publisher&gt;
  &lt;<a title="The software that is covered by this conformance statement" class="dict" href="#messageconformance.MessageConformance.software"><b>software</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> 
   &lt;<a title="Name software is known by" class="dict" href="#messageconformance.MessageConformance.software.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name software is known by</font>&lt;/name&gt;
   &lt;<a title="Version covered by this statement" class="dict" href="#messageconformance.MessageConformance.software.version"><b>version</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Version covered by this statement</font>&lt;/version&gt;
   &lt;<a title="Date this version released" class="dict" href="#messageconformance.MessageConformance.software.releaseDate"><b>releaseDate</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Date this version released</font>&lt;/releaseDate&gt;
  &lt;/software&gt;
  &lt;<a title="Additional other profiles that apply to this conformance statement." class="dict" href="#messageconformance.MessageConformance.profile"><b>profile</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">other profiles that apply (i.e. code binding rules)</font>&lt;/profile&gt;
  &lt;<a title="An event supported by the application" class="dict" href="#messageconformance.MessageConformance.event"><b>event</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> --&gt;</font>
   &lt;<a title="The code for the event" class="dict" href="#messageconformance.MessageConformance.event.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Declare support for this event</font>&lt;/code&gt;
   &lt;<a title="The focal resource for the event" class="dict" href="#messageconformance.MessageConformance.event.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Which resource if event has multiple</font>&lt;/resource&gt;
   &lt;<a title="The mode of this event declaration - whether application is sender or receiver" class="dict" href="#messageconformance.MessageConformance.event.mode"><b>mode</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Sender | Receiver</font>&lt;/mode&gt;
   &lt;<a title="Information about the request for this event" class="dict" href="#messageconformance.MessageConformance.event.request"><b>request</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> 
    &lt;<a title="Constraint on a resource used in the event request" class="dict" href="#messageconformance.MessageConformance.event.request.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#constraint.Constraint">Constraint</a></font> <font color="navy">Constraint on a resource used in request</font>&lt;/resource&gt;
   &lt;/request&gt;
   &lt;<a title="Information about the response for this event" class="dict" href="#messageconformance.MessageConformance.event.response"><b>response</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> 
    &lt;<a title="Constraint on a resource used in the event response" class="dict" href="#messageconformance.MessageConformance.event.response.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#constraint.Constraint">Constraint</a></font> <font color="navy">Constraint on a resource used in response</font>&lt;/resource&gt;
   &lt;/response&gt;
  &lt;/event&gt;
  &lt;<a title="See Extensions" class="dict" href="#messageconformance.MessageConformance.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title=" " class="dict" href="#messageconformance.MessageConformance.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of conformance statement for human interpretation</font>&lt;/text&gt;
&lt;/MessageConformance&gt;
</pre>


<p><a href="messageconformance.xsd">Schema for MessageConformance</a> and <a href="messageconformance.xml">an example</a> (or <a href="#messageconformance">formatted for browser (&sect;2.7)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
<li>MessageConformance.event.code is  bound to the concept domain <i>MessageEvent</i> which has the allowed values defined for <a href="#messaging.Events"> Event List in the messaging framework (&sect;2.5.3)</a></li>
  <li>MessageConformance.event.resource is  bound to the concept domain <i>ResourceType</i> which has the allowed values of <a href="#terminologies.ResourceType"> any defined Resource Type name (&sect;1.5.4)</a></li>
  <li>MessageConformance.event.mode is  bound to the concept domain <i>MessageConformanceEventMode</i>: &quot;The mode of a message conformance statement&quot;. Possible values:
    <table class="codes">
    <tr><td>sender</td><td colspan="2">The application sends requests and receives responses</td></tr>    <tr><td>receiver</td><td colspan="2">The application receives requests and sends responses</td></tr>    </table>
  </li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The MessageConformance resource is a special case; it is only defined for the conformance framework, and is not encountered in other contexts</li>
<li>The interpretation of request and resource depends on the mode. If the mode is sender, then request specifies what the application sends, and response specifies what it accepts. If the mode is &quot;listener&quot;, then this is reversed</li>
<li>If a request or response is not specified for an event, then no rules are made for it</li>
<li>Events that are not listed are not supported</li>
</ul>  



<h3>2.7.2: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance"> </a><b>MessageConformance</b></td></tr>
  <tr><td>Definition</td><td>A conformance statement about how an application uses FHIR messaging</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.id"> </a><b>MessageConformance.id</b></td></tr>
  <tr><td>Definition</td><td>Globally unique Conformance Statement Id (Must be a UUID)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.date"> </a><b>MessageConformance.date</b></td></tr>
  <tr><td>Definition</td><td>Date that the conformance statement is published</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.publisher"> </a><b>MessageConformance.publisher</b></td></tr>
  <tr><td>Definition</td><td>The organization that publishes this conformance statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.publisher.name"> </a><b>MessageConformance.publisher.name</b></td></tr>
  <tr><td>Definition</td><td>Name of Organization</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.publisher.address"> </a><b>MessageConformance.publisher.address</b></td></tr>
  <tr><td>Definition</td><td>Address of Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.publisher.contact"> </a><b>MessageConformance.publisher.contact</b></td></tr>
  <tr><td>Definition</td><td>Contacts for Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.software"> </a><b>MessageConformance.software</b></td></tr>
  <tr><td>Definition</td><td>The software that is covered by this conformance statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.software.name"> </a><b>MessageConformance.software.name</b></td></tr>
  <tr><td>Definition</td><td>Name software is known by</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.software.version"> </a><b>MessageConformance.software.version</b></td></tr>
  <tr><td>Definition</td><td>Version covered by this statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.software.releaseDate"> </a><b>MessageConformance.software.releaseDate</b></td></tr>
  <tr><td>Definition</td><td>Date this version released</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.profile"> </a><b>MessageConformance.profile</b></td></tr>
  <tr><td>Definition</td><td>Additional other profiles that apply to this conformance statement.</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td> Generally these profiles make  constraints on the bindings of concept domains / value sets</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event"> </a><b>MessageConformance.event</b></td></tr>
  <tr><td>Definition</td><td>An event supported by the application</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.code"> </a><b>MessageConformance.event.code</b></td></tr>
  <tr><td>Definition</td><td>The code for the event</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from MessageEvent</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.resource"> </a><b>MessageConformance.event.resource</b></td></tr>
  <tr><td>Definition</td><td>The focal resource for the event</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: A resource type is required if the event declaration has multiple focal resources</td></tr>
  <tr><td>Type</td><td>code from ResourceType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.mode"> </a><b>MessageConformance.event.mode</b></td></tr>
  <tr><td>Definition</td><td>The mode of this event declaration - whether application is sender or receiver</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from MessageConformanceEventMode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.request"> </a><b>MessageConformance.event.request</b></td></tr>
  <tr><td>Definition</td><td>Information about the request for this event</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.request.resource"> </a><b>MessageConformance.event.request.resource</b></td></tr>
  <tr><td>Definition</td><td>Constraint on a resource used in the event request</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>Constraint</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.response"> </a><b>MessageConformance.event.response</b></td></tr>
  <tr><td>Definition</td><td>Information about the response for this event</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.event.response.resource"> </a><b>MessageConformance.event.response.resource</b></td></tr>
  <tr><td>Definition</td><td>Constraint on a resource used in the event response</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>Constraint</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.extensions"> </a><b>MessageConformance.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="messageconformance.MessageConformance.text"> </a><b>MessageConformance.text</b></td></tr>
  <tr><td>Definition</td><td> </td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="documents"> </a>






<h2>2.8: Document Framework</h2>

<p>
This page describes how FHIR Resources can be used to build clinical documents, like CDA. 
Applications claiming conformance to this framework
claim to be conformant to &quot;FHIR documents&quot;. 
</p>
<p>
Documents are a collections of resources that a fixed in scope and frozen in time, 
and authored and/or attested by a collection or humans, orgnisations and devices,
and gathered together into a <a href="#atom.Aggregation">single aggregation using an atom feed (&sect;2.2)</a>.
Documents built in this fashion may be exchanged between systems, and also persisted in document
storage and management systems, including systems such as IHE XDS.
</p>
<h3>2.8.1: Document Format</h3>
<p>
All documents have the same structure: an aggregation that has <a href="#document">Document
Resource (&sect;3.6)</a> first, followed by a series of other resources referenced from the Document resource.
</p>
<p>
The document resource identifies the document and it's purpose, sets the context of the document, and carries key information such 
as the subject and author, and divides the document up into sections that each contain a content resource, which is some
other resource identified in this specification. Any resource referenced directly in the 
Document resource must be included in the aggregation when the document is assembled; other resources 
that these documents refer to may also be aggregated if the document originator chooses to.
</p>
<p>
Document profiles and/or application 
conformance statements can make additional rules about which resources
must be aggregated along with the resources that are directly referenced in the Document resource. In addition, Document Profiles and conformance
statements can specify what sections a document contains, and what the constraints on their content
resource are.
</p>
<h3>2.8.2: Handling Documents</h3>
<p>
Since documents are attested at a fixed point in time with known contents, 
any handling of documents must ensure that the content has not changed at all.
Applications are allowed to extract content from the document and use it in 
other contexts, but it is no longer part of the document. When storing documents,
applications may store the entire document as a single byte stream, which would
ensure that it can be reproduced exactly, or they can disassemble the document
into component resources (or another disassembly strategy), as long as the
original document can be assembled in it's original form if the original document 
is required. Applications are not mandated to store all documents, though most 
actual usages will require the document to persist.
</p>
<h4>2.8.2.1: Documents and the RESTful Framework</h4>
<p>
The standard RESTful framework, there is an <a href="#document">manager for the Document resource (&sect;3.6)</a>
which uses the standard <a href="#http">HTTP Transactions (&sect;2.3)</a> applied to Document <i>resources</i>.
In this fashion, a RESTful framework can be used to build a logical description of a document by
updating the appropriate resources. Note that although this can form a logically complete description
of the document a full document only exists once the resources that are part of the document are 
built into a single aggregation.
</p>
<p>
Note that the standard /document end point defined with the Document resource handles
individual Document resources, not full documents that are aggregations. Using this resource
directly is mostly confined to the process of constructing a document using the RESTful framework.
The RESTful end point for full aggregated documents is <a href="#atom.endpoint">/aggregations (&sect;2.2.3)</a>
</p>
<p>
Applications that handle and process documents are not required to make the individual constituent
resources that are part of a document available through the their resource specific URL, though they
may choose to do so.
</p>

<p>
Issues: images &amp; attachments
</p>

<h3>2.8.3: Document Profile / Conformance Statement</h3>
<p>
Applications claiming to be conformant to &quot;FHIR documents&quot; may choose to publish a conformance statement that
lists all the document types they support, and for each type, what the document and section content is, and 
which resources are aggregated (originator), or are required to be aggregated (recipient), along with 
constraint statements for the information content of the individual resources. 
The conformance statement is a <a href="#documentconformance">resource with the name &quot;DocumentConformance&quot; (&sect;2.9)</a>.
</p>
<p>
The same structure can be used to declare a document profile. Such profiles may be defined and published 
by HL7, other standards organisations, institutions, and projects.
</p>




    
</div><div><a name="documentconformance"> </a>

<h2>2.9: DocumentConformance</h2>
<p>
A conformance statement about how one or more FHIR documents.
</p>
<p>
The relative url is /documentconformances
</p>
<h3>2.9.1: 
Content
</h3>
<p><img alt="UML Image" src="documentconformance.png"/></p>

<pre>
&lt;<a title="A conformance statement about how one or more FHIR documents" class="dict" href="#documentconformance.DocumentConformance"><b>DocumentConformance</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Globally unique Conformance Statement Id (Must be a UUID)" class="dict" href="#documentconformance.DocumentConformance.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">ConformanceStatement Id (UUID)</font>&lt;/id&gt;
  &lt;<a title="Date that this conformance statement is published" class="dict" href="#documentconformance.DocumentConformance.date"><b>date</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Publication Date</font>&lt;/date&gt;
  &lt;<a title="The organization that publishes this conformance statement" class="dict" href="#documentconformance.DocumentConformance.publisher"><b>publisher</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> 
   &lt;<a title="Name of Organization" class="dict" href="#documentconformance.DocumentConformance.publisher.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Publishing Organization</font>&lt;/name&gt;
   &lt;<a title="Address of Organization" class="dict" href="#documentconformance.DocumentConformance.publisher.address"><b>address</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">Address of Organization</font>&lt;/address&gt;
   &lt;<a title="Contacts for Organization" class="dict" href="#documentconformance.DocumentConformance.publisher.contact"><b>contact</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">Contacts for Organization</font>&lt;/contact&gt;
  &lt;/publisher&gt;
  &lt;<a title="The software that is covered by this conformance statement" class="dict" href="#documentconformance.DocumentConformance.software"><b>software</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- If this is for an application --&gt;</font>
   &lt;<a title="Name software is known by" class="dict" href="#documentconformance.DocumentConformance.software.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name software is known by</font>&lt;/name&gt;
   &lt;<a title="Version covered by this statement" class="dict" href="#documentconformance.DocumentConformance.software.version"><b>version</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Version covered by this statement</font>&lt;/version&gt;
   &lt;<a title="Date this version released" class="dict" href="#documentconformance.DocumentConformance.software.releaseDate"><b>releaseDate</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Date this version released</font>&lt;/releaseDate&gt;
  &lt;/software&gt;
  &lt;<a title="Additional other profiles that apply to this conformance statement." class="dict" href="#documentconformance.DocumentConformance.profile"><b>profile</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">other profiles that apply (i.e. code binding rules)</font>&lt;/profile&gt;
  &lt;<a title="A document definition" class="dict" href="#documentconformance.DocumentConformance.document"><b>document</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> document definition --&gt;</font>
   &lt;<a title="Name for this particular document profile" class="dict" href="#documentconformance.DocumentConformance.document.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name for this particular document profile</font>&lt;/name&gt;
   &lt;<a title="Human description of this particular profile" class="dict" href="#documentconformance.DocumentConformance.document.purpose"><b>purpose</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Human description of this particular profile</font>&lt;/purpose&gt;
   &lt;<a title="Constraint on a resource used in the document" class="dict" href="#documentconformance.DocumentConformance.document.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#constraint.Constraint">Constraint</a></font> <font color="navy">Constraint on a resource used in the document</font>&lt;/resource&gt;
  &lt;/document&gt;
  &lt;<a title="See Extensions" class="dict" href="#documentconformance.DocumentConformance.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of conformance profile for human interpretation" class="dict" href="#documentconformance.DocumentConformance.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of conformance profile for human interpretation</font>&lt;/text&gt;
&lt;/DocumentConformance&gt;
</pre>


<p><a href="documentconformance.xsd">Schema for DocumentConformance</a> and <a href="documentconformance.xml">an example</a> (or <a href="#documentconformance">formatted for browser (&sect;2.9)</a>)</p>





<p>
Notes:
</p>
<ul>
<li>Document profile names are not used elsewhere in this specification - they are for human consumption</li>
<li>For each document profile, multiple resources will need to be profiled. The document resource must always come first</li>
<li>Ideally, the criteria in different document profile should be able to distinguish between multiple document profiles, so that there is no ambiguity concerning which profile any given document conforms to. However this is not always possible</li>
</ul>  



<h3>2.9.2: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance"> </a><b>DocumentConformance</b></td></tr>
  <tr><td>Definition</td><td>A conformance statement about how one or more FHIR documents</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.id"> </a><b>DocumentConformance.id</b></td></tr>
  <tr><td>Definition</td><td>Globally unique Conformance Statement Id (Must be a UUID)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.date"> </a><b>DocumentConformance.date</b></td></tr>
  <tr><td>Definition</td><td>Date that this conformance statement is published</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.publisher"> </a><b>DocumentConformance.publisher</b></td></tr>
  <tr><td>Definition</td><td>The organization that publishes this conformance statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.publisher.name"> </a><b>DocumentConformance.publisher.name</b></td></tr>
  <tr><td>Definition</td><td>Name of Organization</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.publisher.address"> </a><b>DocumentConformance.publisher.address</b></td></tr>
  <tr><td>Definition</td><td>Address of Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.publisher.contact"> </a><b>DocumentConformance.publisher.contact</b></td></tr>
  <tr><td>Definition</td><td>Contacts for Organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.software"> </a><b>DocumentConformance.software</b></td></tr>
  <tr><td>Definition</td><td>The software that is covered by this conformance statement</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.software.name"> </a><b>DocumentConformance.software.name</b></td></tr>
  <tr><td>Definition</td><td>Name software is known by</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.software.version"> </a><b>DocumentConformance.software.version</b></td></tr>
  <tr><td>Definition</td><td>Version covered by this statement</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.software.releaseDate"> </a><b>DocumentConformance.software.releaseDate</b></td></tr>
  <tr><td>Definition</td><td>Date this version released</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.profile"> </a><b>DocumentConformance.profile</b></td></tr>
  <tr><td>Definition</td><td>Additional other profiles that apply to this conformance statement.</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td> Generally these profiles make  constraints on the bindings of concept domains / value sets</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.document"> </a><b>DocumentConformance.document</b></td></tr>
  <tr><td>Definition</td><td>A document definition</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.document.name"> </a><b>DocumentConformance.document.name</b></td></tr>
  <tr><td>Definition</td><td>Name for this particular document profile</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.document.purpose"> </a><b>DocumentConformance.document.purpose</b></td></tr>
  <tr><td>Definition</td><td>Human description of this particular profile</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.document.resource"> </a><b>DocumentConformance.document.resource</b></td></tr>
  <tr><td>Definition</td><td>Constraint on a resource used in the document</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>Constraint</td></tr>
  <tr><td>Comments</td><td>The first resource is the document resource</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.extensions"> </a><b>DocumentConformance.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="documentconformance.DocumentConformance.text"> </a><b>DocumentConformance.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of conformance profile for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="hdata"> </a>





<h2>2.10: Using FHIR Resources with hData</h2>
<p>
To do.
</p>


content profile for hData for each resource
  template for a content profile - available @ hdata wiki page on hl7 wiki (ArB is going to review that)
  schema + rddl (see rddl.org)
  set link rel in atom feed on per type 

  
  



    
</div><div><a name="profile"> </a>

<h2>2.11: Profile</h2>
<p>
A Resource Profile - a statement of constraint on one or more Resources and/or Concept Domains.
</p>
<p>
The relative url is /profiles
</p>
<h3>2.11.1: 
Content
</h3>
<p><img alt="UML Image" src="profile.png"/></p>

<pre>
&lt;<a title="A Resource Profile - a statement of constraint on one or more Resources and/or Concept Domains" class="dict" href="#profile.Profile"><b>Profile</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Globally unique Profile Id (Must be a UUID)" class="dict" href="#profile.Profile.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">fixed identifier for this profile (UUID)</font>&lt;/id&gt;
  &lt;<a title="A free text natural language name identifying the Template." class="dict" href="#profile.Profile.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Informal name for this profile</font>&lt;/name&gt;
  &lt;<a title="Details of the author who accepts responsibility for publishing the profile" class="dict" href="#profile.Profile.author"><b>author</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- (Organisation or individual) --&gt;</font>
   &lt;<a title="The name of the author" class="dict" href="#profile.Profile.author.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name of the recognised author</font>&lt;/name&gt;
   &lt;<a title="Reference to the author to assist a user in finding and communicating with the author" class="dict" href="#profile.Profile.author.reference"><b>reference</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Web reference to the author</font>&lt;/reference&gt;
  &lt;/author&gt;
  &lt;<a title="A free text natural language description of the intent and scope of the Template. The purpose is to provide the authorÃ¢â‚¬â„¢s initial intent for the Template in the language specified below." class="dict" href="#profile.Profile.intention"><b>intention</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Why this profile was written</font>&lt;/intention&gt;
  &lt;<a title="A set of terms from a controlled reference terminology that may be used to assist with indexing and searching of templates" class="dict" href="#profile.Profile.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">assist with indexing and finding</font>&lt;/code&gt;
  &lt;<a title="A free text natural language description of the Template. Generally, this field should be used for things such as goals, variable lists, instructions for clinical use and interpretation, literature, examples from paper world, mapping from natural language to HL7 and the model itself, etc" class="dict" href="#profile.Profile.description"><b>description</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">natural language description of the Template</font>&lt;/description&gt;
  &lt;<a title="A description, reference or link to a published medical knowledge that was used in the definition of this Template" class="dict" href="#profile.Profile.evidence"><b>evidence</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Supporting evidence for the design</font>&lt;/evidence&gt;
  &lt;<a title="A statement regarding when this Template should not be used, or may be used erroneously. To define roles where the Template should not be used, or should be used with care. This field is used to expand in detail on the iIntention" class="dict" href="#profile.Profile.comments"><b>comments</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Guidance for use, usage notes, etc</font>&lt;/comments&gt;
  &lt;<a title="draft | testing | production | withdrawn | superceded" class="dict" href="#profile.Profile.status"><b>status</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">draft | testing | production | withdrawn | superceded</font>&lt;/status&gt;
  &lt;<a title="The date that the current value for publicationStatus was applied to the Template" class="dict" href="#profile.Profile.date"><b>date</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">date for given status</font>&lt;/date&gt;
  &lt;<a title="A list of bodies who have reviewed the Template for clinical accuracy and relevance, and endorsed it for use." class="dict" href="#profile.Profile.endorser"><b>endorser</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> (Organisation or individual) --&gt;</font>
   &lt;<a title="The name of the endorsing body" class="dict" href="#profile.Profile.endorser.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name of the recognised endorser</font>&lt;/name&gt;
   &lt;<a title="Reference to the author to assist a user in finding and communicating with the endorsing body" class="dict" href="#profile.Profile.endorser.reference"><b>reference</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">Web reference to the endorser</font>&lt;/reference&gt;
  &lt;/endorser&gt;
  &lt;<a title="A free text description describing the changes in this version of the profile as compared to the previous version. " class="dict" href="#profile.Profile.changes"><b>changes</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">notes about changes since last version</font>&lt;/changes&gt;
  &lt;<a title="A template that is supercded by this template (maybe a  previous version)" class="dict" href="#profile.Profile.supercedes"><b>supercedes</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">references to previous versions</font>&lt;/supercedes&gt;
  &lt;<a title="Additional other profiles that apply to this conformance statement." class="dict" href="#profile.Profile.profile"><b>profile</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">other profiles that apply (i.e. code binding rules)</font>&lt;/profile&gt;
  &lt;<a title="Resource Type with constraints" class="dict" href="#profile.Profile.resource"><b>resource</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#constraint.Constraint">Constraint</a></font> <font color="navy">Resource Type with constraints</font>&lt;/resource&gt;
  &lt;<a title="null" class="dict" href="#profile.Profile.binding"><b>binding</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<a title="The name of the concept domain that this profile is declaring a constraint on" class="dict" href="#profile.Profile.binding.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">concept domain name</font>&lt;/name&gt;
   &lt;<a title="The form of the binding" class="dict" href="#profile.Profile.binding.type"><b>type</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">binding type</font>&lt;/type&gt;
   &lt;<a title="extra details - see notes" class="dict" href="#profile.Profile.binding.details"><b>details</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">extra details - see notes</font>&lt;/details&gt;
   &lt;<a title="source of binding content" class="dict" href="#profile.Profile.binding.reference"><b>reference</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.uri">uri</a></font> <font color="navy">source of binding content</font>&lt;/reference&gt;
   &lt;<a title="enumerated codes that are the binding" class="dict" href="#profile.Profile.binding.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">enumerated codes that are the binding</font>&lt;/code&gt;
  &lt;/binding&gt;
  &lt;<a title="See Extensions" class="dict" href="#profile.Profile.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of resource profile for human interpretation" class="dict" href="#profile.Profile.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of resource profile for human interpretation</font>&lt;/text&gt;
&lt;/Profile&gt;
</pre>


<p><a href="profile.xsd">Schema for Profile</a> and <a href="profile.xml">an example</a> (or <a href="#profile">formatted for browser (&sect;2.11)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Profile.status is  bound to the concept domain <i>ResourceProfileStatus</i>: &quot;The lifecycle status of a Resource Profile&quot;. Possible values:
    <table class="codes">
    <tr><td>draft</td><td colspan="2">This profile is still under development</td></tr>    <tr><td>testing</td><td colspan="2">this profile was authored for testing purposes (or education/evaluation/evangelisation)</td></tr>    <tr><td>production</td><td colspan="2">This profile is ready for use in production systems</td></tr>    <tr><td>withdrawn</td><td colspan="2">This profile has been withdrawn</td></tr>    <tr><td>superceded</td><td colspan="2">This profile was superceded by a more recent version</td></tr>    </table>
  </li>
  <li>Profile.binding.type is  bound to the concept domain <i>ConceptBindingType</i>: &quot;The type of a binding for a concept domain&quot;. Possible values:
    <table class="codes">
    <tr><td>Unbound</td><td colspan="2">The concept domain is not bound to anything</td></tr>    <tr><td>CodeList</td><td colspan="2">The concept domain is bound to a list of supplied codes - only those codes are allowed</td></tr>    <tr><td>Reference</td><td colspan="2">The concept domain references some external definition by a provided reference</td></tr>    <tr><td>Preferred</td><td colspan="2">The concept domain references a set of preferred terms</td></tr>    <tr><td>Suggestion</td><td colspan="2">This profile was superceded by a more recent version</td></tr>    <tr><td>External</td><td colspan="2">The concept domain is defined by an external authority identified in the reference</td></tr>    </table>
  </li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The name of the profile is not required to be globally unique, but the name should have some scoping information (i.e. Acme Inc (USA), Allergy List)</li>
<li>Multiple codes may be assigned to the profile. These may either describe the template, or the focus of the template, or both. They are solely to help find the profile by searching for structured concepts</li>
<li>If other profiles are referenced, then any constraints in those profiles also apply to this profile. If a resource or binding is 
found in this profile, the constraints described must include all the constraints found in the referenced profiles, so 
that it is not necessary to search the referenced profiles and merge the constraints. The primary use of referencing other 
profiles is to re-use concept binding constraints</li>
</ul>  



<h3>2.11.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for Resource Profiles:
</p>
<table class="list">
  <tr><td>name   </td><td>a portion of the name of the resource</td></tr>
  <tr><td>author </td><td>name or id of the author</td></tr>
  <tr><td>code   </td><td>a code in the format uri::code</td></tr>
  <tr><td>status </td><td>a status of the profile</td></tr>
  <tr><td>type   </td><td>type of resource that is constrained in the profile</td></tr>
  <tr><td>domain </td><td>concept domain that is constrained in the resource</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>

<h3>2.11.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile"> </a><b>Profile</b></td></tr>
  <tr><td>Definition</td><td>A Resource Profile - a statement of constraint on one or more Resources and/or Concept Domains</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Comments</td><td>Often called a clinical template</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.id"> </a><b>Profile.id</b></td></tr>
  <tr><td>Definition</td><td>Globally unique Profile Id (Must be a UUID)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.name"> </a><b>Profile.name</b></td></tr>
  <tr><td>Definition</td><td>A free text natural language name identifying the Template.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Comments</td><td>Not expected to be unique</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.author"> </a><b>Profile.author</b></td></tr>
  <tr><td>Definition</td><td>Details of the author who accepts responsibility for publishing the profile</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Comments</td><td>Usually an organisation, but may be an individual</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.author.name"> </a><b>Profile.author.name</b></td></tr>
  <tr><td>Definition</td><td>The name of the author</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.author.reference"> </a><b>Profile.author.reference</b></td></tr>
  <tr><td>Definition</td><td>Reference to the author to assist a user in finding and communicating with the author</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td>may be a web site, an email address, a telephone number</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.intention"> </a><b>Profile.intention</b></td></tr>
  <tr><td>Definition</td><td>A free text natural language description of the intent and scope of the Template. The purpose is to provide the authorÃ¢â‚¬â„¢s initial intent for the Template in the language specified below.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.code"> </a><b>Profile.code</b></td></tr>
  <tr><td>Definition</td><td>A set of terms from a controlled reference terminology that may be used to assist with indexing and searching of templates</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Coding</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.description"> </a><b>Profile.description</b></td></tr>
  <tr><td>Definition</td><td>A free text natural language description of the Template. Generally, this field should be used for things such as goals, variable lists, instructions for clinical use and interpretation, literature, examples from paper world, mapping from natural language to HL7 and the model itself, etc</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.evidence"> </a><b>Profile.evidence</b></td></tr>
  <tr><td>Definition</td><td>A description, reference or link to a published medical knowledge that was used in the definition of this Template</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.comments"> </a><b>Profile.comments</b></td></tr>
  <tr><td>Definition</td><td>A statement regarding when this Template should not be used, or may be used erroneously. To define roles where the Template should not be used, or should be used with care. This field is used to expand in detail on the iIntention</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.status"> </a><b>Profile.status</b></td></tr>
  <tr><td>Definition</td><td>draft | testing | production | withdrawn | superceded</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ResourceProfileStatus</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.date"> </a><b>Profile.date</b></td></tr>
  <tr><td>Definition</td><td>The date that the current value for publicationStatus was applied to the Template</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.endorser"> </a><b>Profile.endorser</b></td></tr>
  <tr><td>Definition</td><td>A list of bodies who have reviewed the Template for clinical accuracy and relevance, and endorsed it for use.</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.endorser.name"> </a><b>Profile.endorser.name</b></td></tr>
  <tr><td>Definition</td><td>The name of the endorsing body</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.endorser.reference"> </a><b>Profile.endorser.reference</b></td></tr>
  <tr><td>Definition</td><td>Reference to the author to assist a user in finding and communicating with the endorsing body</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.changes"> </a><b>Profile.changes</b></td></tr>
  <tr><td>Definition</td><td>A free text description describing the changes in this version of the profile as compared to the previous version. </td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: This field must be populated if the template is not the first version.</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.supercedes"> </a><b>Profile.supercedes</b></td></tr>
  <tr><td>Definition</td><td>A template that is supercded by this template (maybe a  previous version)</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.profile"> </a><b>Profile.profile</b></td></tr>
  <tr><td>Definition</td><td>Additional other profiles that apply to this conformance statement.</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td>Comments</td><td> Generally these profiles make  constraints on the bindings of concept domains / value sets</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.resource"> </a><b>Profile.resource</b></td></tr>
  <tr><td>Definition</td><td>Resource Type with constraints</td></tr>
  <tr><td>Control</td><td>Mandatory, 0..*</td></tr>
  <tr><td>Type</td><td>Constraint</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding"> </a><b>Profile.binding</b></td></tr>
  <tr><td>Control</td><td>Mandatory, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding.name"> </a><b>Profile.binding.name</b></td></tr>
  <tr><td>Definition</td><td>The name of the concept domain that this profile is declaring a constraint on</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding.type"> </a><b>Profile.binding.type</b></td></tr>
  <tr><td>Definition</td><td>The form of the binding</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from ConceptBindingType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding.details"> </a><b>Profile.binding.details</b></td></tr>
  <tr><td>Definition</td><td>extra details - see notes</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: May be required depending on the value of binding.type</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding.reference"> </a><b>Profile.binding.reference</b></td></tr>
  <tr><td>Definition</td><td>source of binding content</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: May be required depending on the value of binding.type</td></tr>
  <tr><td>Type</td><td>uri</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.binding.code"> </a><b>Profile.binding.code</b></td></tr>
  <tr><td>Definition</td><td>enumerated codes that are the binding</td></tr>
  <tr><td>Control</td><td>Conditional, 0..*: May be required depending on the value of binding.type</td></tr>
  <tr><td>Type</td><td>Coding</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.extensions"> </a><b>Profile.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="profile.Profile.text"> </a><b>Profile.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of resource profile for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div></div><div class="section"><h1>3: Administrative Resources</h1><div><a name="person"> </a>

<h2>3.1: Person</h2>
<p>
A person who is involved in the healthcare process.
</p>
<p>
The relative url is /people
</p>
<h3>3.1.1: 
Content
</h3>
<p><img alt="UML Image" src="person.png"/></p>

<pre>
&lt;<a title="A person who is involved in the healthcare process" class="dict" href="#person.Person"><b>Person</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#person.Person.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="Identifier for the person that is used to identify the person across multiple disparate systems and also for face to face identification of the person" class="dict" href="#person.Person.identifier"><b>identifier</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">A Human identifier for this person</font>&lt;/identifier&gt;
  &lt;<a title="A name associated with the person" class="dict" href="#person.Person.name"><b>name</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanName">HumanName</a></font> <font color="navy">A name associated with the person</font>&lt;/name&gt;
  &lt;<a title="An address for the person" class="dict" href="#person.Person.address"><b>address</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">An address for the person</font>&lt;/address&gt;
  &lt;<a title="A contact detail for the person" class="dict" href="#person.Person.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">A contact detail for the person</font>&lt;/contact&gt;
  &lt;<a title="The birth date for the person" class="dict" href="#person.Person.dob"><b>dob</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">The birth date for the person</font>&lt;/dob&gt;
  &lt;<a title="Administrative Gender" class="dict" href="#person.Person.gender"><b>gender</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Administrative Gender</font>&lt;/gender&gt;
  &lt;<a title="The religious denomination to which a person professes affiliation" class="dict" href="#person.Person.religion"><b>religion</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Religion of the person</font>&lt;/religion&gt;
  &lt;<a title="blah balh" class="dict" href="#person.Person.race"><b>race</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">The race of a person</font>&lt;/race&gt;
  &lt;<a title="The qualifications a person has, including formal educational achievements, accreditations, and current certifications. All these qualifications may be used to determine what roles a person may play in a healthcare environment" class="dict" href="#person.Person.qualification"><b>qualification</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Qualifications, Accreditations, Certifications --&gt;</font>
   &lt;<a title="The identifier of a qualification" class="dict" href="#person.Person.qualification.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Identifier">Identifier</a></font> <font color="navy">Identifier for the qualification</font>&lt;/id&gt;
   &lt;<a title="The type of the qualification" class="dict" href="#person.Person.qualification.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">A code for the qualification</font>&lt;/code&gt;
   &lt;<a title="The organisation that confered/confers the qualification" class="dict" href="#person.Person.qualification.institution"><b>institution</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Who conferred it</font>&lt;/institution&gt;
   &lt;<a title="The period for which a qualification is held" class="dict" href="#person.Person.qualification.period"><b>period</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#date.date">date</a>)</font> <font color="navy">When the qualification is valid</font>&lt;/period&gt;
  &lt;/qualification&gt;
  &lt;<a title="A language spoken by the person, with proficiency" class="dict" href="#person.Person.language"><b>language</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<a title="A code that identifies the language" class="dict" href="#person.Person.language.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">ISO 639-3 code for language</font>&lt;/code&gt;
   &lt;<a title="A code the describes how well the language is spoken" class="dict" href="#person.Person.language.use"><b>use</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">How well the language is used</font>&lt;/use&gt;
  &lt;/language&gt;
  &lt;<a title="Other persons who are related to this person. The relationship might be one of several types: kin (familial or marital), financial or legal (such as guardian), biological (e.g. donor, donation-recipient) or casual (i.e. friend)." class="dict" href="#person.Person.relatedPerson"><b>relatedPerson</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Kin, Guardians, Agents, Caregivers --&gt;</font>
   &lt;<a title="Identifier the related person - may be a full link to a Person resource, or some other kind of identifier" class="dict" href="#person.Person.relatedPerson.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Identifier for the person</font>&lt;/id&gt;
   &lt;<a title="Code that specifies how this person is related to the subject. A code is required." class="dict" href="#person.Person.relatedPerson.role"><b>role</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Type of relationship</font>&lt;/role&gt;
   &lt;<a title="A name should be specified for the related person" class="dict" href="#person.Person.relatedPerson.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.HumanName">HumanName</a></font> <font color="navy">Name of the person</font>&lt;/name&gt;
   &lt;<a title="Contact details (phone, email etc) should be provided for the person" class="dict" href="#person.Person.relatedPerson.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">Contact details for the person</font>&lt;/contact&gt;
  &lt;/relatedPerson&gt;
  &lt;<a title="See Extensions" class="dict" href="#person.Person.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of person, for human interpretation" class="dict" href="#person.Person.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of person, for human interpretation</font>&lt;/text&gt;
&lt;/Person&gt;
</pre>


<p><a href="person.xsd">Schema for Person</a> and <a href="person.xml">an example</a> (or <a href="#person">formatted for browser (&sect;3.1)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Person.gender is  bound to the concept domain <i>AdministrativeGender</i>: &quot;The gender of a person used for administrative purposes&quot;</li>
  <li>Person.religion is  bound to the concept domain <i>Religion</i>: &quot;The denomination to which a person professes affiliation&quot;</li>
  <li>Person.race is  bound to the concept domain <i>Race</i>: &quot;The race of the person&quot;. If an appropriate code exists in HL7 v2 table 0200 then it should be used</li>
  <li>Person.qualification.code is  bound to the concept domain <i>Qualifications</i>: &quot;Formal qualifications, accreditations, and Certifications acquired by a person&quot;</li>
  <li>Person.language.code is  bound to the concept domain <i>Language</i>: &quot;A human language&quot;. The possible values are those specified in <a target="_blank" href="http://www.sil.org/iso639-3/codes.asp">ISO 639-3</a></li>
  <li>Person.language.use is  bound to the concept domain <i>LanguageUse</i>: &quot;How well a person speaks a language&quot;. Possible values:
    <table class="codes">
    <tr><td>none</td><td colspan="2">The person does not speak the language at all</td></tr>    <tr><td>poor</td><td colspan="2">The person has minimal functional capability in the language</td></tr>    <tr><td>useable</td><td colspan="2">The person can use the language, but may not be full conversant, particularly with regards to health concepts</td></tr>    <tr><td>fluent</td><td colspan="2">The person is fully capable of using the language</td></tr>    </table>
  </li>
  <li>Person.relatedPerson.role is  bound to the concept domain <i>PersonRelationship</i>: &quot;The relationship a person has to the subject, including familial, marital, financial, legal, and casual relationships&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>There are various types of people of interest - patients, employees, etc. Different types of people might come from different service end points.</li>
<li>The administrative gender of the patient is that one that matters for the record. This may match the gendor of birth or the current socially-reported gender.</li>
<li>Qualifications covers both formal education gained in the past, and ongoing certification and accreditation often associated with healthcare providers.</li>
<li>Various jurisdictions define their own qualification and/or codes, and some care about this more than others.</li>
<li>The organization references are all optional, so can be replaced by simple text rather than a full resource reference</li>
<li>A related person can be either reference to another resource using the id, or can provide what is known about the person directly</li>
</ul>

<h3>3.1.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for person:
</p>
<table class="list">
  <tr><td>name       </td><td>a portion of name in any name part</td></tr>
  <tr><td>phonetic   </td><td>a portion of name using some kind of phonetic matching algorithm</td></tr>
  <tr><td>id         </td><td>search id in any identifiers</td></tr>
  <tr><td>contact    </td><td>the value in any kind of contact</td></tr>
  <tr><td>address    </td><td>an address in any kind of address/part</td></tr>
  <tr><td>gender     </td><td>gender of the person</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>


<h3>3.1.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person"> </a><b>Person</b></td></tr>
  <tr><td>Definition</td><td>A person who is involved in the healthcare process</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Need to track persons across multiple roles</td></tr>
  <tr><td>RIM Mapping</td><td>Person(classCode=PSN, determinerCode=INST)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.id"> </a><b>Person.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>RIM Mapping</td><td>.id(scope=OBJ)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.identifier"> </a><b>Person.identifier</b></td></tr>
  <tr><td>Definition</td><td>Identifier for the person that is used to identify the person across multiple disparate systems and also for face to face identification of the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>People are known by a variety of ids. Some institutions maintain several, and most collect identifiers for exchange with other organizations concerning the patient.</td></tr>
  <tr><td>RIM Mapping</td><td>.plays:Role(classCode='IDENT').id</td></tr>
  <tr><td>v2 Mapping</td><td>PID-3</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.name"> </a><b>Person.name</b></td></tr>
  <tr><td>Definition</td><td>A name associated with the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanName</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track the person by multiple names</td></tr>
  <tr><td>Comments</td><td>Person may have multiple names with different uses or applicable periods</td></tr>
  <tr><td>RIM Mapping</td><td>.name</td></tr>
  <tr><td>v2 Mapping</td><td>PID-5, PID-9</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.address"> </a><b>Person.address</b></td></tr>
  <tr><td>Definition</td><td>An address for the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td>Requirements</td><td>May need to keep track of persons addresses for contacting, billing or reporting requirements and also to help with identification</td></tr>
  <tr><td>Comments</td><td>Person may have multiple addresses with different uses or applicable periods</td></tr>
  <tr><td>RIM Mapping</td><td>.addr</td></tr>
  <tr><td>v2 Mapping</td><td>PID-11</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.contact"> </a><b>Person.contact</b></td></tr>
  <tr><td>Definition</td><td>A contact detail for the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td>Requirements</td><td>May need to have options for contacting the person urgently, and also to help with identification</td></tr>
  <tr><td>Comments</td><td>Person may have multiple contacts with different uses or applicable periods</td></tr>
  <tr><td>RIM Mapping</td><td>.telecom</td></tr>
  <tr><td>v2 Mapping</td><td>PID-13, PID-14</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.dob"> </a><b>Person.dob</b></td></tr>
  <tr><td>Definition</td><td>The birth date for the person</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Age of person drives many clinical processes.</td></tr>
  <tr><td>Comments</td><td>At least a estimated year should be provided as a guess if the real dob is unknown</td></tr>
  <tr><td>RIM Mapping</td><td>.birthTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.gender"> </a><b>Person.gender</b></td></tr>
  <tr><td>Definition</td><td>Administrative Gender</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AdministrativeGender</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Patient Identification, and also for managing the patient</td></tr>
  <tr><td>RIM Mapping</td><td>.administrativeGender</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.religion"> </a><b>Person.religion</b></td></tr>
  <tr><td>Definition</td><td>The religious denomination to which a person professes affiliation</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from Religion</td></tr>
  <tr><td>Requirements</td><td>The religion of a person may influence ancilliary processes around the provision of healthcare, and may provide general advice with regard to diet, etc</td></tr>
  <tr><td>Comments</td><td>Not all people have a formal religious affiliation</td></tr>
  <tr><td>RIM Mapping</td><td>.religiousAffiliationCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.race"> </a><b>Person.race</b></td></tr>
  <tr><td>Definition</td><td>blah balh</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from Race</td></tr>
  <tr><td>Requirements</td><td>This is added because many jurisdictions insisted on it</td></tr>
  <tr><td>Comments</td><td>Some places do not use this!</td></tr>
  <tr><td>RIM Mapping</td><td>.raceCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.qualification"> </a><b>Person.qualification</b></td></tr>
  <tr><td>Definition</td><td>The qualifications a person has, including formal educational achievements, accreditations, and current certifications. All these qualifications may be used to determine what roles a person may play in a healthcare environment</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>For many persons in healthcare, it is necessary to track the qualifications a person has - formal.</td></tr>
  <tr><td>RIM Mapping</td><td>.plays:Role(classCode='QUAL')</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.qualification.id"> </a><b>Person.qualification.id</b></td></tr>
  <tr><td>Definition</td><td>The identifier of a qualification</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Identifier</td></tr>
  <tr><td>Requirements</td><td>Allows a link back to a qualification registry, if one exists</td></tr>
  <tr><td>RIM Mapping</td><td>.identifier</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.qualification.code"> </a><b>Person.qualification.code</b></td></tr>
  <tr><td>Definition</td><td>The type of the qualification</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from Qualifications</td></tr>
  <tr><td>Requirements</td><td>commonly used to determine the roles a person may play</td></tr>
  <tr><td>RIM Mapping</td><td>.code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.qualification.institution"> </a><b>Person.qualification.institution</b></td></tr>
  <tr><td>Definition</td><td>The organisation that confered/confers the qualification</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td>Requirements</td><td>May determine the significance of the qualification, and allows a link back to a qualification registry, if one exists</td></tr>
  <tr><td>RIM Mapping</td><td>.scopedBy:Organization</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.qualification.period"> </a><b>Person.qualification.period</b></td></tr>
  <tr><td>Definition</td><td>The period for which a qualification is held</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(date)</td></tr>
  <tr><td>Requirements</td><td>Some qualifications are only conferred for a limited time period and must be re-acquired or forfeited</td></tr>
  <tr><td>Comments</td><td>Formal degrees may have a known start date, but no end date</td></tr>
  <tr><td>RIM Mapping</td><td>.effectiveTime:IVL_TS</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.language"> </a><b>Person.language</b></td></tr>
  <tr><td>Definition</td><td>A language spoken by the person, with proficiency</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>If a patient does not speak the local language, interpreters may be required, so languages spoken and profiency is an important things to keep track of both for patient and other persons of interest</td></tr>
  <tr><td>Comments</td><td>If no language is specified, this *implies* that the default local language is spoken</td></tr>
  <tr><td>RIM Mapping</td><td>.LanguageCommunicationCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.language.code"> </a><b>Person.language.code</b></td></tr>
  <tr><td>Definition</td><td>A code that identifies the language</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from Language</td></tr>
  <tr><td>Comments</td><td>So just ISO 639-3?  Not allowing ENG-CA or something?</td></tr>
  <tr><td>RIM Mapping</td><td>.languageCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.language.use"> </a><b>Person.language.use</b></td></tr>
  <tr><td>Definition</td><td>A code the describes how well the language is spoken</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>code from LanguageUse</td></tr>
  <tr><td>Comments</td><td>No differentiation is made between spoken and written functionality here</td></tr>
  <tr><td>RIM Mapping</td><td>.proficiencyLanguageCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.relatedPerson"> </a><b>Person.relatedPerson</b></td></tr>
  <tr><td>Definition</td><td>Other persons who are related to this person. The relationship might be one of several types: kin (familial or marital), financial or legal (such as guardian), biological (e.g. donor, donation-recipient) or casual (i.e. friend).</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track next of kin, or other people who may need to contacted/consulting regarding the patient's healthcare status or who might otherwise influence their treatment</td></tr>
  <tr><td>RIM Mapping</td><td>.plays:Role(classCode='REL')</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.relatedPerson.id"> </a><b>Person.relatedPerson.id</b></td></tr>
  <tr><td>Definition</td><td>Identifier the related person - may be a full link to a Person resource, or some other kind of identifier</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Requirements</td><td>may have an identifier for the person that can be used to source contact details</td></tr>
  <tr><td>RIM Mapping</td><td>.scopedBy:Person.identifier</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.relatedPerson.role"> </a><b>Person.relatedPerson.role</b></td></tr>
  <tr><td>Definition</td><td>Code that specifies how this person is related to the subject. A code is required.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from PersonRelationship</td></tr>
  <tr><td>Requirements</td><td>Need to know how the person is related</td></tr>
  <tr><td>RIM Mapping</td><td>.code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.relatedPerson.name"> </a><b>Person.relatedPerson.name</b></td></tr>
  <tr><td>Definition</td><td>A name should be specified for the related person</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>HumanName</td></tr>
  <tr><td>RIM Mapping</td><td>.scopedBy:Person.name</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.relatedPerson.contact"> </a><b>Person.relatedPerson.contact</b></td></tr>
  <tr><td>Definition</td><td>Contact details (phone, email etc) should be provided for the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td>RIM Mapping</td><td>.scopedBy:Person.telecom</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.extensions"> </a><b>Person.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="person.Person.text"> </a><b>Person.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of person, for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="animal"> </a>

<h2>3.2: Animal</h2>
<p>
An animal that has relevance to the care process -usually this is for animals that are patients..
</p>
<p>
The relative url is /animals
</p>
<h3>3.2.1: 
Content
</h3>
<p><img alt="UML Image" src="animal.png"/></p>

<pre>
&lt;<a title="An animal that has relevance to the care process -usually this is for animals that are patients." class="dict" href="#animal.Animal"><b>Animal</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#animal.Animal.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="Identifier for the animal that is used to identify the person across multiple disparate systems and also for face to face identification of the person" class="dict" href="#animal.Animal.identifier"><b>identifier</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Human identifiers for this animal</font>&lt;/identifier&gt;
  &lt;<a title="A name associated with the animal. The use code maiden does not apply." class="dict" href="#animal.Animal.name"><b>name</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanName">HumanName</a></font> <font color="navy">A name associated with the animal</font>&lt;/name&gt;
  &lt;<a title="The birth date for the animal" class="dict" href="#animal.Animal.dob"><b>dob</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">The birth date for the animal</font>&lt;/dob&gt;
  &lt;<a title="Species for the animal" class="dict" href="#animal.Animal.species"><b>species</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Species for the Animal</font>&lt;/species&gt;
  &lt;<a title="Strain for the animal" class="dict" href="#animal.Animal.strain"><b>strain</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Strain for the Animal</font>&lt;/strain&gt;
  &lt;<a title="Gender for the Animal" class="dict" href="#animal.Animal.gender"><b>gender</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Gender for the Animal</font>&lt;/gender&gt;
  &lt;<a title="Kin, owner, care giver etc" class="dict" href="#animal.Animal.relatedEntity"><b>relatedEntity</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Kin, owner, care giver etc --&gt;</font>
   &lt;<a title="Identifier for the entity" class="dict" href="#animal.Animal.relatedEntity.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Identifier for the entity</font>&lt;/id&gt;
   &lt;<a title="Type of relationship" class="dict" href="#animal.Animal.relatedEntity.role"><b>role</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Type of relationship</font>&lt;/role&gt;
   &lt;<a title="Name of the related entity" class="dict" href="#animal.Animal.relatedEntity.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.HumanName">HumanName</a></font> <font color="navy">Name of the related entity</font>&lt;/name&gt;
   &lt;<a title="An address (usually human, but may be kin)" class="dict" href="#animal.Animal.relatedEntity.address"><b>address</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">An address (usually human, but may be kin)</font>&lt;/address&gt;
   &lt;<a title="Contact details (usually for humans)" class="dict" href="#animal.Animal.relatedEntity.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">Contact details (usually for humans)</font>&lt;/contact&gt;
  &lt;/relatedEntity&gt;
  &lt;<a title="See Extensions" class="dict" href="#animal.Animal.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title=" " class="dict" href="#animal.Animal.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of animal, fall back for human interpretation</font>&lt;/text&gt;
&lt;/Animal&gt;
</pre>


<p><a href="animal.xsd">Schema for Animal</a> and <a href="animal.xml">an example</a> (or <a href="#animal">formatted for browser (&sect;3.2)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Animal.species is  bound to the concept domain <i>AnimalSpecies</i>: &quot;The species of an animal&quot;</li>
  <li>Animal.strain is  bound to the concept domain <i>AnimalStrain</i>: &quot;The strain of an animal&quot;</li>
  <li>Animal.gender is  bound to the concept domain <i>AnimalGender</i>: &quot;The gender of an animal&quot;</li>
  <li>Animal.relatedEntity.role is  bound to the concept domain <i>AnimalRelationship</i>: &quot;The relationship of an animal to another entity (person, corporation, or other animal)&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>Animals are assigned human names, since humans tend to assign names using human patterns. </li>
<li>Related entities include owners, and care givers, as well as the kin of the animal should that be relevant. </li>
<li>The organization references are all optional, so can be replaced by simple text rather than a full resource reference</li>
<li>The organization references are all optional, so can be replaced by simple text rather than a full resource reference</li>
<li>A related entity can be either reference to another resource using the id, or can provide what is known about the entity directly</li>
</ul>


<h3>3.2.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for person:
</p>
<table class="list">
  <tr><td>name       </td><td>a portion of name in any name part</td></tr>
  <tr><td>species    </td><td>the species, including by subsumption if the coding supports this</td></tr>
  <tr><td>phonetic   </td><td>a portion of name using some kind of phonetic matching algorithm</td></tr>
  <tr><td>id         </td><td>search id in any identifiers</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>3.2.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal"> </a><b>Animal</b></td></tr>
  <tr><td>Definition</td><td>An animal that has relevance to the care process -usually this is for animals that are patients.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track animals - vetinary medicine is an active user of HL7 standards</td></tr>
  <tr><td>Comments</td><td>Animals differ because you need to track species and strain, and also different kind of relationships - owners</td></tr>
  <tr><td>RIM Mapping</td><td>NonPersonLivingSubject(classCode=ANM, determinerCode=INST)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.id"> </a><b>Animal.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>To Do</td><td>.id(scope=OBJ)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.identifier"> </a><b>Animal.identifier</b></td></tr>
  <tr><td>Definition</td><td>Identifier for the animal that is used to identify the person across multiple disparate systems and also for face to face identification of the person</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Animals are known by a variety of ids. Some institutions maintain several, and most collect identifiers for exchange with other organizations concerning the animal</td></tr>
  <tr><td>RIM Mapping</td><td>.scopes[Role](classCode=IDENT)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.name"> </a><b>Animal.name</b></td></tr>
  <tr><td>Definition</td><td>A name associated with the animal. The use code maiden does not apply.</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanName</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Some animals have names, which are assigned by humans for human reasons, and follow human naming patterns</td></tr>
  <tr><td>RIM Mapping</td><td>.name</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.dob"> </a><b>Animal.dob</b></td></tr>
  <tr><td>Definition</td><td>The birth date for the animal</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Age of the animal drives many clinical processes.</td></tr>
  <tr><td>RIM Mapping</td><td>.dateOfBirth</td></tr>
  <tr><td>To Do</td><td>RIM change to support human date (time only - but is this needed in this context?)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.species"> </a><b>Animal.species</b></td></tr>
  <tr><td>Definition</td><td>Species for the animal</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AnimalSpecies</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know what kind of animal</td></tr>
  <tr><td>RIM Mapping</td><td>.code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.strain"> </a><b>Animal.strain</b></td></tr>
  <tr><td>Definition</td><td>Strain for the animal</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AnimalStrain</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>May need to know the specific kind within the species</td></tr>
  <tr><td>RIM Mapping</td><td>.strainText</td></tr>
  <tr><td>To Do</td><td>Not sure why this is ED in the RIM.  Should probably change to SC.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.gender"> </a><b>Animal.gender</b></td></tr>
  <tr><td>Definition</td><td>Gender for the Animal</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AnimalGender</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>For managing the animal</td></tr>
  <tr><td>Comments</td><td>Note that some animals have additional gender not encountered in humans?</td></tr>
  <tr><td>RIM Mapping</td><td>.administrativeGenderCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity"> </a><b>Animal.relatedEntity</b></td></tr>
  <tr><td>Definition</td><td>Kin, owner, care giver etc</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity.id"> </a><b>Animal.relatedEntity.id</b></td></tr>
  <tr><td>Definition</td><td>Identifier for the entity</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity.role"> </a><b>Animal.relatedEntity.role</b></td></tr>
  <tr><td>Definition</td><td>Type of relationship</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AnimalRelationship</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity.name"> </a><b>Animal.relatedEntity.name</b></td></tr>
  <tr><td>Definition</td><td>Name of the related entity</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>HumanName</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity.address"> </a><b>Animal.relatedEntity.address</b></td></tr>
  <tr><td>Definition</td><td>An address (usually human, but may be kin)</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.relatedEntity.contact"> </a><b>Animal.relatedEntity.contact</b></td></tr>
  <tr><td>Definition</td><td>Contact details (usually for humans)</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.extensions"> </a><b>Animal.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>RIM Mapping</td><td>[varies]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="animal.Animal.text"> </a><b>Animal.text</b></td></tr>
  <tr><td>Definition</td><td> </td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
  <tr><td>To Do</td><td>.text</td></tr>
</table>


   
</div><div><a name="organization"> </a>

<h2>3.3: Organization</h2>
<p>
For any organization/institution/government department that has relevance to the care process.
</p>
<p>
The relative url is /organizations
</p>
<h3>3.3.1: 
Content
</h3>
<p><img alt="UML Image" src="organization.png"/></p>

<pre>
&lt;<a title="For any organization/institution/government department that has relevance to the care process" class="dict" href="#organization.Organization"><b>Organization</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#organization.Organization.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="Identifier for the organization that is used to identify the organization across multiple disparate systems" class="dict" href="#organization.Organization.identifier"><b>identifier</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Identifier for this organization</font>&lt;/identifier&gt;
  &lt;<a title="A name associated with the organization" class="dict" href="#organization.Organization.name"><b>name</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<a title="The actual name of the organization" class="dict" href="#organization.Organization.name.value"><b>value</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">A name associated with the organization</font>&lt;/value&gt;
   &lt;<a title="The period that this name was in use by the organization" class="dict" href="#organization.Organization.name.period"><b>period</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#date.date">date</a>)</font> <font color="navy">When this name is/was in use</font>&lt;/period&gt;
  &lt;/name&gt;
  &lt;<a title="An address for the organization" class="dict" href="#organization.Organization.address"><b>address</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">An address for the organization</font>&lt;/address&gt;
  &lt;<a title="A contact detail for the organization" class="dict" href="#organization.Organization.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">A contact detail for the organization</font>&lt;/contact&gt;
  &lt;<a title="The kind of organization that this is" class="dict" href="#organization.Organization.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">kind of organisation</font>&lt;/code&gt;
  &lt;<a title="The industry that this organization is involved in" class="dict" href="#organization.Organization.industryCode"><b>industryCode</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">kind of industry</font>&lt;/industryCode&gt;
  &lt;<a title="The qualifications a person has, including format educational achievements, accreditations, and current certifications. All these qualifications may be used to determine what roles a person may play in a healthcare environment" class="dict" href="#organization.Organization.accreditation"><b>accreditation</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<a title="The identifier of the accreditation" class="dict" href="#organization.Organization.accreditation.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Identifier">Identifier</a></font> <font color="navy">Identifier for the accreditation</font>&lt;/id&gt;
   &lt;<a title="The type of the accreditation" class="dict" href="#organization.Organization.accreditation.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">What kind of accreditation</font>&lt;/code&gt;
   &lt;<a title="The organization that confered/confers the accreditation" class="dict" href="#organization.Organization.accreditation.institution"><b>institution</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Who conferred it</font>&lt;/institution&gt;
   &lt;<a title="The period for which the accreditation is held" class="dict" href="#organization.Organization.accreditation.period"><b>period</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#date.date">date</a>)</font> <font color="navy">When the accreditation is valid</font>&lt;/period&gt;
  &lt;/accreditation&gt;
  &lt;<a title="Other organizations who are related to this person. The relationship might be one of several types: sub- or super- orgnizations (i.e. ward in a hospital, owning corporation of a hospital) or partner organizations (i.e. the operating corporation for a hospital)" class="dict" href="#organization.Organization.relatedOrganization"><b>relatedOrganization</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> sub-, super-, and partner organisations --&gt;</font>
   &lt;<a title="Identifier the related organization - may be a full link to an Organization resource, or some other kind of identifier" class="dict" href="#organization.Organization.relatedOrganization.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Identifier for the organization</font>&lt;/id&gt;
   &lt;<a title="Code that specifies how this organization is related to the subject. A code is required." class="dict" href="#organization.Organization.relatedOrganization.code"><b>code</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">How the organizations are related</font>&lt;/code&gt;
   &lt;<a title="A name should be specified for the related organization" class="dict" href="#organization.Organization.relatedOrganization.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Name of the organization</font>&lt;/name&gt;
   &lt;<a title="Postal addresses may be provided for the related organization" class="dict" href="#organization.Organization.relatedOrganization.address"><b>address</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">An address for the organization</font>&lt;/address&gt;
   &lt;<a title="Contact details (phone, email etc) may be provided for the related organization" class="dict" href="#organization.Organization.relatedOrganization.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">General contact details for the organization</font>&lt;/contact&gt;
   &lt;<a title="The period during which the organizations were related in this fashion" class="dict" href="#organization.Organization.relatedOrganization.period"><b>period</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#date.date">date</a>)</font> <font color="navy">When the organizations were related</font>&lt;/period&gt;
  &lt;/relatedOrganization&gt;
  &lt;<a title="See Extensions" class="dict" href="#organization.Organization.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of organization, fall back for human interpretation" class="dict" href="#organization.Organization.text"><b>text</b></a>&gt; <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of organization, fall back for human interpretation</font>&lt;/text&gt;
&lt;/Organization&gt;
</pre>


<p><a href="organization.xsd">Schema for Organization</a> and <a href="organization.xml">an example</a> (or <a href="#organization">formatted for browser (&sect;3.3)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Organization.code is  bound to the concept domain <i>OrganisationType</i>: &quot;The type of an organisation&quot;. A good candidate for codes is SNOMED-CT, and the HL7 v3 Entity Code table</li>
  <li>Organization.industryCode is  bound to the concept domain <i>Industry</i>: &quot;Code for the type of industry&quot;. For example values, see HL7 v3 OrganizationIndustryClass value set</li>
  <li>Organization.accreditation.code is  bound to the concept domain <i>Accreditation</i>: &quot;Accreditations an organization may be granted&quot;</li>
  <li>Organization.relatedOrganization.code is  bound to the concept domain <i>OrganizationRelationship</i>: &quot;The relationship an organization has to the subject, including sub and super organizations, and other kind of relationships such as partner organisations&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The organization references are all optional, so can be replaced by simple text rather than a full resource reference</li>
</ul>

<h3>3.3.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for organization:
</p>
<table class="list">
  <tr><td>name       </td><td>a portion of name in any name part</td></tr>
  <tr><td>phonetic   </td><td>a portion of name using some kind of phonetic matching algorithm</td></tr>
  <tr><td>id         </td><td>search id in any identifiers</td></tr>
  <tr><td/><td/></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>3.3.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization"> </a><b>Organization</b></td></tr>
  <tr><td>Definition</td><td>For any organization/institution/government department that has relevance to the care process</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>RIM Mapping</td><td>Organization(classCode=ORG, determinerCode=INST)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.id"> </a><b>Organization.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>RIM Mapping</td><td>.id(scope=OBJ)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.identifier"> </a><b>Organization.identifier</b></td></tr>
  <tr><td>Definition</td><td>Identifier for the organization that is used to identify the organization across multiple disparate systems</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Organizations are known by a variety of ids. Some institutions maintain several, and most collect identifiers for exchange with other organizations concerning the organization.</td></tr>
  <tr><td>RIM Mapping</td><td>.scopes[Role](classCode=IDENT)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.name"> </a><b>Organization.name</b></td></tr>
  <tr><td>Definition</td><td>A name associated with the organization</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to use the name as the label of the organization</td></tr>
  <tr><td>Comments</td><td>Don't use HumanName since that has many non-organization things in it</td></tr>
  <tr><td>RIM Mapping</td><td>.name</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.name.value"> </a><b>Organization.name.value</b></td></tr>
  <tr><td>Definition</td><td>The actual name of the organization</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>RIM Mapping</td><td>.part[1](type=NULL,qualifier=NULL).value</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.name.period"> </a><b>Organization.name.period</b></td></tr>
  <tr><td>Definition</td><td>The period that this name was in use by the organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(date)</td></tr>
  <tr><td>Requirements</td><td>Organizations have a habit of renaming themselves, and the current and past names are required</td></tr>
  <tr><td>RIM Mapping</td><td>.validTime</td></tr>
  <tr><td>To Do</td><td>This is 80%??</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.address"> </a><b>Organization.address</b></td></tr>
  <tr><td>Definition</td><td>An address for the organization</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td>Requirements</td><td>May need to keep track of the organizations addresses for contacting, billing or reporting requirements</td></tr>
  <tr><td>Comments</td><td>Organization may have multiple addresses with different uses or applicable periods. The use code home is not to be used</td></tr>
  <tr><td>RIM Mapping</td><td>.address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.contact"> </a><b>Organization.contact</b></td></tr>
  <tr><td>Definition</td><td>A contact detail for the organization</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td>Requirements</td><td>Human contact for the organization</td></tr>
  <tr><td>Comments</td><td>The use code home is not to be used. Note that these contacts are not the contact details of people who are employed by or represent the organization, but official contacts for the organization itself</td></tr>
  <tr><td>RIM Mapping</td><td>.telecom</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.code"> </a><b>Organization.code</b></td></tr>
  <tr><td>Definition</td><td>The kind of organization that this is</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from OrganisationType</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track the kind of organization that this is - different organization types have different uses</td></tr>
  <tr><td>Comments</td><td>Organizations can be corporations, wards, sections, clinical teams, government departments, etc. Note that code is generally a classifier of the type of organization; in many applications, codes are used to identity a particular organization (say, ward) as opposed to another of the same type - these are identifiers, not codes</td></tr>
  <tr><td>RIM Mapping</td><td>.code</td></tr>
  <tr><td>To Do</td><td>Name code is too RIM-like.  Should be typeCode or type.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.industryCode"> </a><b>Organization.industryCode</b></td></tr>
  <tr><td>Definition</td><td>The industry that this organization is involved in</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from Industry</td></tr>
  <tr><td>Requirements</td><td>For some organization types, an industry code is required for statistical reporting requirements</td></tr>
  <tr><td>RIM Mapping</td><td>.standardIndustryClassCode</td></tr>
  <tr><td>To Do</td><td>Is this really in the 80%??</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.accreditation"> </a><b>Organization.accreditation</b></td></tr>
  <tr><td>Definition</td><td>The qualifications a person has, including format educational achievements, accreditations, and current certifications. All these qualifications may be used to determine what roles a person may play in a healthcare environment</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>For many persons in healthcare, it is necessary to track the qualifications a person has - formal.</td></tr>
  <tr><td>RIM Mapping</td><td>.plays[Role](classCode='QUAL')</td></tr>
  <tr><td>To Do</td><td>Not sure if qualified &amp; accredited are the same.  Could potentially propose a new classCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.accreditation.id"> </a><b>Organization.accreditation.id</b></td></tr>
  <tr><td>Definition</td><td>The identifier of the accreditation</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Identifier</td></tr>
  <tr><td>Requirements</td><td>Allows a link back to a accreditation registry, if one exists</td></tr>
  <tr><td>RIM Mapping</td><td>.identifier</td></tr>
  <tr><td>To Do</td><td>Not a humanId?</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.accreditation.code"> </a><b>Organization.accreditation.code</b></td></tr>
  <tr><td>Definition</td><td>The type of the accreditation</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from Accreditation</td></tr>
  <tr><td>Requirements</td><td>commonly used to determine the roles an  organization may perform</td></tr>
  <tr><td>RIM Mapping</td><td>.code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.accreditation.institution"> </a><b>Organization.accreditation.institution</b></td></tr>
  <tr><td>Definition</td><td>The organization that confered/confers the accreditation</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td>Requirements</td><td>May determine the significance of the qualification, and allows a link back to a qualification registry, if one exists</td></tr>
  <tr><td>RIM Mapping</td><td>.scopedBy[Organization]</td></tr>
  <tr><td>To Do</td><td>Do we need jurisdiction as well?  (The jurisdiction is often more relevant than the accrediting org.)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.accreditation.period"> </a><b>Organization.accreditation.period</b></td></tr>
  <tr><td>Definition</td><td>The period for which the accreditation is held</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(date)</td></tr>
  <tr><td>Requirements</td><td>Most accreditations are only conferred for a limited time period and must be re-acquired or forfeited</td></tr>
  <tr><td>RIM Mapping</td><td>.effectiveTime[IVL&lt;TS&gt;]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization"> </a><b>Organization.relatedOrganization</b></td></tr>
  <tr><td>Definition</td><td>Other organizations who are related to this person. The relationship might be one of several types: sub- or super- orgnizations (i.e. ward in a hospital, owning corporation of a hospital) or partner organizations (i.e. the operating corporation for a hospital)</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track many kinds of organizational relationships and use to determine roles and mediate workflows</td></tr>
  <tr><td>To Do</td><td>There's no reason why this wouldn't point to another resource.  Will map when updated accordingly.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.id"> </a><b>Organization.relatedOrganization.id</b></td></tr>
  <tr><td>Definition</td><td>Identifier the related organization - may be a full link to an Organization resource, or some other kind of identifier</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Requirements</td><td>may have an identifier for the organization that can be used to source contact details</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.code"> </a><b>Organization.relatedOrganization.code</b></td></tr>
  <tr><td>Definition</td><td>Code that specifies how this organization is related to the subject. A code is required.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from OrganizationRelationship</td></tr>
  <tr><td>Requirements</td><td>Need to know how the organization is related</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.name"> </a><b>Organization.relatedOrganization.name</b></td></tr>
  <tr><td>Definition</td><td>A name should be specified for the related organization</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.address"> </a><b>Organization.relatedOrganization.address</b></td></tr>
  <tr><td>Definition</td><td>Postal addresses may be provided for the related organization</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.contact"> </a><b>Organization.relatedOrganization.contact</b></td></tr>
  <tr><td>Definition</td><td>Contact details (phone, email etc) may be provided for the related organization</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.relatedOrganization.period"> </a><b>Organization.relatedOrganization.period</b></td></tr>
  <tr><td>Definition</td><td>The period during which the organizations were related in this fashion</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(date)</td></tr>
  <tr><td>Requirements</td><td>Organization relationships are changing all the time</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.extensions"> </a><b>Organization.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>RIM Mapping</td><td>[varies]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="organization.Organization.text"> </a><b>Organization.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of organization, fall back for human interpretation</td></tr>
  <tr><td>Control</td><td>1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
  <tr><td>To Do</td><td>.text</td></tr>
</table>


   
</div><div><a name="agent"> </a>

<h2>3.4: Agent</h2>
<p>
A person who represents an organisation, and is authorised to perform actions on it's behalf.
</p>
<p>
The relative url is /agents
</p>
<h3>3.4.1: 
Content
</h3>
<p><img alt="UML Image" src="agent.png"/></p>

<pre>
&lt;<a title="A person who represents an organisation, and is authorised to perform actions on it's behalf" class="dict" href="#agent.Agent"><b>Agent</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#agent.Agent.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="The person who acts as the agent" class="dict" href="#agent.Agent.person"><b>person</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>)</font> <font color="navy">The person who is the agent</font>&lt;/person&gt;
  &lt;<a title="The organisation that is being represented" class="dict" href="#agent.Agent.organization"><b>organization</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">The represented organization</font>&lt;/organization&gt;
  &lt;<a title="The way in which the person represents the organisation - what role do they have?" class="dict" href="#agent.Agent.role"><b>role</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">A role the agent has</font>&lt;/role&gt;
  &lt;<a title="The time period during which the agent was/is authorised to represent the organisation." class="dict" href="#agent.Agent.period"><b>period</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Interval">Interval</a>(<a href="#date.date">date</a>)</font> <font color="navy">The period for which this agency applies</font>&lt;/period&gt;
  &lt;<a title="An identifier that applies to this person in this role" class="dict" href="#agent.Agent.identifier"><b>identifier</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">A Human identifier for the person as this agent</font>&lt;/identifier&gt;
  &lt;<a title="A postal address for this person playing this role" class="dict" href="#agent.Agent.address"><b>address</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Address">Address</a></font> <font color="navy">An address that applies for the person as this agent</font>&lt;/address&gt;
  &lt;<a title="A contact detail address for this person playing this role" class="dict" href="#agent.Agent.contact"><b>contact</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.Contact">Contact</a></font> <font color="navy">A contact that applies for the person as this agent</font>&lt;/contact&gt;
  &lt;<a title="See Extensions" class="dict" href="#agent.Agent.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of the agent, for human interpretation" class="dict" href="#agent.Agent.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of the agent, for human interpretation</font>&lt;/text&gt;
&lt;/Agent&gt;
</pre>


<p><a href="agent.xsd">Schema for Agent</a> and <a href="agent.xml">an example</a> (or <a href="#agent">formatted for browser (&sect;3.4)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Agent.role is  bound to the concept domain <i>AgentRole</i>: &quot;The role a person plays representing an organization&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>Any person can represent the same organisation in multiple different ways. This may be represented as a single agent resource with multiple role codes, or multiple agent resources. Which is correct depends on whether the combined roles share other attributes, such as identifiers and time periods.</li>
<li>The person and organization references are mandatory, so must be a full resource reference by identifier</li>
</ul>


<h3>3.4.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for person:
</p>
<table class="list">
  <tr><td>person      </td><td>The identity of a person</td></tr>
  <tr><td>organization</td><td>The identity of an organization</td></tr>
  <tr><td>id         </td><td>search id in any agent identifiers</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>3.4.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent"> </a><b>Agent</b></td></tr>
  <tr><td>Definition</td><td>A person who represents an organisation, and is authorised to perform actions on it's behalf</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Need to track doctors, staff, locums etc for both healthcare providers, funders, etc.</td></tr>
  <tr><td>RIM Mapping</td><td>Role</td></tr>
  <tr><td>v2 Mapping</td><td>PRD (as one example)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.id"> </a><b>Agent.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>RIM Mapping</td><td>.id(scope=OBJ)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.person"> </a><b>Agent.person</b></td></tr>
  <tr><td>Definition</td><td>The person who acts as the agent</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Person)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track the person who represents the organisation separately</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-2</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.organization"> </a><b>Agent.organization</b></td></tr>
  <tr><td>Definition</td><td>The organisation that is being represented</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track the represented organisation separately</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-10 (-&gt; 14)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.role"> </a><b>Agent.role</b></td></tr>
  <tr><td>Definition</td><td>The way in which the person represents the organisation - what role do they have?</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AgentRole</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know what authority the agent has - what can they do?</td></tr>
  <tr><td>Comments</td><td>A person may have more than one role. At least one role is required - why have an agent who isn't actually an agent?</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.period"> </a><b>Agent.period</b></td></tr>
  <tr><td>Definition</td><td>The time period during which the agent was/is authorised to represent the organisation.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Interval(date)</td></tr>
  <tr><td>Requirements</td><td>Agencies are often for a limited period of time, and can be revoked. Even after the agencies is revoked, the fact that it existed must still be recorded</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-8/9</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.identifier"> </a><b>Agent.identifier</b></td></tr>
  <tr><td>Definition</td><td>An identifier that applies to this person in this role</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Often, specific identifies are assigned for the agent</td></tr>
  <tr><td>Comments</td><td>The identifier changes when a new/different person steps into the same role</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-7</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.address"> </a><b>Agent.address</b></td></tr>
  <tr><td>Definition</td><td>A postal address for this person playing this role</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Address</td></tr>
  <tr><td>Comments</td><td>i.e. the address is not their personal address. For many agents, this is the same as their work address</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-3</td></tr>
  <tr><td>To Do</td><td>What about place? (PRD-4)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.contact"> </a><b>Agent.contact</b></td></tr>
  <tr><td>Definition</td><td>A contact detail address for this person playing this role</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Contact</td></tr>
  <tr><td>Comments</td><td>i.e. the contact is not their personal contact. For many agents, this is the same as their work contacts. Note that a person may choose to use a personal mobile phone (for instance) for their contact in a given role - in this case, the contact detail will be repeated in the agent resource</td></tr>
  <tr><td>v2 Mapping</td><td>PRD-5</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.extensions"> </a><b>Agent.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="agent.Agent.text"> </a><b>Agent.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of the agent, for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="patient"> </a>

<h2>3.5: Patient</h2>
<p>
A patient is a person or animal that is receiving care.
</p>
<p>
The relative url is /patients
</p>
<h3>3.5.1: 
Content
</h3>
<p><img alt="UML Image" src="patient.png"/></p>

<pre>
&lt;<a title="A patient is a person or animal that is receiving care" class="dict" href="#patient.Patient"><b>Patient</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#patient.Patient.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="A linked patient record is a record that concerns the same patient. Records are linked after it is realised that at least one was created in error." class="dict" href="#patient.Patient.link"><b>link</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen">(<a href="#Patient.Patient">Patient</a>)</font> <font color="navy">Other patients linked to this resource</font>&lt;/link&gt;
  &lt;<a title="Whether the patient record is in use, or has been removed from active use" class="dict" href="#patient.Patient.active"><b>active</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.boolean">boolean</a></font> <font color="navy">Whether this patient record is active (in use)</font>&lt;/active&gt;
  &lt;<a title="The person that this patient record is about" class="dict" href="#patient.Patient.person"><b>person</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>)</font> <font color="navy">The person who is the patient</font>&lt;/person&gt;
  &lt;<a title="The animal that this patient record is about" class="dict" href="#patient.Patient.animal"><b>animal</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen">(<a href="#Animal.Animal">Animal</a>)</font> <font color="navy">The animal which is the patient</font>&lt;/animal&gt;
  &lt;<a title="The provider for whom this is a patient record" class="dict" href="#patient.Patient.provider"><b>provider</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Organization managing the patient</font>&lt;/provider&gt;
  &lt;<a title="An identifier that applies to this person as a patient" class="dict" href="#patient.Patient.identifier"><b>identifier</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">An identifier for the person as this patient</font>&lt;/identifier&gt;
  &lt;<a title="Dietary restrictions for the patient" class="dict" href="#patient.Patient.diet"><b>diet</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Dietary restrictions for the patient</font>&lt;/diet&gt;
  &lt;<a title="Confidentiality of the patient records" class="dict" href="#patient.Patient.confidentiality"><b>confidentiality</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Confidentiality of the patient records</font>&lt;/confidentiality&gt;
  &lt;<a title="The location of the paper record for the patient, if there is one" class="dict" href="#patient.Patient.recordLocation"><b>recordLocation</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Where the paper record is</font>&lt;/recordLocation&gt;
  &lt;<a title="See Extensions" class="dict" href="#patient.Patient.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of person, for human interpretation" class="dict" href="#patient.Patient.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of person, for human interpretation</font>&lt;/text&gt;
&lt;/Patient&gt;
</pre>


<p><a href="patient.xsd">Schema for Patient</a> and <a href="patient.xml">an example</a> (or <a href="#patient">formatted for browser (&sect;3.5)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Patient.diet is  bound to the concept domain <i>PatientDiet</i>: &quot;casual dietary restrictions associated with this patient&quot;</li>
  <li>Patient.confidentiality is  bound to the concept domain <i>PatientConfidentiality</i>: &quot;The confidentiality of the records associated with this patient&quot;</li>
  <li>Patient.recordLocation is  bound to the concept domain <i>PaperRecordLocation</i>: &quot;A physical location for a record. (Usually site specific)&quot;</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>Links: linking patient records is an assertion that they both are about the same actual person. If any patient record is linked to another, then the other must be linked back to the source record.</li>
<li>The patient may be a person or an animal (in order to support vetinary medicine). Either a person or an animal resource link must be provided, but not both.</li> 
<li>The dietary restrictions are not for specifying medical diets, but for casual dietary restrictions such as vegetarian, diary-free, nut-free, etc</li>
</ul>

<h3>3.5.2: Managing Patient Registration</h3>
<p>
Managing Patient registration is a well known difficult problem. Around 2% of registrations are in error, 
mostly duplicate records. Sometimes the duplicate record is caught fairly quickly and retired before much 
data is accumulated. In other cases, substantial amounts of data may accumulate. For these and other 
reasons, the identifiers associated with a patient may change over time.
</p>
<p>
The master identifier for the Patient Resource can never change. For this reason the identifiers with 
which humans are concerned (often called MRN - Medical Record Number, or UR - Unit Record) should not 
be used as the master identifier. Instead they should be represented in the <i>Patient.identifier</i> 
list where they can be managed. This is also useful for the case of institutions that have acquired 
multiple numbers because of mergers of patient record systems over time.
</p>
<p>
In this specification, patient records are never merged. If multiple patient records are found to be 
duplicates, they are linked. In a RESTful context, this is done using the &quot;link patients&quot; transaction
described below. In other contexts, equivalent functionality will be needed. When patient resources 
are linked, one may be chosen as the &quot;master&quot; - the correct record. In this case, the active status 
of all the other resources is set to false, and all the content is moved to the active record by updating
it directly. 
</p>
<p>
Patient records may only be in one of two statuses: active and retired. A normal record is active 
- it is in use. The status retired is used when a record is created in error. Once the error is 
discovered, it can either be retired or deleted. A record does not need to be linked to be retired.
</p>
<h3>3.5.3: RESTful Transactions</h3>
<p>
The patient resource type defines one special transaction provided by the patient manager: &quot;Link&quot; for 
linking resources. The reason is that linking records is effectively a transaction that involves at 
least two resources, and all or none must change. Since the transaction involves multiple resources, 
it is implemented on the resource manager as a POST to [todo]
</p>
<p>
There is no content model for the response, except for an HTTP status code.
</p>

<h3>3.5.4: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for person:
</p>
<table class="list">
  <tr><td>person      </td><td>The identity of a person</td></tr>
  <tr><td>provider    </td><td>The identity of an organization</td></tr>
  <tr><td>id          </td><td>search id in any patient identifiers</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>3.5.5: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient"> </a><b>Patient</b></td></tr>
  <tr><td>Definition</td><td>A patient is a person or animal that is receiving care</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Tracking patient is the center of the healthcare process</td></tr>
  <tr><td>RIM Mapping</td><td>Patient</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.id"> </a><b>Patient.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>To Do</td><td>.id(scope=OBJ)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.link"> </a><b>Patient.link</b></td></tr>
  <tr><td>Definition</td><td>A linked patient record is a record that concerns the same patient. Records are linked after it is realised that at least one was created in error.</td></tr>
  <tr><td>Control</td><td>Mandatory, 0..*</td></tr>
  <tr><td>Type</td><td>Resource(Patient)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Due to the clerical errors associated with the difficulties of identifying humans consistently, duplicate patient records are frequently created in error</td></tr>
  <tr><td>Comments</td><td>More then two patient records may be linked. Note that there is a special transaction for linking patient records in the RESTful context, as record linking consistency must be maintained</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.active"> </a><b>Patient.active</b></td></tr>
  <tr><td>Definition</td><td>Whether the patient record is in use, or has been removed from active use</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>boolean</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to mark a patient record as not to be used because it was created in error</td></tr>
  <tr><td>Comments</td><td>If a record is inactive, and linked to an active record, then future patient/person/record updates should occur on the other patient</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.person"> </a><b>Patient.person</b></td></tr>
  <tr><td>Definition</td><td>The person that this patient record is about</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Either an animal or a person must be provided, but not both</td></tr>
  <tr><td>Type</td><td>Resource(Person)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to link this patient record to a known and identifiable person (or animal)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.animal"> </a><b>Patient.animal</b></td></tr>
  <tr><td>Definition</td><td>The animal that this patient record is about</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Either an animal or a person must be provided, but not both</td></tr>
  <tr><td>Type</td><td>Resource(Animal)</td></tr>
  <tr><td>Requirements</td><td>Need to link this patient record to a known and identifiable animal (or person)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.provider"> </a><b>Patient.provider</b></td></tr>
  <tr><td>Definition</td><td>The provider for whom this is a patient record</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know who recognises this patient record</td></tr>
  <tr><td>To Do</td><td>But is thie same as institution above?</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.identifier"> </a><b>Patient.identifier</b></td></tr>
  <tr><td>Definition</td><td>An identifier that applies to this person as a patient</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Patients are almos always assigned specific numerical identifiers</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.diet"> </a><b>Patient.diet</b></td></tr>
  <tr><td>Definition</td><td>Dietary restrictions for the patient</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from PatientDiet</td></tr>
  <tr><td>Requirements</td><td>Track patients reported dietary restrictions to help with catering requirements</td></tr>
  <tr><td>Comments</td><td>not for specifying medical diets, but for casual dietary restrictions such as vegetarian, diary-free, nut-free, etc</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.confidentiality"> </a><b>Patient.confidentiality</b></td></tr>
  <tr><td>Definition</td><td>Confidentiality of the patient records</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from PatientConfidentiality</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track which patient records are particularly sensitive</td></tr>
  <tr><td>Comments</td><td>Confidentiality tracking also occurs at more detailed points in the medical record</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.recordLocation"> </a><b>Patient.recordLocation</b></td></tr>
  <tr><td>Definition</td><td>The location of the paper record for the patient, if there is one</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from PaperRecordLocation</td></tr>
  <tr><td>Requirements</td><td>Track old paper records where these are still in use</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.extensions"> </a><b>Patient.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="patient.Patient.text"> </a><b>Patient.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of person, for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div><div><a name="document"> </a>

<h2>3.6: Document</h2>
<p>
A documentation of clinical observations and services that are aggregated together into a single statement of clinical meaning that establishes it's own context. A clinical document is composed of a set of resources that include both human and computer readable portions. A human must attest to the accuracy of the human readable portion, and may authenticate and/or sign the entire whole.
</p>
<p>
The relative url is /documents
</p>
<h3>3.6.1: 
Content
</h3>
<p><img alt="UML Image" src="document.png"/></p>

<pre>
&lt;<a title="A documentation of clinical observations and services that are aggregated together into a single statement of clinical meaning that establishes it's own context. A clinical document is composed of a set of resources that include both human and computer readable portions. A human must attest to the accuracy of the human readable portion, and may authenticate and/or sign the entire whole" class="dict" href="#document.Document"><b>Document</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="the unique id of a clinical document" class="dict" href="#document.Document.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id = document Id</font>&lt;/id&gt;
  &lt;<a title="the document creation time, when the document first came into being. Where the CDA document is a transform from an original document in some other format, the ClinicalDocument.effectiveTime is the time the original document is created." class="dict" href="#document.Document.instant"><b>instant</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#instant.instant">instant</a></font> <font color="navy">Document Creation Time</font>&lt;/instant&gt;
  &lt;<a title="specifying the particular kind of document (e.g. History and Physical, Discharge Summary, Progress Note)" class="dict" href="#document.Document.type"><b>type</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Document Type (LOINC if possible)</font>&lt;/type&gt;
  &lt;<a title="the title of the document" class="dict" href="#document.Document.title"><b>title</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Document Title</font>&lt;/title&gt;
  &lt;<a title="Represents an identifier that is common across all document revisions" class="dict" href="#document.Document.setId"><b>setId</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Id fixed across all document revisions</font>&lt;/setId&gt;
  &lt;<a title="used to version successive replacement documents" class="dict" href="#document.Document.version"><b>version</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">used to version successive replacement documents</font>&lt;/version&gt;
  &lt;<a title="If this document replaces another" class="dict" href="#document.Document.replaces"><b>replaces</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">If this document replaces another</font>&lt;/replaces&gt;
  &lt;<a title="who the document is about" class="dict" href="#document.Document.subject"><b>subject</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Patient.Patient">Patient</a>|<a href="#Group.Group">Group</a>)</font> <font color="navy">who the document is about</font>&lt;/subject&gt;
  &lt;<a title="Author (contributed content to document)" class="dict" href="#document.Document.author"><b>author</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> Author (contributed content to document) --&gt;</font>
   &lt;<a title="When authoring happened" class="dict" href="#document.Document.author.time"><b>time</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">When authoring happened</font>&lt;/time&gt;
   &lt;<a title="who/what authored the final document" class="dict" href="#document.Document.author.party"><b>party</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Device.Device">Device</a>)</font> <font color="navy">who/what authored the final document</font>&lt;/party&gt;
  &lt;/author&gt;
  &lt;<a title="a participant who has attested to the accuracy of the document" class="dict" href="#document.Document.attestor"><b>attestor</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> attests to accuracy of document --&gt;</font>
   &lt;<a title="The type of attestation the authenticator offers" class="dict" href="#document.Document.attestor.mode"><b>mode</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">personal | professional | legal | official</font>&lt;/mode&gt;
   &lt;<a title="When document attested" class="dict" href="#document.Document.attestor.time"><b>time</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">When document attested</font>&lt;/time&gt;
   &lt;<a title="who attested the document" class="dict" href="#document.Document.attestor.party"><b>party</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Organisation.Organisation">Organisation</a>)</font> <font color="navy">who attested the document</font>&lt;/party&gt;
  &lt;/attestor&gt;
  &lt;<a title="expected to receive a copy " class="dict" href="#document.Document.recipient"><b>recipient</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">expected to receive a copy </font>&lt;/recipient&gt;
  &lt;<a title="org which maintains the document." class="dict" href="#document.Document.custodian"><b>custodian</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">org which maintains the document.</font>&lt;/custodian&gt;
  &lt;<a title="the main Act, such as a colonoscopy or an appendectomy, being documented" class="dict" href="#document.Document.event"><b>event</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Any.Any">Any</a>)</font> <font color="navy">the clinical item being documented</font>&lt;/event&gt;
  &lt;<a title="context of the document" class="dict" href="#document.Document.encounter"><b>encounter</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Admission.Admission">Admission</a>|<a href="#InterestOfCare.InterestOfCare">InterestOfCare</a>)</font> <font color="navy">context of the document</font>&lt;/encounter&gt;
  &lt;<a title="Document is broken into sections" class="dict" href="#document.Document.section"><b>section</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> Document is broken into sections --&gt;</font>
   &lt;<a title="type of section (recommended)" class="dict" href="#document.Document.section.type"><b>type</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">type of section (recommended)</font>&lt;/type&gt;
   &lt;<a title="the section creation time (sections are often re-used in several documents)." class="dict" href="#document.Document.section.instant"><b>instant</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#instant.instant">instant</a></font> <font color="navy">Section Creation Time</font>&lt;/instant&gt;
   &lt;<a title="if section author different to document" class="dict" href="#document.Document.section.author"><b>author</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- if section author different to document --&gt;</font>
    &lt;<a title="When authoring happened" class="dict" href="#document.Document.section.author.time"><b>time</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">When authoring happened</font>&lt;/time&gt;
    &lt;<a title="who/what authored the section" class="dict" href="#document.Document.section.author.party"><b>party</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Device.Device">Device</a>)</font> <font color="navy">who/what authored the section</font>&lt;/party&gt;
   &lt;/author&gt;
   &lt;<a title="The person or device that performed the data entry leading to this section. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions" class="dict" href="#document.Document.section.enterer"><b>enterer</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Device.Device">Device</a>)</font> <font color="navy">The source of the data entry</font>&lt;/enterer&gt;
   &lt;<a title="if section different to document" class="dict" href="#document.Document.section.subject"><b>subject</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>|<a href="#Group.Group">Group</a>)</font> <font color="navy">if section different to document</font>&lt;/subject&gt;
   &lt;<a title="provided information in section" class="dict" href="#document.Document.section.informant"><b>informant</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Person.Person">Person</a>)</font> <font color="navy">provided information in section</font>&lt;/informant&gt;
   &lt;<a title="the actual content of the section" class="dict" href="#document.Document.section.content"><b>content</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen">(<a href="#Any.Any">Any</a>)</font> <font color="navy">the actual content of the section</font>&lt;/content&gt;
   &lt;<a title="nested Section" class="dict" href="#document.Document.section.section"><b>section</b></a>&gt; <a class="cf" href="#xml.Control">cond</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> nested Section --&gt;</font>
     <font color="Gray">&lt;!-- Content as for Document.Section --&gt;</font>
   &lt;/section&gt;
  &lt;/section&gt;
  &lt;<a title="See Extensions" class="dict" href="#document.Document.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title=" " class="dict" href="#document.Document.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of message, for human interpretation</font>&lt;/text&gt;
&lt;/Document&gt;
</pre>


<p><a href="document.xsd">Schema for Document</a> and <a href="document.xml">an example</a> (or <a href="#document">formatted for browser (&sect;3.6)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Document.type is  bound to the concept domain <i>DocumentType</i>: &quot;Type of a clinical document&quot;. If an appropriate code exists in LOINC then it should be used</li>
  <li>Document.attestor.mode is  bound to the concept domain <i>DocumentAuthenticationMode</i>: &quot;The way in which a person authenticated a document&quot;. Possible values:
    <table class="codes">
    <tr><td>personal</td><td colspan="2">The person authenticated the document in their personal capacity</td></tr>    <tr><td>professional</td><td colspan="2">The person authenticated the document in their professional capacity</td></tr>    <tr><td>legal</td><td colspan="2">The person authenticated the document and accepted legal responsibility for it's content</td></tr>    <tr><td>official</td><td colspan="2">The organization authenticated the document as consistent with their policies and procedures</td></tr>    </table>
  </li>
  <li>Document.section.type is  bound to the concept domain <i>DocumentSectionType</i>: &quot;Type of a clinical document section&quot;. If an appropriate code exists in LOINC then it should be used</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>The Document resource can be used in a <a href="#http">RESTful framework (&sect;2.3)</a> as a stand-alone resource, or as the basis for a full document in <a href="#documents">the document framework (&sect;2.8)</a>.</li>
<li>The author and the attestor are often the same person, but this may not be the case in many clinical workflows</li>
<li>The attestor attests to the collated narrative portions of the resources</li>
<li>The author, subject, enterer, and informant features are inherited in contained sections, and need not be repeated. Specifying any of these in a section replaces the inherited value</li>
<li>The custodian is responsible for the maintainance of the document. Principally, they are responsible for the policy regarding persistence of the documents. They need not actually retain a copy of the document, but they should do so.</li>
</ul>  

<h3>3.6.2: Displaying a document</h3>
<p>
The human display of the Document is the collated narrative portions of following resources (in order):</p>
<ol>
 <li>The Document itself</li>
 <li>The subject resource</li>
 <li>Resources referenced in the <i>section.content</i></li>
</ol>
<p>
The document narrative should summarise the important parts of the document header that are required 
to establish clinical context for the document (other than the subject, which is displayed in it's own 
right). To actually build the combined narrative, simply append all the narratives xhtml fragments. 
The viewer program can provide it's own stylesheet (.css) for the combined html of the narrative, 
but cannot change any styles specified internally in the existing narratives.
</p>

<h4>3.6.2.1: Originator Responsibilities</h4>
<p>
A document originator is an application that creates a document resource. The originator may create 
new content resources or assemble already existing content resources while doing so. A document originator 
has the following responsibilities:
</p>
<ul>
 <li>Build a document that conforms to the Document rules, and links to content resources that also conform to the rules for the resources</li>
 <li>Ensure that the content of the document is frozen and easily reproducible, either by <a href="#atom.Aggregation">aggregating the document (&sect;2.2)</a>, 
 or using version specific resource references in a FHIR conformant <a href="#http">RESTful framework (&sect;2.3)</a></li>
 <li>Ensure that the content of the documend and other resources conforms to any applicable conformance statements and declared clinical patterns.</li>
</ul>


<h4>3.6.2.2: Recipient Responsibilities</h4>
<p>
A document recipient is an application that receives documents from a document originator or document management system. 
The document recipient is responsible for ensuring that received CDA documents are processed and/or rendered in accordance 
to this specification. A document recipient has the following responsibilities:
</p>
<ul>
 <li>Assume default values where they are defined in the FHIR specification (see the <a href="#implementation.defaults">list here (&sect;2.1.4)</a>)</li>
 <li>Render the document following the rules described above</li>
 <li>A recipient is allowed to extract resources or data from the document, but doing so voids the attestation, and the recipient 
 should always ensure that the user can access the original document when displaying extracted data</li>
 <li>Warn users when a superceded document is displayed, and either withdraw data extracted from superceded documents, or warn users when they view it</li>
</ul>
 


<h3>3.6.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document"> </a><b>Document</b></td></tr>
  <tr><td>Definition</td><td>A documentation of clinical observations and services that are aggregated together into a single statement of clinical meaning that establishes it's own context. A clinical document is composed of a set of resources that include both human and computer readable portions. A human must attest to the accuracy of the human readable portion, and may authenticate and/or sign the entire whole</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>For document based framework</td></tr>
  <tr><td>To Do</td><td>Confidentiality? Language? Consent? Signatures</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.id"> </a><b>Document.id</b></td></tr>
  <tr><td>Definition</td><td>the unique id of a clinical document</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Each document needs a unique identifier so other documents and underlying infrastructure can reference it</td></tr>
  <tr><td>Comments</td><td>must be globally unique. UUIDs are recommended</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.instant"> </a><b>Document.instant</b></td></tr>
  <tr><td>Definition</td><td>the document creation time, when the document first came into being. Where the CDA document is a transform from an original document in some other format, the ClinicalDocument.effectiveTime is the time the original document is created.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>instant</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.type"> </a><b>Document.type</b></td></tr>
  <tr><td>Definition</td><td>specifying the particular kind of document (e.g. History and Physical, Discharge Summary, Progress Note)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from DocumentType</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.title"> </a><b>Document.title</b></td></tr>
  <tr><td>Definition</td><td>the title of the document</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Comments</td><td>It's commonly the case that clinical documents do not have a title, and are collectively referred to by the display name of Document.type (e.g. a &quot;consultation&quot; or &quot;progress note&quot;). Where these display names are rendered to the clinician, or where the document has a unique title, the Document.title value should be used</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.setId"> </a><b>Document.setId</b></td></tr>
  <tr><td>Definition</td><td>Represents an identifier that is common across all document revisions</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: cannot have both setId and replaces</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.version"> </a><b>Document.version</b></td></tr>
  <tr><td>Definition</td><td>used to version successive replacement documents</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>integer</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Comments</td><td>An integer value is recommended</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.replaces"> </a><b>Document.replaces</b></td></tr>
  <tr><td>Definition</td><td>If this document replaces another</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: cannot have both setId and replaces</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.subject"> </a><b>Document.subject</b></td></tr>
  <tr><td>Definition</td><td>who the document is about</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Patient|Group)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.author"> </a><b>Document.author</b></td></tr>
  <tr><td>Definition</td><td>Author (contributed content to document)</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.author.time"> </a><b>Document.author.time</b></td></tr>
  <tr><td>Definition</td><td>When authoring happened</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.author.party"> </a><b>Document.author.party</b></td></tr>
  <tr><td>Definition</td><td>who/what authored the final document</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Device)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.attestor"> </a><b>Document.attestor</b></td></tr>
  <tr><td>Definition</td><td>a participant who has attested to the accuracy of the document</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.attestor.mode"> </a><b>Document.attestor.mode</b></td></tr>
  <tr><td>Definition</td><td>The type of attestation the authenticator offers</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from DocumentAuthenticationMode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.attestor.time"> </a><b>Document.attestor.time</b></td></tr>
  <tr><td>Definition</td><td>When document attested</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.attestor.party"> </a><b>Document.attestor.party</b></td></tr>
  <tr><td>Definition</td><td>who attested the document</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Organisation)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.recipient"> </a><b>Document.recipient</b></td></tr>
  <tr><td>Definition</td><td>expected to receive a copy </td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>Resource(Person|Organization)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.custodian"> </a><b>Document.custodian</b></td></tr>
  <tr><td>Definition</td><td>org which maintains the document.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.event"> </a><b>Document.event</b></td></tr>
  <tr><td>Definition</td><td>the main Act, such as a colonoscopy or an appendectomy, being documented</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Any)</td></tr>
  <tr><td>Comments</td><td>The event needs to be consistent with the type element, though can provide further information if desired</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.encounter"> </a><b>Document.encounter</b></td></tr>
  <tr><td>Definition</td><td>context of the document</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Admission|InterestOfCare)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section"> </a><b>Document.section</b></td></tr>
  <tr><td>Definition</td><td>Document is broken into sections</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.type"> </a><b>Document.section.type</b></td></tr>
  <tr><td>Definition</td><td>type of section (recommended)</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from DocumentSectionType</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.instant"> </a><b>Document.section.instant</b></td></tr>
  <tr><td>Definition</td><td>the section creation time (sections are often re-used in several documents).</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>instant</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.author"> </a><b>Document.section.author</b></td></tr>
  <tr><td>Definition</td><td>if section author different to document</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.author.time"> </a><b>Document.section.author.time</b></td></tr>
  <tr><td>Definition</td><td>When authoring happened</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.author.party"> </a><b>Document.section.author.party</b></td></tr>
  <tr><td>Definition</td><td>who/what authored the section</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Device)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.enterer"> </a><b>Document.section.enterer</b></td></tr>
  <tr><td>Definition</td><td>The person or device that performed the data entry leading to this section. Where there is more than one candidate, pick the most proximal to the message. Can provide other enterers in extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Device)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.subject"> </a><b>Document.section.subject</b></td></tr>
  <tr><td>Definition</td><td>if section different to document</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person|Group)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.informant"> </a><b>Document.section.informant</b></td></tr>
  <tr><td>Definition</td><td>provided information in section</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Person)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.content"> </a><b>Document.section.content</b></td></tr>
  <tr><td>Definition</td><td>the actual content of the section</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: a section must have content or one or more sections</td></tr>
  <tr><td>Type</td><td>Resource(Any)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.section"> </a><b>Document.section.section</b></td></tr>
  <tr><td>Definition</td><td>nested Section</td></tr>
  <tr><td>Control</td><td>Conditional, 0..*: a section must have content or one or more sections</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.section.section.#"> </a><b>Document.section.section.#</b></td></tr>
  <tr><td>Definition</td><td>contents as for a section</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>@Document.Section</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.extensions"> </a><b>Document.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="document.Document.text"> </a><b>Document.text</b></td></tr>
  <tr><td>Definition</td><td> </td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div></div><div class="section"><h1>4: Clinical Components</h1><div><a name="labreport"> </a>

<h2>4.1: LabReport</h2>
<p>
The findings and interpretation of pathology tests performed on tissues and body fluids. This is typically done in a laboratory but may be done in other environments such as at the point of care.
</p>
<p>
The relative url is /labreports
</p>
<h3>4.1.1: 
Content
</h3>
<p><img alt="UML Image" src="labreport.png"/></p>

<pre>
&lt;<a title="The findings and interpretation of pathology tests performed on tissues and body fluids. This is typically done in a laboratory but may be done in other environments such as at the point of care" class="dict" href="#labreport.LabReport"><b>LabReport</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#labreport.LabReport.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="The status of the pathology test result as a whole" class="dict" href="#labreport.LabReport.status"><b>status</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Registered|Interim|Final|Amended|Cancelled|Withdrawn</font>&lt;/status&gt;
  &lt;<a title="The date and/or time that the result was issued from the source for the recorded Ã¢â‚¬ËœTest result status" class="dict" href="#labreport.LabReport.issued"><b>issued</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#instant.instant">instant</a></font> <font color="navy">date issed for current status</font>&lt;/issued&gt;
  &lt;<a title="The patient about who the report is about" class="dict" href="#labreport.LabReport.patient"><b>patient</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Patient.Patient">Patient</a>)</font> <font color="navy">The patient the report is about</font>&lt;/patient&gt;
  &lt;<a title="The admission that this diagnostic investigation is associated with" class="dict" href="#labreport.LabReport.admission"><b>admission</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Admission.Admission">Admission</a>)</font> <font color="navy">Admission Context</font>&lt;/admission&gt;
  &lt;<a title="The laboratory service that issued the report" class="dict" href="#labreport.LabReport.laboratory"><b>laboratory</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Responsible Laboratory</font>&lt;/laboratory&gt;
  &lt;<a title="The local ID assigned to the report by the order filler, usually by the Laboratory Information System (LIS)." class="dict" href="#labreport.LabReport.reportId"><b>reportId</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Id for external references to this report</font>&lt;/reportId&gt;
  &lt;<a title="Details concerning a single pathology test requested." class="dict" href="#labreport.LabReport.requestDetail"><b>requestDetail</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
   &lt;<a title="The local ID assigned to the order by the order requester." class="dict" href="#labreport.LabReport.requestDetail.requestOrderId"><b>requestOrderId</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Identifier">Identifier</a></font> <font color="navy">Id assigned by requester</font>&lt;/requestOrderId&gt;
   &lt;<a title="The local ID assigned to the test order by the order filler, usually by the Laboratory Information System (LIS)." class="dict" href="#labreport.LabReport.requestDetail.receiverOrderId"><b>receiverOrderId</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Identifier">Identifier</a></font> <font color="navy">Receiver's Id for the request</font>&lt;/receiverOrderId&gt;
   &lt;<a title="Identification of pathology test requested," class="dict" href="#labreport.LabReport.requestDetail.requestTest"><b>requestTest</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Test Requested</font>&lt;/requestTest&gt;
   &lt;<a title="Details of the clinician or organisation requesting the laboratory test." class="dict" href="#labreport.LabReport.requestDetail.requester"><b>requester</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Agent.Agent">Agent</a>|<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Responsible for request</font>&lt;/requester&gt;
   &lt;<a title="Details of the clinical information provided to the laboratory along with the original request" class="dict" href="#labreport.LabReport.requestDetail.clinicalInfo"><b>clinicalInfo</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Any.Any">Any</a>)</font> <font color="navy">Clinical information provided</font>&lt;/clinicalInfo&gt;
  &lt;/requestDetail&gt;
  &lt;<a title="Identification of the pathology test performed, sometimes including specimen type." class="dict" href="#labreport.LabReport.reportName"><b>reportName</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Name for the entire report</font>&lt;/reportName&gt;
  &lt;<a title="The diagnostic service that performs the examination e.g. biochemistry, haematology." class="dict" href="#labreport.LabReport.service"><b>service</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Biochemistry, Haematology etc</font>&lt;/service&gt;
  &lt;<a title="The diagnostically relevant time for this report" class="dict" href="#labreport.LabReport.diagnosticTime"><b>diagnosticTime</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Effective time of diagnostic report</font>&lt;/diagnosticTime&gt;
  &lt;<a title="Details about the specimen if all individual test results are derived from the same specimen" class="dict" href="#labreport.LabReport.specimen"><b>specimen</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen">(<a href="#Specimen.Specimen">Specimen</a>)</font> <font color="navy">Specimen (incl. time of collection)</font>&lt;/specimen&gt;
  &lt;<a title="A group of results. Results may be grouped by specimen, or by some value in LabReport.resultGroup.name to describe what binds all the results together." class="dict" href="#labreport.LabReport.resultGroup"><b>resultGroup</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> --&gt;</font>
   &lt;<a title="A code or name that describes the group of results" class="dict" href="#labreport.LabReport.resultGroup.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">What defines the group</font>&lt;/name&gt;
   &lt;<a title="Details about the individual specimen to which these Ã¢â‚¬ËœResult groupÃ¢â‚¬â„¢ test results refer, where testing of multiple specimens is required." class="dict" href="#labreport.LabReport.resultGroup.specimen"><b>specimen</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Specimen.Specimen">Specimen</a>)</font> <font color="navy">Specimen details</font>&lt;/specimen&gt;
   &lt;<a title="Specific detailed result, including both the value of the result item, and additional information that may be useful for clinical interpretation. Results include whatever specific data items pathology labs report as part of the clinical service; it is not confined to measurements." class="dict" href="#labreport.LabReport.resultGroup.result"><b>result</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> --&gt;</font>
    &lt;<a title="Identifies the meaning of the value" class="dict" href="#labreport.LabReport.resultGroup.result.name"><b>name</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Name or code of the result</font>&lt;/name&gt;
    &lt;<a title="Actual value of the result. Most result values will be numerical measurements, but others may be coded concepts, free text, or multimedia images" class="dict" href="#labreport.LabReport.resultGroup.result.value[x]"><b>value[x]</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a>|<a href="#datatypes.CodeableConcept">CodeableConcept</a>|<a href="#datatypes.Attachment">Attachment</a>|
              <a href="#datatypes.Ratio">Ratio</a>|<a href="#datatypes.Choice">Choice</a>|<a href="#datatypes.Interval">Interval</a>(<a href="#dateTime.dateTime">dateTime</a>)|<a href="#datatypes.string">string</a></font> <font color="navy">Result. [x] = type name</font>&lt;/value[x]&gt;
    &lt;<a title="Flag indicating the abnormal status of the result" class="dict" href="#labreport.LabReport.resultGroup.result.flag"><b>flag</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">+ | ++ | +++ | - | -- | --- </font>&lt;/flag&gt;
    &lt;<a title="The status of the result value" class="dict" href="#labreport.LabReport.resultGroup.result.status"><b>status</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Registered|Interim|Final|Amended|Cancelled|Withdrawn</font>&lt;/status&gt;
    &lt;<a title="May include statements about significant, unexpected or unreliable. values, or information about the source of the value where this may be relevant to the interpretation of the result." class="dict" href="#labreport.LabReport.resultGroup.result.comments"><b>comments</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Comments about result</font>&lt;/comments&gt;
    &lt;<a title="Guidance on how to interpret the value by comparison to a normal or recommended range" class="dict" href="#labreport.LabReport.resultGroup.result.referenceRange"><b>referenceRange</b></a>&gt;  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> --&gt;</font>
     &lt;<a title="Code for the meaning of the reference range" class="dict" href="#labreport.LabReport.resultGroup.result.referenceRange.meaning"><b>meaning</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">The meaning of this range</font>&lt;/meaning&gt;
     &lt;<a title="Actual value of the reference range.  May be a quantity (&lt;20mg/L), an interval (10-20 umol/L), or some text" class="dict" href="#labreport.LabReport.resultGroup.result.referenceRange.range[x]"><b>range[x]</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a>|<a href="#datatypes.Interval">Interval</a>(<a href="#datatypes.Quantity">Quantity</a>)|<a href="#datatypes.string">string</a></font> <font color="navy">Reference</font>&lt;/range[x]&gt;
    &lt;/referenceRange&gt;
   &lt;/result&gt;
  &lt;/resultGroup&gt;
  &lt;<a title="Concise and clinically contextualised narrative interpretation of the pathology test results." class="dict" href="#labreport.LabReport.conclusion"><b>conclusion</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Clinical Interpretation of test results</font>&lt;/conclusion&gt;
  &lt;<a title="Codes for the conclusion" class="dict" href="#labreport.LabReport.codedDiagnosis"><b>codedDiagnosis</b></a>&gt; <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Codes for the conclusion</font>&lt;/codedDiagnosis&gt;
  &lt;<a title="Rich text representation of the entire result as issued by the diagnostic service. Multiple formats are allowed but they must be semantically equivalent." class="dict" href="#labreport.LabReport.representation"><b>representation</b></a>&gt; <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#datatypes.Attachment">Attachment</a></font> <font color="navy">Entire Report as issued</font>&lt;/representation&gt;
  &lt;<a title="See Extensions" class="dict" href="#labreport.LabReport.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of report, for human interpretation" class="dict" href="#labreport.LabReport.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of report, for human interpretation</font>&lt;/text&gt;
&lt;/LabReport&gt;
</pre>


<p><a href="labreport.xsd">Schema for LabReport</a> and <a href="labreport.xml">an example</a> (or <a href="#labreport">formatted for browser (&sect;4.1)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>LabReport.status and LabReport.resultGroup.result.status are  bound to the concept domain <i>LabReportStatus</i>: &quot;The status of a report or result item&quot;. Possible values:
    <table class="codes">
    <tr><td>registered</td><td colspan="2">The existence of the result is registered, but there is no result yet available</td></tr>    <tr><td>interim</td><td colspan="2">This is an initial or interim result: data may be missing or verification not been performed</td></tr>    <tr><td>final</td><td colspan="2">The result is complete and verified by the responsible pathologist</td></tr>    <tr><td>amended</td><td colspan="2">The result has been modified subsequent to being Final, and is complete and verified by the responsible pathologist</td></tr>    <tr><td>cancelled</td><td colspan="2">The result is unavailable because the test was not started or not completed (also sometimes called aborted)</td></tr>    <tr><td>withdrawn</td><td colspan="2">The result has been withdrawn following previous Final release</td></tr>    </table>
  </li>
  <li>LabReport.requestDetail.requestTest is  bound to the concept domain <i>LabRequests</i>: &quot;codes for requestable tests&quot;</li>
  <li>LabReport.reportName is  bound to the concept domain <i>LabReportNames</i>: &quot;codes for report names&quot;. If an appropriate code exists in LOINC then it should be used</li>
  <li>LabReport.service is  bound to the concept domain <i>LabServices</i>: &quot;codes for laboratory services&quot;. For example values, see HL7 v2 table 0074</li>
  <li>LabReport.resultGroup.name is  bound to the concept domain <i>LabResultGroupNames</i>: &quot;codes for result groups&quot;. If an appropriate code exists in LOINC then it should be used</li>
  <li>LabReport.resultGroup.result.name is  bound to the concept domain <i>LabResultNames</i>: &quot;codes for results&quot;. If an appropriate code exists in LOINC then it should be used</li>
  <li>LabReport.resultGroup.result.value[x] is  not bound to a concept domain</li>
  <li>LabReport.resultGroup.result.flag is  bound to the concept domain <i>LabResultFlag</i>: &quot;codes for result flags&quot;. Possible values:
    <table class="codes">
    <tr><td colspan="3">-</td></tr>    <tr><td colspan="3">--</td></tr>    <tr><td colspan="3">---</td></tr>    <tr><td colspan="3">+</td></tr>    <tr><td colspan="3">++</td></tr>    <tr><td colspan="3">+++</td></tr>    </table>
  </li>
  <li>LabReport.resultGroup.result.referenceRange.meaning is  bound to the concept domain <i>LabReferenceRanges</i>: &quot;Code for the meaning of a reference range&quot;</li>
  <li>LabReport.codedDiagnosis is  bound to the concept domain <i>LabDiagnosisCodes</i>: &quot;Codes for laboratory diagnoses&quot;. A good candidate for codes is SNOMED-CT</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>About naming: a laboratory produces &quot;reports&quot; that is a collection of &quot;tests&quot; that produce &quot;results&quot;. Clinical consumers call the whole 
collection &quot;the results&quot;. There is much potential confusion around these names. The confusion is worsened because &quot;the report&quot; is sometimes a 
document which entirely contains narrative, sometimes it is purely atomic data results, and sometimes it's a mix of both. </li> 
<li>The scope of this resource is the laboratory reporting process. While this resource includes some elements that relate to the ordering cycle, these are only included to the degree that it is useful for the final report to refer back to the orders. Different resources are required for supporting the ordering cycle.</li>
<li>This laboratory report model provides a 3 level structure for the results - a report contains a list of groups, each of which contains a list of results.
Results are grouped by either a specimen or a code that indicates that nature of the grouping (e.g. organism isolate/sensitivity or antibody functional testing). 
While many common lab reports don't need or benefit directly from the group structure, this lab report model imposes the group structure anyway. This means that these 
lab reports have a single group which has no code on it, and which contains all the results. The advantage of this model is that all the results are found 
at the same point in the heirarchy, and there is a single point on the heirarchy - the group - that may influence the meaning of the test.</li>
<li>The element that contains the actual value of the result has a variable name depending on the type. The name is &quot;value&quot; + the type name, ignoring parameters, with a capital on the first letter, e.g. valueInterval or valueString</li>
<li>The clinical information associated with a request can be a simple text summary, or a reference to another resource</li>
<li>The <i>diagnosticTime</i> can be inferred from the specimens, if they are provided, but specimen details are often not provided, and the value of <i>diagnosticTime</i> is always important. The value of the <i>diagnosticTime</i> element must be consistent with the speciment collection times</li>
<li>Applications consuming lab reports must take careful note of updates to lab reports, and particularly note withdrawn reports. 
A report shouldn't be final until all the results are final or amended. If a report is withdrawn, all the results must be 
withdrawn by replacing every result value with the Concept &quot;withdrawn&quot; in the internal terminology <a href="#terminologies">&quot;Special values&quot; (&sect;1.5)</a> 
(sid = &quot;urn:hl7-org:sid/fhir/special-values&quot;), and setting the conclusion (if provided) and the text narrative to some text like 
&quot;This report has been withdrawn&quot;. A reason may be provided in the narrative. </li>
</ul>
<h4>4.1.1.1: Relationship between results, narrative, and synoptic reports</h4>
<p>
One difficult aspect of the design of this resource can be captured with a simple question: â€œjust what is a result?â€� There 
is a wide range of variation in the answers to this question; some respond that a result is inherently measurement based, 
while others focus on the clinical utility of the data item. 
</p>
<p>
Some practical examples:
</p>
<ul>
<li>Tumour dimensions in synoptic reports</li>
<li>Injection volumes in radiology reports</li>
<li>Phenotypes and genotypes in pathology reports</li>
<li>Images (Scatter plots, electrophoresis photos, slide photos, chromatograms)</li>
</ul>
<p>
Which of these are results? For this resource, we have chosen to take an inclusive view; any of these things can be a result, as long 
as they have a formal code or name that has a clinical meaning, and some kind of (possible) value then they can be a result. 
</p>


<h3>4.1.2: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for person:
</p>
<table class="list">
  <tr><td>id          </td><td>an identifier associated with the report</td></tr>
  <tr><td>test        </td><td>the name or code of either a requested test, the report or a report group</td></tr>
  <tr><td>result      </td><td>the name or code or result value of a <i>result</i></td></tr>
  <tr><td>specimen    </td><td>Either of the specimens. The parameter is then followed by an additional parameter (separated for a &quot;.&quot;) that species search/filter inside specimen</td></tr>
  <tr><td>patient     </td><td>The identity of a patient</td></tr>
  <tr><td>laboratory  </td><td>The identity of an laboratory</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>4.1.3: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport"> </a><b>LabReport</b></td></tr>
  <tr><td>Definition</td><td>The findings and interpretation of pathology tests performed on tissues and body fluids. This is typically done in a laboratory but may be done in other environments such as at the point of care</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Use to record any pathology test result, including the result of a test on a specimen taken as part of a composite procedure or operation.</td></tr>
  <tr><td>Comments</td><td>Not to be used for reporting on non-pathology test results e.g. diagnostic imaging, ECG or respiratory function tests. Not to be used to represent an entire cumulative report. This Pathology test result archetype represents only one of the result sets that is usually viewed as a vertical in a cumulative test report. A cumulative report is a view that is constructed from the results represented by multiple OBSERVATION archetypes. This archetype is suitable for representation of general pathology test results, but not intended to cover full synoptic reports. For these, additional resources are required to represent the data properly</td></tr>
  <tr><td>RIM Mapping</td><td>Observation[isNormalAct() and subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and domainMember(&quot;LabObservationType&quot;, code)]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.id"> </a><b>LabReport.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./id[isNormalDatatype() and displayable=&quot;false&quot; and scope=&quot;OBJ&quot; and reliability=&quot;ISS&quot;])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.status"> </a><b>LabReport.status</b></td></tr>
  <tr><td>Definition</td><td>The status of the pathology test result as a whole</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from LabReportStatus</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Labs routinely issue provisional/incomplete reports, or withdraw previously released reports</td></tr>
  <tr><td>RIM Mapping</td><td>registered: ./statusCode[isNormalDatatype()]=&quot;new&quot;;

interim: ./statusCode[isNormalDatatype()]=&quot;active&quot;;

final: ./statusCode[isNormalDatatype()]=&quot;complete&quot; and not(./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#CACT&quot;) and moodCode=&quot;EVN&quot; and domainMember(&quot;ReviseLabOrder&quot;, code) and isNormalAct()]);

amended: ./statusCode[isNormalDatatype()]=&quot;complete&quot; and ./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#CACT&quot;) and moodCode=&quot;EVN&quot; and domainMember(&quot;ReviseLabOrder&quot;, code) and isNormalAct() and statusCode=&quot;completed&quot;];

cancelled: 
./statusCode[isNormalDatatype()]=&quot;aborted&quot;;

withdrawn: ./statusCode[isNormalDatatype()]=&quot;obsolete&quot;</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.issued"> </a><b>LabReport.issued</b></td></tr>
  <tr><td>Definition</td><td>The date and/or time that the result was issued from the source for the recorded Ã¢â‚¬ËœTest result status</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>instant</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Clinicians need to be able to check the date that the report was released</td></tr>
  <tr><td>Comments</td><td>May be different from LabReport.updated, because that is the status of this record, not the report the record is about</td></tr>
  <tr><td>RIM Mapping</td><td>firstOf(unique(./participation[isHighest(priorityCode) and typeCode=&quot;VRF&quot; and isNormalParticipation()]/time[type=&quot;TS&quot;]), 
unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/time[type=&quot;TS&quot;]))</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.patient"> </a><b>LabReport.patient</b></td></tr>
  <tr><td>Definition</td><td>The patient about who the report is about</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Patient)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Must know the patient context</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./participation[isHighest(priorityCode) and typeCode=&quot;SBJ&quot; and isNormalParticipation()]/role[classCode=&quot;PAT&quot;])</td></tr>
  <tr><td>To Do</td><td>need to check the wording -is it about, upon, for?</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.admission"> </a><b>LabReport.admission</b></td></tr>
  <tr><td>Definition</td><td>The admission that this diagnostic investigation is associated with</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Admission)</td></tr>
  <tr><td>Requirements</td><td>Some institutions track and file diagnostic reports under a specific admission</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./inboundRelationship[isHighest(priorityCode) and typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#ENC&quot;, code) and moodCode=&quot;EVN&quot; and isNormalAct()])</td></tr>
  <tr><td>To Do</td><td>Reckon this is not 80%</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.laboratory"> </a><b>LabReport.laboratory</b></td></tr>
  <tr><td>Definition</td><td>The laboratory service that issued the report</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Organization)</td></tr>
  <tr><td>Requirements</td><td>Need to know how to contact if there are queries about the results. Also may need to track the source of reports for secondary data analysis</td></tr>
  <tr><td>Comments</td><td>This is not necessarily the source of the atomic reports - it's the lab that takes responsibility for the clinical report</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]/scoper[subsumesCode(&quot;EntityClass#ORG&quot;, classCode) and determinerCode=&quot;INSTANCE&quot;])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.reportId"> </a><b>LabReport.reportId</b></td></tr>
  <tr><td>Definition</td><td>The local ID assigned to the report by the order filler, usually by the Laboratory Information System (LIS).</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td>Requirements</td><td>Need to know what identifier to use when making queries about this report from the source laboratory</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./id[displayable=&quot;true&quot; and scope=&quot;OBJ&quot;])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail"> </a><b>LabReport.requestDetail</b></td></tr>
  <tr><td>Definition</td><td>Details concerning a single pathology test requested.</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track completion of requests based on reports issued, and also to report what diagnostic test swere requested (not always the same as what is delivered)</td></tr>
  <tr><td>Comments</td><td>Note: Usually there is one test request for each result, however in some circumstances multiple test requests may be represented using a single Pathology test result resource</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./outboundRelationship[typeCode=&quot;FLFS&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and subsumes(&quot;ActMood#PRMS&quot;, moodCode) and isNormalAct()])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail.requestOrderId"> </a><b>LabReport.requestDetail.requestOrderId</b></td></tr>
  <tr><td>Definition</td><td>The local ID assigned to the order by the order requester.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Identifier</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track completion of requests based on reports issued</td></tr>
  <tr><td>Comments</td><td>Equivalent to the Placer Order Identifier</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./outboundRelationship[typeCode=&quot;FLFS&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and subsumes(&quot;ActMood#RQO&quot;, moodCode) and isNormalAct()]/id[scope=&quot;OBJ&quot; and displayable=&quot;true&quot;])</td></tr>
  <tr><td>To Do</td><td>Reckon this is not 80%</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail.receiverOrderId"> </a><b>LabReport.requestDetail.receiverOrderId</b></td></tr>
  <tr><td>Definition</td><td>The local ID assigned to the test order by the order filler, usually by the Laboratory Information System (LIS).</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Identifier</td></tr>
  <tr><td>Requirements</td><td>Need to be able to track completion of requests based on reports issued</td></tr>
  <tr><td>Comments</td><td>Usually equivalent to the DICOM Accession Number and the Filler Order Identifier.</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./id[scope=&quot;OBJ&quot; and displayable=&quot;true&quot;])</td></tr>
  <tr><td>To Do</td><td>Reckon this is not 80%</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail.requestTest"> </a><b>LabReport.requestDetail.requestTest</b></td></tr>
  <tr><td>Definition</td><td>Identification of pathology test requested,</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabRequests</td></tr>
  <tr><td>Requirements</td><td>Need to be able to report what diagnostic test swere requested (not always the same as what is delivered)</td></tr>
  <tr><td>Comments</td><td>Useful where the test requested differs from the test actually performed.</td></tr>
  <tr><td>RIM Mapping</td><td>./code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail.requester"> </a><b>LabReport.requestDetail.requester</b></td></tr>
  <tr><td>Definition</td><td>Details of the clinician or organisation requesting the laboratory test.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Agent|Organization)</td></tr>
  <tr><td>Requirements</td><td>The requesting clinician may need to be contacted concerning the interpretation of the lab report</td></tr>
  <tr><td>RIM Mapping</td><td>Agent: unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]

Organization: unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]/scoper[subsumesCode(&quot;EntityClass#ORG&quot;, classCode) and determinerCode=&quot;INSTANCE&quot; and code[isNormalDatatype]])
</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.requestDetail.clinicalInfo"> </a><b>LabReport.requestDetail.clinicalInfo</b></td></tr>
  <tr><td>Definition</td><td>Details of the clinical information provided to the laboratory along with the original request</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Any)</td></tr>
  <tr><td>Requirements</td><td>Knowing the clinical information may influence the interpretation of the result</td></tr>
  <tr><td>RIM Mapping</td><td>./outboundRelationship[typeCode=&quot;PERT&quot; and isNormalActRelationship()]/target</td></tr>
  <tr><td>To Do</td><td>This isn't really *ANY* resource.  You can't send a drug or an Animal or a bunch of other things.  What you really want here are &quot;acts&quot;, and I suspect there's a constraint that the subject of the LabReport must have participated in them as subject or perhaps in some other way.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.reportName"> </a><b>LabReport.reportName</b></td></tr>
  <tr><td>Definition</td><td>Identification of the pathology test performed, sometimes including specimen type.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabReportNames</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know what report this is, so clinicians can filter/find the reports they are looking for</td></tr>
  <tr><td>Comments</td><td>A test result may be for a single analyte, or a group of items, including panel tests.</td></tr>
  <tr><td>RIM Mapping</td><td>./code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.service"> </a><b>LabReport.service</b></td></tr>
  <tr><td>Definition</td><td>The diagnostic service that performs the examination e.g. biochemistry, haematology.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabServices</td></tr>
  <tr><td>Requirements</td><td>Help clinicians filter/find the reports they are looking for</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./inboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#LIST&quot;, classCode) and moodCode=&quot;EVN&quot; and inDomain(code,&quot;Lab Service&quot;) and isNormalAct()]/code</td></tr>
  <tr><td>To Do</td><td>I'm not sure this is in the 80%.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.diagnosticTime"> </a><b>LabReport.diagnosticTime</b></td></tr>
  <tr><td>Definition</td><td>The diagnostically relevant time for this report</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know where in the patient history to file/present this report</td></tr>
  <tr><td>Comments</td><td>The diagnostically relevant time can be derived from the specimen collection times, but the specimen information is not always available, and the exact relationship is not always automatic</td></tr>
  <tr><td>RIM Mapping</td><td>./effectiveTime[type=&quot;TS&quot;]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.specimen"> </a><b>LabReport.specimen</b></td></tr>
  <tr><td>Definition</td><td>Details about the specimen if all individual test results are derived from the same specimen</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>Resource(Specimen)</td></tr>
  <tr><td>Requirements</td><td>Need to be able to report information about the collected specimens on which the report is based</td></tr>
  <tr><td>Comments</td><td>If the specimen is sufficiently specified with a code in the Test result name, then this additional data may be redundant. If there are multiple specimens, these may be represented per 'Result group'</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./participation[typeCode=&quot;SUBJ&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#SPEC&quot;, classCode)])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup"> </a><b>LabReport.resultGroup</b></td></tr>
  <tr><td>Definition</td><td>A group of results. Results may be grouped by specimen, or by some value in LabReport.resultGroup.name to describe what binds all the results together.</td></tr>
  <tr><td>Control</td><td>1..*</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to report groups of results, where the result grouping is arbitrary, but meaningful</td></tr>
  <tr><td>Comments</td><td>Many (most) lab reports don't really have a meaningful group. In these cases, just create a single group with no specimen or name</td></tr>
  <tr><td>RIM Mapping</td><td>./outboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/target[isNormalAct() and subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and fromDomain(code, &quot;LabObservationBattery&quot;)]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.name"> </a><b>LabReport.resultGroup.name</b></td></tr>
  <tr><td>Definition</td><td>A code or name that describes the group of results</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabResultGroupNames</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Comments</td><td>For example, the antibody code for a goup of antibody related test, or the organism code for a group of isolate/sensitivities. Leave blank if there is no particular meaning associated with the group</td></tr>
  <tr><td>RIM Mapping</td><td>./code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.specimen"> </a><b>LabReport.resultGroup.specimen</b></td></tr>
  <tr><td>Definition</td><td>Details about the individual specimen to which these Ã¢â‚¬ËœResult groupÃ¢â‚¬â„¢ test results refer, where testing of multiple specimens is required.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Specimen)</td></tr>
  <tr><td>Requirements</td><td>Need to be able to report information about the collected specimens on which the report is based</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./participation[typeCode=&quot;SBJ&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#SPEC&quot;, classCode)])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result"> </a><b>LabReport.resultGroup.result</b></td></tr>
  <tr><td>Definition</td><td>Specific detailed result, including both the value of the result item, and additional information that may be useful for clinical interpretation. Results include whatever specific data items pathology labs report as part of the clinical service; it is not confined to measurements.</td></tr>
  <tr><td>Control</td><td>1..*</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to report results with information that assist with interpretation</td></tr>
  <tr><td>RIM Mapping</td><td>./outboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and isNormalAct() and fromDomain(code, &quot;LabObservationResult&quot;)]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.name"> </a><b>LabReport.resultGroup.result.name</b></td></tr>
  <tr><td>Definition</td><td>Identifies the meaning of the value</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabResultNames</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to know what the result is about</td></tr>
  <tr><td>Comments</td><td>results are fundamentally a name - value pair with additional clarifying information</td></tr>
  <tr><td>RIM Mapping</td><td>./code</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.value[x]"> </a><b>LabReport.resultGroup.result.value[x]</b></td></tr>
  <tr><td>Definition</td><td>Actual value of the result. Most result values will be numerical measurements, but others may be coded concepts, free text, or multimedia images</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Quantity|CodeableConcept|Attachment|Ratio|Choice|Interval(dateTime)|string from *unbound*</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need a value for the result</td></tr>
  <tr><td>RIM Mapping</td><td>./value</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.flag"> </a><b>LabReport.resultGroup.result.flag</b></td></tr>
  <tr><td>Definition</td><td>Flag indicating the abnormal status of the result</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>code from LabResultFlag</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>RIM Mapping</td><td>./interpretationCode</td></tr>
  <tr><td>To Do</td><td>The proposed set of codes are too narrow (and doesn't map well to v3.)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.status"> </a><b>LabReport.resultGroup.result.status</b></td></tr>
  <tr><td>Definition</td><td>The status of the result value</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from LabReportStatus</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to track the status of individual results - some results are finalised before the whole report is finalised</td></tr>
  <tr><td>RIM Mapping</td><td>(as per LabReport.status)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.comments"> </a><b>LabReport.resultGroup.result.comments</b></td></tr>
  <tr><td>Definition</td><td>May include statements about significant, unexpected or unreliable. values, or information about the source of the value where this may be relevant to the interpretation of the result.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to provide free text additional information</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and mapsTo(code, &quot;LOINC#
48767-8&quot;) and isNormalAct()]/value[type=&quot;ST&quot;])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.referenceRange"> </a><b>LabReport.resultGroup.result.referenceRange</b></td></tr>
  <tr><td>Definition</td><td>Guidance on how to interpret the value by comparison to a normal or recommended range</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to provide multiple reference ranges</td></tr>
  <tr><td>Comments</td><td>Most results only have one reference range. Some non-numerical results don't have a reference range</td></tr>
  <tr><td>RIM Mapping</td><td>./outboundRelationship[typeCode=&quot;REFV&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and isCriterionInd=&quot;true&quot; and isNormalAct()]</td></tr>
  <tr><td>To Do</td><td>Are multiple reference ranges in the 80%?</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.referenceRange.meaning"> </a><b>LabReport.resultGroup.result.referenceRange.meaning</b></td></tr>
  <tr><td>Definition</td><td>Code for the meaning of the reference range</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabReferenceRanges</td></tr>
  <tr><td>Requirements</td><td>Need to be able to say what kind of reference range this is - normal, recommended, therapeutic, or perhaps what state this reference range applies to (i.e. hormonal cycles)</td></tr>
  <tr><td>RIM Mapping</td><td>./interpretationCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.resultGroup.result.referenceRange.range[x]"> </a><b>LabReport.resultGroup.result.referenceRange.range[x]</b></td></tr>
  <tr><td>Definition</td><td>Actual value of the reference range.  May be a quantity (&lt;20mg/L), an interval (10-20 umol/L), or some text</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Quantity|Interval(Quantity)|string</td></tr>
  <tr><td>Requirements</td><td>Need to be able to report numerical or text reference ranges, and handle legacy data</td></tr>
  <tr><td>Comments</td><td>Text reference ranges are typically used in endocrinology, or for legacy data with string reference ranges</td></tr>
  <tr><td>RIM Mapping</td><td>./value[type=(&quot;PQ&quot;, &quot;IVL_PQ&quot;, &quot;ST&quot;)]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.conclusion"> </a><b>LabReport.conclusion</b></td></tr>
  <tr><td>Definition</td><td>Concise and clinically contextualised narrative interpretation of the pathology test results.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Need to be able to provide a conclusion that is not lost amongst the basic result data</td></tr>
  <tr><td>Comments</td><td>common reports don't have a conclusion, but some do</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./inboundRelationship[typeCode=&quot;SPRT&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and mapsTo(code, &quot;LOINC#
48767-8&quot;) and isNormalAct()]/value[type=&quot;ST&quot;])</td></tr>
  <tr><td>To Do</td><td>Is this in the 80%?</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.codedDiagnosis"> </a><b>LabReport.codedDiagnosis</b></td></tr>
  <tr><td>Definition</td><td>Codes for the conclusion</td></tr>
  <tr><td>Control</td><td>0..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from LabDiagnosisCodes</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./inboundRelationship[typeCode=&quot;SPRT&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and subsumesCode(code, &quot;LOINC#
54531-9&quot;) and isNormalAct()]/value[type=&quot;CD&quot;])</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.representation"> </a><b>LabReport.representation</b></td></tr>
  <tr><td>Definition</td><td>Rich text representation of the entire result as issued by the diagnostic service. Multiple formats are allowed but they must be semantically equivalent.</td></tr>
  <tr><td>Control</td><td>1..*</td></tr>
  <tr><td>Type</td><td>Attachment</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Laboratory needs to be able to provide it's own fully formatted report for clinical fidelity</td></tr>
  <tr><td>Comments</td><td>Possible formats: text/html, text/plain, text/rtf, application/msword, application/pdf, application/rtf, application/vnd.oasis.opendocument.text, application/vnd.openxmlformats-officedocument.wordprocessingml.document</td></tr>
  <tr><td>RIM Mapping</td><td>./text[type=&quot;ED&quot;]</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.extensions"> </a><b>LabReport.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>RIM Mapping</td><td>N/A</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="labreport.LabReport.text"> </a><b>LabReport.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of report, for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
  <tr><td>RIM Mapping</td><td>unique(./text[type=&quot;ST&quot;])</td></tr>
</table>


   
</div></div><div class="section"><h1>5: Medications</h1><div><a name="prescription"> </a>

<h2>5.1: Prescription</h2>
<p>
Directions provided by a prescribing practitioner for a specific medication to be administered to an individual.
</p>
<p>
The relative url is /prescriptions
</p>
<h3>5.1.1: 
Content
</h3>
<p><img alt="UML Image" src="prescription.png"/></p>

<pre>
&lt;<a title="Directions provided by a prescribing practitioner for a specific medication to be administered to an individual" class="dict" href="#prescription.Prescription"><b>Prescription</b></a> xmlns=&quot;http://www.hl7.org/fhir&quot;&gt;
  &lt;<a title="Master Resource Id, always first in all resources" class="dict" href="#prescription.Prescription.id"><b>id</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.id">id</a></font> <font color="navy">Master Resource Id, always first in all resources</font>&lt;/id&gt;
  &lt;<a title="A identifier used in an external system and associated with this medication" class="dict" href="#prescription.Prescription.identifier"><b>identifier</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.HumanId">HumanId</a></font> <font color="navy">Prescription identification</font>&lt;/identifier&gt;
  &lt;<a title="Actual status of the prescription" class="dict" href="#prescription.Prescription.status"><b>status</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Status: Active|Completed</font>&lt;/status&gt;
  &lt;<a title="The patient the prescription is prescribing medicine for" class="dict" href="#prescription.Prescription.patient"><b>patient</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Patient.Patient">Patient</a>)</font> <font color="navy">Patient receiving medicine</font>&lt;/patient&gt;
  &lt;<a title="The clinician or doctor prescribing the medication" class="dict" href="#prescription.Prescription.prescriber"><b>prescriber</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen">(<a href="#Agent.Agent">Agent</a>)</font> <font color="navy">Prescribing doctor</font>&lt;/prescriber&gt;
  &lt;<a title="Date/time on which the prescription was written" class="dict" href="#prescription.Prescription.prescribed"><b>prescribed</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Date/time prescribed</font>&lt;/prescribed&gt;
  &lt;<a title="Details of the dispense as requested by the prescriber" class="dict" href="#prescription.Prescription.dispense"><b>dispense</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- Details of included dispense request --&gt;</font>
   &lt;<a title="Requested number of repeats" class="dict" href="#prescription.Prescription.dispense.repeats"><b>repeats</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">Number of repeats</font>&lt;/repeats&gt;
   &lt;<a title="Requested quantity per repeat" class="dict" href="#prescription.Prescription.dispense.quantity"><b>quantity</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a></font> <font color="navy">Quantity per repeat</font>&lt;/quantity&gt;
   &lt;<a title="Person to fullfil the requested dispense" class="dict" href="#prescription.Prescription.dispense.dispenser"><b>dispenser</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen">(<a href="#Agent.Agent">Agent</a>|<a href="#Organization.Organization">Organization</a>)</font> <font color="navy">Person to fullfil the requested dispense</font>&lt;/dispenser&gt;
  &lt;/dispense&gt;
  &lt;<a title="The one single medicatine, vaccine or therapeutic good prescribed in this prescription." class="dict" href="#prescription.Prescription.medicine"><b>medicine</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- Prescribed medicine --&gt;</font>
   &lt;<a title="Coded representation of medicine" class="dict" href="#prescription.Prescription.medicine.productCode"><b>productCode</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">Coded representation of medicine</font>&lt;/productCode&gt;
   &lt;<a title="Textual description of medicine, including strength and ingredients" class="dict" href="#prescription.Prescription.medicine.description"><b>description</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Textual description of medicine</font>&lt;/description&gt;
   &lt;<a title="The substance in the medication formulation that is pharmaceutically active and is responsible for the medication's therapeutic effect" class="dict" href="#prescription.Prescription.medicine.activeIngredient"><b>activeIngredient</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Active substance --&gt;</font>
    &lt;<a title="Coded representation of active ingredient" class="dict" href="#prescription.Prescription.medicine.activeIngredient.productCode"><b>productCode</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">Coded representation of active ingredient</font>&lt;/productCode&gt;
    &lt;<a title="Quantity of active ingredient expressed in relation to the whole of the prepared medicine" class="dict" href="#prescription.Prescription.medicine.activeIngredient.quantity"><b>quantity</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Ratio">Ratio</a></font> <font color="navy">Relative quantity of active ingredient</font>&lt;/quantity&gt;
   &lt;/activeIngredient&gt;
   &lt;<a title="Ingredients in the medication that are not active" class="dict" href="#prescription.Prescription.medicine.inactiveIngredient"><b>inactiveIngredient</b></a>&gt; <a class="cf" href="#xml.Control">opt</a>  <font color="Gray">&lt;!-- <font color="brown"><b>Zero+</b></font> Inactive substance --&gt;</font>
    &lt;<a title="Coded representation of the inactive ingredient" class="dict" href="#prescription.Prescription.medicine.inactiveIngredient.productCode"><b>productCode</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.Coding">Coding</a></font> <font color="navy">Coded representation of inactive ingredient</font>&lt;/productCode&gt;
    &lt;<a title="Quantity of inactive ingredient expressed in relation to the whole of the prepared medicine" class="dict" href="#prescription.Prescription.medicine.inactiveIngredient.quantity"><b>quantity</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Ratio">Ratio</a></font> <font color="navy">Relative quantity of inactive ingredient</font>&lt;/quantity&gt;
   &lt;/inactiveIngredient&gt;
  &lt;/medicine&gt;
  &lt;<a title="Instructions for the use of the medication. Includes details about the timing schedule, dosis amounts and additional usage instructions." class="dict" href="#prescription.Prescription.administrationRequest"><b>administrationRequest</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- Instructions for use --&gt;</font>
   &lt;<a title="Textual description of the use of the medication." class="dict" href="#prescription.Prescription.administrationRequest.description"><b>description</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.string">string</a></font> <font color="navy">Textual instructions for use</font>&lt;/description&gt;
   &lt;<a title="Total dose per day/week or other period when more specific information is missing or cannot be expressed using the timing specifications." class="dict" href="#prescription.Prescription.administrationRequest.totalPeriodicDosis"><b>totalPeriodicDosis</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Ratio">Ratio</a></font> <font color="navy">Total periodic dosis</font>&lt;/totalPeriodicDosis&gt;
   &lt;<a title="First moment on which medication should be taken" class="dict" href="#prescription.Prescription.administrationRequest.start"><b>start</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Startdate for administration</font>&lt;/start&gt;
   &lt;<a title="Last moment on which medication should be taken" class="dict" href="#prescription.Prescription.administrationRequest.end"><b>end</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#dateTime.dateTime">dateTime</a></font> <font color="navy">Enddate for administration</font>&lt;/end&gt;
   &lt;<a title="Total duration of administration" class="dict" href="#prescription.Prescription.administrationRequest.duration"><b>duration</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a></font> <font color="navy">Total duration of administration</font>&lt;/duration&gt;
   &lt;<a title="Maximum number of separate administrations before the instruction ends." class="dict" href="#prescription.Prescription.administrationRequest.numberOfAdministrations"><b>numberOfAdministrations</b></a>&gt; <a class="cf" href="#xml.Control">cond</a> <font color="darkgreen"><a href="#datatypes.integer">integer</a></font> <font color="navy">Maximum number of separate administrations</font>&lt;/numberOfAdministrations&gt;
   &lt;<a title="Specification of dose and schedule for administration" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction"><b>dosageInstruction</b></a>&gt; <a class="cf" href="#xml.Control">mand</a>  <font color="Gray">&lt;!-- <font color="brown"><b>One+</b></font> Dosage instruction --&gt;</font>
    &lt;<a title="Precondition for starting the administration specified in this instruction" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.precondition"><b>precondition</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Precondition for starting administration</font>&lt;/precondition&gt;
    &lt;<a title="Pro re nate, &quot;If necessary&quot;: Specifies whether administration depens on the state and symptoms of the patient" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.prn"><b>prn</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.code">code</a></font> <font color="navy">Pro re nate: Yes|No</font>&lt;/prn&gt;
    &lt;<a title="Additional details to guide administration. Especially relevant for medicine administered by patient" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.additionalInstruction"><b>additionalInstruction</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="brown"><b>Zero+</b></font> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Additional instructions</font>&lt;/additionalInstruction&gt;
    &lt;<a title="Route of administration (oral, nasal, intravenous)" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.route"><b>route</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Route of administration</font>&lt;/route&gt;
    &lt;<a title="Dose per administration, expressed in units of the (prepared) product" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.dose[x]"><b>dose[x]</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a>|<a href="#datatypes.Interval">Interval</a>(<a href="#datatypes.Quantity">Quantity</a>)</font> <font color="navy">Dose per administration</font>&lt;/dose[x]&gt;
    &lt;<a title="Flow-rate for IV" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.rate"><b>rate</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.Quantity">Quantity</a></font> <font color="navy">Flow-rate for IV</font>&lt;/rate&gt;
    &lt;<a title="Schedule for administration. If multiple are given, they are considered to be active in parrallel" class="dict" href="#prescription.Prescription.administrationRequest.dosageInstruction.schedule"><b>schedule</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="brown"><b>One+</b></font> <font color="darkgreen"><a href="#Schedule.Schedule">Schedule</a></font> <font color="navy">Schedule for administration</font>&lt;/schedule&gt;
   &lt;/dosageInstruction&gt;
  &lt;/administrationRequest&gt;
  &lt;<a title="Diagnosis which is the reason for prescribing this medicine" class="dict" href="#prescription.Prescription.reason"><b>reason</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <font color="darkgreen"><a href="#datatypes.CodeableConcept">CodeableConcept</a></font> <font color="navy">Reason for prescription</font>&lt;/reason&gt;
  &lt;<a title="See Extensions" class="dict" href="#prescription.Prescription.extensions"><b>extensions</b></a>&gt; <a class="cf" href="#xml.Control">opt</a> <a href="#extensibility"><font color="navy">See Extensions</font></a>   <a href="#extensibility"><font color="navy">See Extensions</font></a> &lt;/extensions&gt;
  &lt;<a title="Text summary of the prescription, for human interpretation" class="dict" href="#prescription.Prescription.text"><b>text</b></a>&gt; <a class="cf" href="#xml.Control">mand</a> <font color="darkgreen"><a href="#Narrative.Narrative">Narrative</a></font> <font color="navy">Text summary of the prescription, for human interpretation</font>&lt;/text&gt;
&lt;/Prescription&gt;
</pre>


<p><a href="prescription.xsd">Schema for Prescription</a> and <a href="prescription.xml">an example</a> (or <a href="#prescription">formatted for browser (&sect;5.1)</a>)</p>

<p>
Terminology Bindings
</p>
<ul>
  <li>Prescription.status is  bound to the concept domain <i>PrescriptionStatus</i>: &quot;The status of a prescription&quot;. Possible values:
    <table class="codes">
    <tr><td>active</td><td colspan="2">Patient is using the prescribed medicin</td></tr>    <tr><td>completed</td><td colspan="2">Prescription is no longer current</td></tr>    </table>
  </li>
  <li>Prescription.medicine.productCode, Prescription.medicine.activeIngredient.productCode and Prescription.medicine.inactiveIngredient.productCode are  bound to the concept domain <i>MedicationKind</i>: &quot;The kind of medication, vaccine or therapeutic material&quot;. The possible values are those specified in G-Standaard (Netherlands), AMT (Australie)</li>
  <li>Prescription.administrationRequest.dosageInstruction.precondition is  bound to the concept domain <i>AdministrationPrecondition</i>: &quot;Precondition for administering medication&quot;. The possible values are those specified in NHG Table 25b</li>
  <li>Prescription.administrationRequest.dosageInstruction.prn is  bound to the concept domain <i>BooleanYesNo</i>: &quot;Either yes or no, true or false&quot;. Possible values:
    <table class="codes">
    <tr><td>yes</td><td colspan="2">TRUE</td></tr>    <tr><td>no</td><td colspan="2">FALSE</td></tr>    </table>
  </li>
  <li>Prescription.administrationRequest.dosageInstruction.additionalInstruction is  bound to the concept domain <i>AdministrationInstruction</i>: &quot;Instructions for administering medication&quot;. The possible values are those specified in NHG Table 25b</li>
  <li>Prescription.administrationRequest.dosageInstruction.route is  bound to the concept domain <i>AdministrationRoute</i>: &quot;Route by which a medication is administered&quot;. The possible values are those specified in G-Standaard subtable 0007</li>
  <li>Prescription.reason is  bound to the concept domain <i>PrescriptionReason</i>: &quot;Medical reason for prescribing a medicine&quot;. The possible values are those specified in ICD-10, ICPC-1</li>
</ul>



<p>
Notes:
</p>
<ul>
<li>TODO</li>
</ul>


<h3>5.1.2: RESTful Transactions</h3>
<p>
TODO
</p>
<p>
There is no content model for the response, except for an HTTP status code.
</p>

<h3>5.1.3: 
Searching Criteria
</h3>
<p>
The following simple search/filter parameters are defined for prescription:
</p>
<table class="list">
  <tr><td>patient      </td><td>The identity of a patient to list prescriptions for</td></tr>
  <tr><td>prescriber   </td><td>The identity of a prescriber to list prescriptions from</td></tr>
  <tr><td>startdate   </td><td>Return only prescriptions made starting from this date</td></tr>
  <tr><td>enddate     </td><td>Return only prescriptions made before this date</td></tr>
  <tr><td>id		   </td><td>search id in any prescription identifiers</td></tr>
</table>
<p>
The standard search parameters also apply (see <a href="#http.search">Searching (&sect;2.3.12)</a>).
</p>



<h3>5.1.4: Formal Definitions</h3>

<p>The formal definitions for the elements above.</p>

<table class="dict">
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription"> </a><b>Prescription</b></td></tr>
  <tr><td>Definition</td><td>Directions provided by a prescribing practitioner for a specific medication to be administered to an individual</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Requirements</td><td>Used to record details about the prescribed medication, administration schedule, dosage and dispensing.</td></tr>
  <tr><td>RIM Mapping</td><td>SubstanceAdministration</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.id"> </a><b>Prescription.id</b></td></tr>
  <tr><td>Definition</td><td>Master Resource Id, always first in all resources</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.identifier"> </a><b>Prescription.identifier</b></td></tr>
  <tr><td>Definition</td><td>A identifier used in an external system and associated with this medication</td></tr>
  <tr><td>Control</td><td>Mandatory, 0..*</td></tr>
  <tr><td>Type</td><td>HumanId</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>Requirements</td><td>Prescriptions are almost always assigned specific numerical identifiers</td></tr>
  <tr><td>RIM Mapping</td><td>.id</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.status"> </a><b>Prescription.status</b></td></tr>
  <tr><td>Definition</td><td>Actual status of the prescription</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>code from PrescriptionStatus</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>RIM Mapping</td><td>.statusCode</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.patient"> </a><b>Prescription.patient</b></td></tr>
  <tr><td>Definition</td><td>The patient the prescription is prescribing medicine for</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Patient)</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.prescriber"> </a><b>Prescription.prescriber</b></td></tr>
  <tr><td>Definition</td><td>The clinician or doctor prescribing the medication</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Resource(Agent)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.prescribed"> </a><b>Prescription.prescribed</b></td></tr>
  <tr><td>Definition</td><td>Date/time on which the prescription was written</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.dispense"> </a><b>Prescription.dispense</b></td></tr>
  <tr><td>Definition</td><td>Details of the dispense as requested by the prescriber</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.dispense.repeats"> </a><b>Prescription.dispense.repeats</b></td></tr>
  <tr><td>Definition</td><td>Requested number of repeats</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>integer</td></tr>
  <tr><td>Comments</td><td>Default is &quot;1&quot;</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.dispense.quantity"> </a><b>Prescription.dispense.quantity</b></td></tr>
  <tr><td>Definition</td><td>Requested quantity per repeat</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Quantity</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.dispense.dispenser"> </a><b>Prescription.dispense.dispenser</b></td></tr>
  <tr><td>Definition</td><td>Person to fullfil the requested dispense</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Resource(Agent|Organization)</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine"> </a><b>Prescription.medicine</b></td></tr>
  <tr><td>Definition</td><td>The one single medicatine, vaccine or therapeutic good prescribed in this prescription.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.productCode"> </a><b>Prescription.medicine.productCode</b></td></tr>
  <tr><td>Definition</td><td>Coded representation of medicine</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Can only be left empty if it cannot be coded</td></tr>
  <tr><td>Type</td><td>Coding from MedicationKind</td></tr>
  <tr><td>Must Understand</td><td>true</td></tr>
  <tr><td>To Do</td><td>Conformance should be &quot;Required&quot;, not &quot;Optional&quot;</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.description"> </a><b>Prescription.medicine.description</b></td></tr>
  <tr><td>Definition</td><td>Textual description of medicine, including strength and ingredients</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Mandatory when medication cannot be coded</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.activeIngredient"> </a><b>Prescription.medicine.activeIngredient</b></td></tr>
  <tr><td>Definition</td><td>The substance in the medication formulation that is pharmaceutically active and is responsible for the medication's therapeutic effect</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.activeIngredient.productCode"> </a><b>Prescription.medicine.activeIngredient.productCode</b></td></tr>
  <tr><td>Definition</td><td>Coded representation of active ingredient</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Coding from MedicationKind</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.activeIngredient.quantity"> </a><b>Prescription.medicine.activeIngredient.quantity</b></td></tr>
  <tr><td>Definition</td><td>Quantity of active ingredient expressed in relation to the whole of the prepared medicine</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Ratio</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.inactiveIngredient"> </a><b>Prescription.medicine.inactiveIngredient</b></td></tr>
  <tr><td>Definition</td><td>Ingredients in the medication that are not active</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.inactiveIngredient.productCode"> </a><b>Prescription.medicine.inactiveIngredient.productCode</b></td></tr>
  <tr><td>Definition</td><td>Coded representation of the inactive ingredient</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Coding from MedicationKind</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.medicine.inactiveIngredient.quantity"> </a><b>Prescription.medicine.inactiveIngredient.quantity</b></td></tr>
  <tr><td>Definition</td><td>Quantity of inactive ingredient expressed in relation to the whole of the prepared medicine</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Ratio</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest"> </a><b>Prescription.administrationRequest</b></td></tr>
  <tr><td>Definition</td><td>Instructions for the use of the medication. Includes details about the timing schedule, dosis amounts and additional usage instructions.</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.description"> </a><b>Prescription.administrationRequest.description</b></td></tr>
  <tr><td>Definition</td><td>Textual description of the use of the medication.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>string</td></tr>
  <tr><td>Comments</td><td>Can contain more details than the structured information under this element, but must be in accordance with it. May not contain information about the medicine itself.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.totalPeriodicDosis"> </a><b>Prescription.administrationRequest.totalPeriodicDosis</b></td></tr>
  <tr><td>Definition</td><td>Total dose per day/week or other period when more specific information is missing or cannot be expressed using the timing specifications.</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Ratio</td></tr>
  <tr><td>Requirements</td><td>It should be possible, as a last resort, to specify e.g. a daily dosis, even if more specific details are unknown</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.start"> </a><b>Prescription.administrationRequest.start</b></td></tr>
  <tr><td>Definition</td><td>First moment on which medication should be taken</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Duration is given OR (Start is given AND (Duration OR End is given)) OR (Duration, Start and End are not given)</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.end"> </a><b>Prescription.administrationRequest.end</b></td></tr>
  <tr><td>Definition</td><td>Last moment on which medication should be taken</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Duration is given OR (Start is given AND (Duration OR End is given)) OR (Duration, Start and End are not given)</td></tr>
  <tr><td>Type</td><td>dateTime</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.duration"> </a><b>Prescription.administrationRequest.duration</b></td></tr>
  <tr><td>Definition</td><td>Total duration of administration</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Duration is given OR (Start is given AND (Duration OR End is given)) OR (Duration, Start and End are not given)</td></tr>
  <tr><td>Type</td><td>Quantity</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.numberOfAdministrations"> </a><b>Prescription.administrationRequest.numberOfAdministrations</b></td></tr>
  <tr><td>Definition</td><td>Maximum number of separate administrations before the instruction ends.</td></tr>
  <tr><td>Control</td><td>Conditional, 0..1: Can be given instead of Duration, as specified above</td></tr>
  <tr><td>Type</td><td>integer</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction"> </a><b>Prescription.administrationRequest.dosageInstruction</b></td></tr>
  <tr><td>Definition</td><td>Specification of dose and schedule for administration</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Comments</td><td>The can be &gt;1 dosage instruction to support administration of varying doses, resulting in 1 instruction per fixed dose.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.precondition"> </a><b>Prescription.administrationRequest.dosageInstruction.precondition</b></td></tr>
  <tr><td>Definition</td><td>Precondition for starting the administration specified in this instruction</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AdministrationPrecondition</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.prn"> </a><b>Prescription.administrationRequest.dosageInstruction.prn</b></td></tr>
  <tr><td>Definition</td><td>Pro re nate, &quot;If necessary&quot;: Specifies whether administration depens on the state and symptoms of the patient</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>code from BooleanYesNo</td></tr>
  <tr><td>Comments</td><td>Default is &quot;false&quot;</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.additionalInstruction"> </a><b>Prescription.administrationRequest.dosageInstruction.additionalInstruction</b></td></tr>
  <tr><td>Definition</td><td>Additional details to guide administration. Especially relevant for medicine administered by patient</td></tr>
  <tr><td>Control</td><td>Optional, 0..*</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AdministrationInstruction</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.route"> </a><b>Prescription.administrationRequest.dosageInstruction.route</b></td></tr>
  <tr><td>Definition</td><td>Route of administration (oral, nasal, intravenous)</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from AdministrationRoute</td></tr>
  <tr><td>Comments</td><td>Since the route of administration is generally determined by the choice of medication, it is not necessary to provide a value in route</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.dose[x]"> </a><b>Prescription.administrationRequest.dosageInstruction.dose[x]</b></td></tr>
  <tr><td>Definition</td><td>Dose per administration, expressed in units of the (prepared) product</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Quantity|Interval(Quantity)</td></tr>
  <tr><td>Comments</td><td>Dose may be an interval, &quot;2-3 tablets per 4 hours&quot;</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.rate"> </a><b>Prescription.administrationRequest.dosageInstruction.rate</b></td></tr>
  <tr><td>Definition</td><td>Flow-rate for IV</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>Quantity</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.administrationRequest.dosageInstruction.schedule"> </a><b>Prescription.administrationRequest.dosageInstruction.schedule</b></td></tr>
  <tr><td>Definition</td><td>Schedule for administration. If multiple are given, they are considered to be active in parrallel</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..*</td></tr>
  <tr><td>Type</td><td>Schedule</td></tr>
  <tr><td>Comments</td><td>Will submit proposal to change Schedule type.</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.reason"> </a><b>Prescription.reason</b></td></tr>
  <tr><td>Definition</td><td>Diagnosis which is the reason for prescribing this medicine</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td>Type</td><td>CodeableConcept from PrescriptionReason</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.extensions"> </a><b>Prescription.extensions</b></td></tr>
  <tr><td>Definition</td><td>See Extensions</td></tr>
  <tr><td>Control</td><td>Optional, 0..1</td></tr>
  <tr><td colspan="2 class=&quot;structure&quot;"><a name="prescription.Prescription.text"> </a><b>Prescription.text</b></td></tr>
  <tr><td>Definition</td><td>Text summary of the prescription, for human interpretation</td></tr>
  <tr><td>Control</td><td>Mandatory, 1..1</td></tr>
  <tr><td>Type</td><td>Narrative</td></tr>
</table>


   
</div></div><div class="section"><h1>6: Care management</h1></div><div class="section"><h1>7: Documents</h1></div></div>

<script src="/includes/GoogleAnalyticsAddFileTracking.js" type="text/javascript"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-676355-1']);
  _gaq.push(['_setDomainName', '.hl7.org']);
  _gaq.push(['_trackPageview']);
  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
</script>
</body>
</html>