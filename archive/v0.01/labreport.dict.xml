<?xml version="1.0" encoding="UTF-8"?>
<resourceDefinitions xmlns="http://www.hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.hl7.org/fhir definitions.xsd">
  <author>HL7</author>
  <resourceDefinition>
    <name>LabReport</name>
    <elementDefinitions>
      <elementDefinition>
        <name>LabReport</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <mustUnderstand>false</mustUnderstand>
        <definition>The findings and interpretation of pathology tests performed on tissues and body fluids. This is typically done in a laboratory but may be done in other environments such as at the point of care</definition>
        <requirements>Use to record any pathology test result, including the result of a test on a specimen taken as part of a composite procedure or operation.</requirements>
        <comments>Not to be used for reporting on non-pathology test results e.g. diagnostic imaging, ECG or respiratory function tests. Not to be used to represent an entire cumulative report. This Pathology test result archetype represents only one of the result sets that is usually viewed as a vertical in a cumulative test report. A cumulative report is a view that is constructed from the results represented by multiple OBSERVATION archetypes. This archetype is suitable for representation of general pathology test results, but not intended to cover full synoptic reports. For these, additional resources are required to represent the data properly</comments>
        <rim>Observation[isNormalAct() and subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and domainMember(&quot;LabObservationType&quot;, code)]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.id</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>id</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Master Resource Id, always first in all resources</definition>
        <requirements></requirements>
        <rim>unique(./id[isNormalDatatype() and displayable=&quot;false&quot; and scope=&quot;OBJ&quot; and reliability=&quot;ISS&quot;])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.status</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>code</type>
        </types>
        <conceptDomain>LabReportStatus</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>The status of the pathology test result as a whole</definition>
        <requirements>Labs routinely issue provisional/incomplete reports, or withdraw previously released reports</requirements>
        <rim>registered: ./statusCode[isNormalDatatype()]=&quot;new&quot;;

interim: ./statusCode[isNormalDatatype()]=&quot;active&quot;;

final: ./statusCode[isNormalDatatype()]=&quot;complete&quot; and not(./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#CACT&quot;) and moodCode=&quot;EVN&quot; and domainMember(&quot;ReviseLabOrder&quot;, code) and isNormalAct()]);

amended: ./statusCode[isNormalDatatype()]=&quot;complete&quot; and ./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#CACT&quot;) and moodCode=&quot;EVN&quot; and domainMember(&quot;ReviseLabOrder&quot;, code) and isNormalAct() and statusCode=&quot;completed&quot;];

cancelled: 
./statusCode[isNormalDatatype()]=&quot;aborted&quot;;

withdrawn: ./statusCode[isNormalDatatype()]=&quot;obsolete&quot;</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.issued</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>instant</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>The date and/or time that the result was issued from the source for the recorded â€˜Test result status</definition>
        <requirements>Clinicians need to be able to check the date that the report was released</requirements>
        <comments>May be different from LabReport.updated, because that is the status of this record, not the report the record is about</comments>
        <rim>firstOf(unique(./participation[isHighest(priorityCode) and typeCode=&quot;VRF&quot; and isNormalParticipation()]/time[type=&quot;TS&quot;]), 
unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/time[type=&quot;TS&quot;]))</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.patient</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>Resource(Patient)</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>The patient about who the report is about</definition>
        <requirements>Must know the patient context</requirements>
        <rim>unique(./participation[isHighest(priorityCode) and typeCode=&quot;SBJ&quot; and isNormalParticipation()]/role[classCode=&quot;PAT&quot;])</rim>
        <todo>need to check the wording -is it about, upon, for?</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.admission</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Resource(Admission)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>The admission that this diagnostic investigation is associated with</definition>
        <requirements>Some institutions track and file diagnostic reports under a specific admission</requirements>
        <rim>unique(./inboundRelationship[isHighest(priorityCode) and typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#ENC&quot;, code) and moodCode=&quot;EVN&quot; and isNormalAct()])</rim>
        <todo>Reckon this is not 80%</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.laboratory</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>Resource(Organization)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>The laboratory service that issued the report</definition>
        <requirements>Need to know how to contact if there are queries about the results. Also may need to track the source of reports for secondary data analysis</requirements>
        <comments>This is not necessarily the source of the atomic reports - it's the lab that takes responsibility for the clinical report</comments>
        <rim>unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]/scoper[subsumesCode(&quot;EntityClass#ORG&quot;, classCode) and determinerCode=&quot;INSTANCE&quot;])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.reportId</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>id</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>The local ID assigned to the report by the order filler, usually by the Laboratory Information System (LIS).</definition>
        <requirements>Need to know what identifier to use when making queries about this report from the source laboratory</requirements>
        <rim>unique(./id[displayable=&quot;true&quot; and scope=&quot;OBJ&quot;])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <mustUnderstand>false</mustUnderstand>
        <definition>Details concerning a single pathology test requested.</definition>
        <requirements>Need to be able to track completion of requests based on reports issued, and also to report what diagnostic test swere requested (not always the same as what is delivered)</requirements>
        <comments>Note: Usually there is one test request for each result, however in some circumstances multiple test requests may be represented using a single Pathology test result resource</comments>
        <rim>unique(./outboundRelationship[typeCode=&quot;FLFS&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and subsumes(&quot;ActMood#PRMS&quot;, moodCode) and isNormalAct()])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail.requestOrderId</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Identifier</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>The local ID assigned to the order by the order requester.</definition>
        <requirements>Need to be able to track completion of requests based on reports issued</requirements>
        <comments>Equivalent to the Placer Order Identifier</comments>
        <rim>unique(./outboundRelationship[typeCode=&quot;FLFS&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and subsumes(&quot;ActMood#RQO&quot;, moodCode) and isNormalAct()]/id[scope=&quot;OBJ&quot; and displayable=&quot;true&quot;])</rim>
        <todo>Reckon this is not 80%</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail.receiverOrderId</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Identifier</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>The local ID assigned to the test order by the order filler, usually by the Laboratory Information System (LIS).</definition>
        <requirements>Need to be able to track completion of requests based on reports issued</requirements>
        <comments>Usually equivalent to the DICOM Accession Number and the Filler Order Identifier.</comments>
        <rim>unique(./id[scope=&quot;OBJ&quot; and displayable=&quot;true&quot;])</rim>
        <todo>Reckon this is not 80%</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail.requestTest</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabRequests</conceptDomain>
        <mustUnderstand>false</mustUnderstand>
        <definition>Identification of pathology test requested,</definition>
        <requirements>Need to be able to report what diagnostic test swere requested (not always the same as what is delivered)</requirements>
        <comments>Useful where the test requested differs from the test actually performed.</comments>
        <rim>./code</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail.requester</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Resource(Agent|Organization)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Details of the clinician or organisation requesting the laboratory test.</definition>
        <requirements>The requesting clinician may need to be contacted concerning the interpretation of the lab report</requirements>
        <rim>Agent: unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]

Organization: unique(./participation[isHighest(priorityCode) and typeCode=&quot;AUT&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#ASSIGN&quot;, classCode)]/scoper[subsumesCode(&quot;EntityClass#ORG&quot;, classCode) and determinerCode=&quot;INSTANCE&quot; and code[isNormalDatatype]])
</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.requestDetail.clinicalInfo</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Resource(Any)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Details of the clinical information provided to the laboratory along with the original request</definition>
        <requirements>Knowing the clinical information may influence the interpretation of the result</requirements>
        <rim>./outboundRelationship[typeCode=&quot;PERT&quot; and isNormalActRelationship()]/target</rim>
        <todo>This isn't really *ANY* resource.  You can't send a drug or an Animal or a bunch of other things.  What you really want here are &quot;acts&quot;, and I suspect there's a constraint that the subject of the LabReport must have participated in them as subject or perhaps in some other way.</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.reportName</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabReportNames</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>Identification of the pathology test performed, sometimes including specimen type.</definition>
        <requirements>Need to know what report this is, so clinicians can filter/find the reports they are looking for</requirements>
        <comments>A test result may be for a single analyte, or a group of items, including panel tests.</comments>
        <rim>./code</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.service</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabServices</conceptDomain>
        <mustUnderstand>false</mustUnderstand>
        <definition>The diagnostic service that performs the examination e.g. biochemistry, haematology.</definition>
        <requirements>Help clinicians filter/find the reports they are looking for</requirements>
        <rim>unique(./inboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#LIST&quot;, classCode) and moodCode=&quot;EVN&quot; and inDomain(code,&quot;Lab Service&quot;) and isNormalAct()]/code</rim>
        <todo>I'm not sure this is in the 80%.</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.diagnosticTime</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>dateTime</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>The diagnostically relevant time for this report</definition>
        <requirements>Need to know where in the patient history to file/present this report</requirements>
        <comments>The diagnostically relevant time can be derived from the specimen collection times, but the specimen information is not always available, and the exact relationship is not always automatic</comments>
        <rim>./effectiveTime[type=&quot;TS&quot;]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.specimen</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <types>
          <type>Resource(Specimen)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Details about the specimen if all individual test results are derived from the same specimen</definition>
        <requirements>Need to be able to report information about the collected specimens on which the report is based</requirements>
        <comments>If the specimen is sufficiently specified with a code in the Test result name, then this additional data may be redundant. If there are multiple specimens, these may be represented per 'Result group'</comments>
        <rim>unique(./participation[typeCode=&quot;SUBJ&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#SPEC&quot;, classCode)])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <mustUnderstand>true</mustUnderstand>
        <definition>A group of results. Results may be grouped by specimen, or by some value in LabReport.resultGroup.name to describe what binds all the results together.</definition>
        <requirements>Need to be able to report groups of results, where the result grouping is arbitrary, but meaningful</requirements>
        <comments>Many (most) lab reports don't really have a meaningful group. In these cases, just create a single group with no specimen or name</comments>
        <rim>./outboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/target[isNormalAct() and subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and fromDomain(code, &quot;LabObservationBattery&quot;)]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.name</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabResultGroupNames</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>A code or name that describes the group of results</definition>
        <requirements></requirements>
        <comments>For example, the antibody code for a goup of antibody related test, or the organism code for a group of isolate/sensitivities. Leave blank if there is no particular meaning associated with the group</comments>
        <rim>./code</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.specimen</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Resource(Specimen)</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Details about the individual specimen to which these â€˜Result groupâ€™ test results refer, where testing of multiple specimens is required.</definition>
        <requirements>Need to be able to report information about the collected specimens on which the report is based</requirements>
        <rim>unique(./participation[typeCode=&quot;SBJ&quot; and isNormalParticipation()]/role[subsumesCode(&quot;RoleClass#SPEC&quot;, classCode)])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <mustUnderstand>true</mustUnderstand>
        <definition>Specific detailed result, including both the value of the result item, and additional information that may be useful for clinical interpretation. Results include whatever specific data items pathology labs report as part of the clinical service; it is not confined to measurements.</definition>
        <requirements>Need to report results with information that assist with interpretation</requirements>
        <rim>./outboundRelationship[typeCode=&quot;COMP&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and isNormalAct() and fromDomain(code, &quot;LabObservationResult&quot;)]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.name</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabResultNames</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>Identifies the meaning of the value</definition>
        <requirements>Need to know what the result is about</requirements>
        <comments>results are fundamentally a name - value pair with additional clarifying information</comments>
        <rim>./code</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.value[x]</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Quantity</type>
          <type>CodeableConcept</type>
          <type>Attachment</type>
          <type>Ratio</type>
          <type>Choice</type>
          <type>Interval(dateTime)</type>
          <type>string</type>
        </types>
        <conceptDomain>*unbound*</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>Actual value of the result. Most result values will be numerical measurements, but others may be coded concepts, free text, or multimedia images</definition>
        <requirements>Need a value for the result</requirements>
        <rim>./value</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.flag</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>code</type>
        </types>
        <conceptDomain>LabResultFlag</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>Flag indicating the abnormal status of the result</definition>
        <requirements></requirements>
        <rim>./interpretationCode</rim>
        <todo>The proposed set of codes are too narrow (and doesn't map well to v3.)</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.status</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>code</type>
        </types>
        <conceptDomain>LabReportStatus</conceptDomain>
        <mustUnderstand>true</mustUnderstand>
        <definition>The status of the result value</definition>
        <requirements>Need to track the status of individual results - some results are finalised before the whole report is finalised</requirements>
        <rim>(as per LabReport.status)</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.comments</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>string</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>May include statements about significant, unexpected or unreliable. values, or information about the source of the value where this may be relevant to the interpretation of the result.</definition>
        <requirements>Need to be able to provide free text additional information</requirements>
        <rim>unique(./inboundRelationship[typeCode=&quot;SUBJ&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and mapsTo(code, &quot;LOINC#
48767-8&quot;) and isNormalAct()]/value[type=&quot;ST&quot;])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.referenceRange</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <mustUnderstand>true</mustUnderstand>
        <definition>Guidance on how to interpret the value by comparison to a normal or recommended range</definition>
        <requirements>Need to be able to provide multiple reference ranges</requirements>
        <comments>Most results only have one reference range. Some non-numerical results don't have a reference range</comments>
        <rim>./outboundRelationship[typeCode=&quot;REFV&quot; and isNormalActRelationship()]/target[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and isCriterionInd=&quot;true&quot; and isNormalAct()]</rim>
        <todo>Are multiple reference ranges in the 80%?</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.referenceRange.meaning</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabReferenceRanges</conceptDomain>
        <mustUnderstand>false</mustUnderstand>
        <definition>Code for the meaning of the reference range</definition>
        <requirements>Need to be able to say what kind of reference range this is - normal, recommended, therapeutic, or perhaps what state this reference range applies to (i.e. hormonal cycles)</requirements>
        <rim>./interpretationCode</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.resultGroup.result.referenceRange.range[x]</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>Quantity</type>
          <type>Interval(Quantity)</type>
          <type>string</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Actual value of the reference range.  May be a quantity (&lt;20mg/L), an interval (10-20 umol/L), or some text</definition>
        <requirements>Need to be able to report numerical or text reference ranges, and handle legacy data</requirements>
        <comments>Text reference ranges are typically used in endocrinology, or for legacy data with string reference ranges</comments>
        <rim>./value[type=(&quot;PQ&quot;, &quot;IVL_PQ&quot;, &quot;ST&quot;)]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.conclusion</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <types>
          <type>Narrative</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>Concise and clinically contextualised narrative interpretation of the pathology test results.</definition>
        <requirements>Need to be able to provide a conclusion that is not lost amongst the basic result data</requirements>
        <comments>common reports don't have a conclusion, but some do</comments>
        <rim>unique(./inboundRelationship[typeCode=&quot;SPRT&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and mapsTo(code, &quot;LOINC#
48767-8&quot;) and isNormalAct()]/value[type=&quot;ST&quot;])</rim>
        <todo>Is this in the 80%?</todo>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.codedDiagnosis</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <types>
          <type>CodeableConcept</type>
        </types>
        <conceptDomain>LabDiagnosisCodes</conceptDomain>
        <mustUnderstand>false</mustUnderstand>
        <definition>Codes for the conclusion</definition>
        <requirements></requirements>
        <rim>unique(./inboundRelationship[typeCode=&quot;SPRT&quot; and isNormalActRelationship()]/source[subsumesCode(&quot;ActClass#OBS&quot;, classCode) and moodCode=&quot;EVN&quot; and subsumesCode(code, &quot;LOINC#
54531-9&quot;) and isNormalAct()]/value[type=&quot;CD&quot;])</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.representation</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>unbounded</maxOccurs>
        </cardinality>
        <conformance></conformance>
        <condition></condition>
        <types>
          <type>Attachment</type>
        </types>
        <mustUnderstand>true</mustUnderstand>
        <definition>Rich text representation of the entire result as issued by the diagnostic service. Multiple formats are allowed but they must be semantically equivalent.</definition>
        <requirements>Laboratory needs to be able to provide it's own fully formatted report for clinical fidelity</requirements>
        <comments>Possible formats: text/html, text/plain, text/rtf, application/msword, application/pdf, application/rtf, application/vnd.oasis.opendocument.text, application/vnd.openxmlformats-officedocument.wordprocessingml.document</comments>
        <rim>./text[type=&quot;ED&quot;]</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.extensions</name>
        <cardinality>
          <minOccurs>0</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Optional</conformance>
        <condition></condition>
        <mustUnderstand>false</mustUnderstand>
        <definition>See Extensions</definition>
        <requirements></requirements>
        <rim>N/A</rim>
      </elementDefinition>
      <elementDefinition>
        <name>LabReport.text</name>
        <cardinality>
          <minOccurs>1</minOccurs>
          <maxOccurs>1</maxOccurs>
        </cardinality>
        <conformance>Mandatory</conformance>
        <condition></condition>
        <types>
          <type>Narrative</type>
        </types>
        <mustUnderstand>false</mustUnderstand>
        <definition>Text summary of report, for human interpretation</definition>
        <requirements></requirements>
        <rim>unique(./text[type=&quot;ST&quot;])</rim>
      </elementDefinition>
    </elementDefinitions>
  </resourceDefinition>
</resourceDefinitions>

