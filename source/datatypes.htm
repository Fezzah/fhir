<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Data Types - FHIR v<%version%></title>
    <link rel="Stylesheet" href="fhir.css" type="text/css"/>
    <link rel="Stylesheet" href="fhir-print.css" type="text/css" media="print" />
</head>

<body>
<%sidebar%>

<%maindiv%>
<%dtheader%>
<h1>Data Types</h1>

<p>
The FHIR data types include primitive types imported from XML schema
and additional data types that capture patterns that are 
ubiquitous throughout the scope of the healthcare data that will
be exchanged.
</p>
<map id="dtmap2" name="dtmap2">
<area shape="rect" coords="200, 60, 252, 90" href="#Types"/>
<area shape="rect" coords="182, 308, 252, 339" href="#Structures"/>
<area shape="rect" coords="24, 238, 130, 268" href="#primitive"/>
<area shape="rect" coords="1, 160, 110, 188" href="#imports"/>
<area shape="rect" coords="1, 310, 95, 333" href="#patterns"/>
<area shape="rect" coords="114, 1, 200, 28" href="#Attachment"/>
<area shape="rect" coords="341, 3, 388, 31" href="#Ratio"/>
<area shape="rect" coords="20, 122, 75, 152" href="#Period"/>
<area shape="rect" coords="360, 53, 415, 80" href="#Range"/>
<area shape="rect" coords="221, 3, 294, 31" href="#Identifier"/>
<area shape="rect" coords="3, 2, 66, 34" href="#Choice"/>
<area shape="rect" coords="3, 46, 60, 74" href="#Coding"/>
<area shape="rect" coords="1, 85, 118, 113" href="#CodeableConcept"/>
<area shape="rect" coords="264, 142, 331, 169" href="#Quantity"/>
<area shape="rect" coords="373, 91, 430, 120" href="#Distance"/>
<area shape="rect" coords="396, 188, 449, 217" href="#Count"/>
<area shape="rect" coords="350, 237, 419, 266" href="#Duration"/>
<area shape="rect" coords="231, 223, 288, 252" href="#Money"/>
<area shape="rect" coords="0, 153, 108, 182" href="#primitives"/>
<area shape="rect" coords="0, 310, 107, 339" href="#patterns"/>
<area shape="rect" coords="6, 367, 67, 396" href="#Contact"/>
<area shape="rect" coords="137, 378, 208, 407" href="#Schedule"/>
<area shape="rect" coords="248, 378, 314, 407" href="#Address"/>
<area shape="rect" coords="353, 378, 449, 407" href="#HumanName"/>
<area shape="rect" coords="359, 304, 433, 333" href="#HumanId"/>
</map>            
<p align="left">
<img id="dtmap1" src="dt-map.png" usemap="#dtmap2" border="0" height="408" width="450" alt="Data Types Concept Map"/>
</p>
<p>
The data types defined on this page on this page are categorised as "Primitive Types", "Types" or "Structures". 
Primitive Types are those either drawn from W3C Schema types or directly derived from them.  Types and Structures
are more complex, made up of multiple properties.
"Structures" are higher level concepts that some systems internally treat differently from Types. 
There is no functional difference between the two categories, and systems are not required to treat them 
any differently.
</p>

<a name="primitive"></a>
<h2>Primitive Types</h2>
<p style="text-alignment: left">
<img src="dt-primitives.png"/>
</p>
<a name="imports"></a>
<h2>Imported Types</h2>
<p>
The following table summarises the primitive types that are used by
are used in the exchange specifications and are directly imported from
w3c schema (though sometimes aliased). The possible values for 
these types are those specified in the W3C Schema specification part 2. 
All elements that contain text content have one of these primitive types.
Elements of this type can only be empty if they have a
<a href="xml.htm#dataAbsentReason">dataAbsentReason</a> attribute on 
them (and only where that attribute is allowed).
</p>

<a name="boolean"> </a>
<a name="integer"> </a>
<a name="decimal"> </a>
<a name="base64Binary"> </a>
<a name="instant"> </a>
<a name="string"> </a>
<a name="uri"> </a>

 
<table class="list">
 <tr><th>Type</th><th>Base type</th><th width='40%'>Description</th><th>Spec</th><th>Example</th><th>Default value</th></tr>
 <tr><td>boolean</td><td>xs:boolean</td><td>Values can be either true or false</td><td>{true, false}</td><td>true</td><td>false</td></tr>
 <tr><td>integer</td><td>xs:int</td><td>A signed 32-bit integer (for larger values, use decimal)</td><td>{-2147483648,...,-2,-1,0,1,2,...,2147483647}</td><td>1066</td><td>0</td></tr>
 <tr><td>decimal</td><td>xs:decimal</td><td>A rational number. Do not use a IEEE type floating point type, instead use something that works like a true decimal, with inbuilt precision (e.g. Java BigDecimal)</td><td>('-'? [1-9][0-9]* '.' [0-9]+) | '0'</td><td>-1.23, 12678967.543233</td><td>0</td></tr>
 <tr><td>base64Binary</td><td>xs:base64Binary</td><td>A stream of bytes, base64 encoded</td><td>see <a href='http://en.wikipedia.org/wiki/Base64'>Wikipedia</a></td><td>cGxlYXN1cmUu</td><td>null / empty</td></tr>
 <tr><td>instant</td><td>xs:dateTime</td><td>An instant in time - known at least to the second including with a timezone. Note: This type is for system times, not human times (see below).</td><td>'-'? yyyy '-' mm '-' dd 'T' hh ':' mm ':' ss ('.' s+)? ('Z' | (('+' | '-') hh ':' ss))</td><td>2002-10-10T17:00:00Z</td><td>N/A - systems must track missing/null</td></tr>
 <tr><td>string</td><td>xs:string</td><td>A sequence of Unicode characters. Note that FHIR strings may not exceed 1MB in size</td><td></td><td></td><td>null / empty</td></tr>
 <tr><td>uri</td><td>xs:anyURI</td><td>A uniform Resource  Identifier Reference. It can be absolute or relative, and may have an optional fragment identifier.</td><td><a href="http://tools.ietf.org/html/rfc3986">See RFC 3986</a></td><td>http://www.hl7.org/fhir</td><td>null / no reference</td></tr>
</table>
<p>
The default value specifies the implicit semantic meaning of 
a missing element. Note that some implementations are able to 
distinguish between missing values and the default values, but 
the semantic meaning is still required anyway. The string patterns
that follow share the same default value as the string type,
and all the rest of the types have a default value of null.
</p>
<p>
Implementations that convert the xml described in this specification to other formats such as 
JSON or some object based notation will have to find equivalent types.
</p>
<a name="patterns"></a>
<h3>String Patterns</h3>

<p>
In addition to these assumed primitive types, this specification defines a few simple
string patterns that are commonly used:
</p>

<a name="code"> </a>
<a name="oid"> </a>
<a name="uuid"> </a>
<a name="sid"> </a>
<a name="id"> </a>
<a name="date"> </a>
<a name="dateTime"> </a>
   
<table class="list">
 <tr><th>Type</th><th width='40%'>Description</th><th>Spec</th><th>Example</th></tr>
 
 <tr><td>code</td><td>A string which has at least one character and no whitespace</td><td>[^\s]+([\s]+[^\s]+)*</td><td>++, asked</td></tr>
 <tr><td>oid</td><td>An ISO oid (ISO/IEC 8824:1990(E))</td><td>([1-9][0-9]*)(\.[1-9][0-9]*)*</td><td>1.20.134.5.6</td></tr>
 <tr><td>uuid</td><td>A UUID (Open Group, CDE 1.1 Remote Procedure Call specification, Appendix A), sometimes called a GUID. Always represented in lowercase.</td><td>[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}</td><td>0ff343ac-ae48-3c92-2385e35e34ac</td></tr>
 <tr><td>sid</td><td>A system id, which is a uri taken from the list of <a href="terminologies.htm#codesystems">known definition systems</a>. sid values never contain a '#'</td><td>[A-Za-z]+:[^s]*</td><td>http://snomed.info</td></tr>
 <tr><td>id</td><td>A whole number in the range 0 to 2^64-1, optionally represented in hex, a uuid, an oid, or any other combination of lowercase letters, numerals, "-" and ".", with a length limit of 36 characters</td><td>[a-z0-9\-\.]{1,36}</td><td>lab-report.3445</td></tr>
 <tr><td>date</td><td>A date, or partial date (e.g. just year or year + month) as used in human communication. There is no time zone. Dates must be valid dates.</td><td>[0-9]{4}(\-((0[1-9])|(1[0-2]))(\-((0[1-9])|([1-2][0-9])|(3[0-1])))?)?</td><td>2012, 1997-09, 1972-11-30</td></tr>
 <tr><td>dateTime</td><td>A date, date-time or partial date (e.g. just year or year + month) as used in human communication. If hours and minutes are specified, a time zone must be populated. Seconds may be provided but may also be ignored. Dates must be valid dates.</td><td>[0-9]{4}(\-((0[1-9])|(1[0-2]))(\-((0[1-9])|([1-2][0-9])|(3[0-1]))(T(([0-1][0-9])|(2[0-3])):[0-5][0-9]:[0-5][0-9]((\+|-)(0[0-9]|1[0-4]):(0|3|4)(0|5)|Z)?)?)?)?</td><td>2012-01, 2012-10-22T12:04:43</td></tr>
</table>

<div class="example">
<p><b>Examples</b></p>
<p>date (e.g. Date of birth):</p>
<pre class="xml">
  &lt;x&gt;1951-06-04&lt;/x&gt;
</pre>
</div>

<hr/>
<a name="Types"/>
<h2>Types</h2>
<p>
<img src="dt-types.png"/>
</p>
<a name="Attachment"></a>
<h2>
Attachment
</h2>
<p>
This type is for containing attachments - additional data content defined in other 
formats. The most common use of this type is to include images or reports in 
some report format such as PDF. However it can be used for any 
data that has a mime type. 
</p>
<%dt Attachment%>
<p>
The <i>mimeType</i> element must always be populated. The actual content of the 
Attachment can be conveyed directly using the <i>data</i> element
or a <i>url</i> reference can be provided. If both are provided, they must 
point to the same content. The reference can never be reused to point to
different data (which means that the reference is version specific). The
<i>url</i> reference must point to a location that resolves to actual data; some
uris such as cid: meet this requirement.
</p>
<p>
The <i>hash</i> is included so that applications can verify that the contents
of a location have not changed and also so that a signature of the xml content can 
implicitly sign the content of an image without having to include the data 
or reference the url in the signature. The <i>lang</i> element can help a 
consumer choose between multiple different Attachment elements.
</p>
<p>
In many cases where Attachment is used, the cardinality is &gt;1; repeats
are used to convey the same content in different mime types and languages.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Attachment element has a dataAbsentReason flag, it must contain 
a <i>data</i> or a <i>url</i>. If neither <i>data</i> nor a <i>url</i> 
is provided, the value should be understood as an assertion that no content for 
the specified <i>mimeType</i> and/or <i>lang</i> is available for the reason stated.
</p>
<p>
The context of use may frequently make rules about the kind of attachment
(and therefore, the kind of mime types) that can be used.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A PDF document:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;mimeType&gt;application/pdf&lt;/mimeType&gt;
   &lt;data&gt;/9j/4...KAP//Z&lt;/data&gt; &lt;!-- covers many lines --&gt;
   &lt;lang type=&quot;code&quot;&gt;eng&lt;/lang&gt;
   &lt;title type=&quot;string&quot;&gt;Definition of Procedure&lt;/title&gt;
  &lt;/x&gt;
</pre>
<p>A reference to a DICOM image:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;mimeType&gt;application/dicom&lt;/mimeType&gt;
   &lt;url&gt;http://10.1.2.3:1000/wado?requestType=WADO&amp;wado details...&lt;/url&gt;
   &lt;hash&gt;EQH/..AgME&lt;/hash&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Identifier"></a>
<h2>
Identifier
</h2>
<p>
An identifier defined by some external system.
</p>
<%dt Identifier%>
<p>
The <i>system</i> may be either a specific application or a recognised
concept for which the specific application may be implicit. 
The system is a URI that 
may be an OID (oid:) or a UUID (uuid:), a sid (a specially defined URI from <a href="terminologies.htm#codesystems"> the named systems list</a>)
or a URL that references a definition of the identifier. 
OIDs and UUIDs may be registered in the <a href="http://hl7.org/oid">HL7 OID registry</a> and should be if the content is shared or exchanged across institutional boundaries.
</p>
<p>
In some cases, the system may not be known - only the id is known (e.g. a simple device that scans a barcode). 
In this case, no useful matching may be performed using the id unless the system can be safely inferred by the context. 
</p>
<p>
Note that the <i>system</i> defines the scheme that controls uniqueness of the <i>id</i>. 
The <i>id</i> must be unique within the defined <i>system</i>. If the <i>id</i> itself 
is actually an OID, a UUID, or a URI, then the <i>system</i> will be either "http://hl7.org/fhir/sid/oid", 
"http://hl7.org/fhir/sid/uuid" or "http://hl7.org/fhir/sid/uri" respectively and the OID, UUID or URI would be in the <i>id</i> 
element. Ids are always case sensitive. UUIDs must be represented in lower case.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Identifier element has a dataAbsentReason flag, it must contain 
an <i>id</i>.
</p>
<p>Unless the Identifier element is marked as mandatory, it must 
contain a <i>system</i>.</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A primary key from an application table (an OID in the space allocated by HL7
to some organisation to further sub-allocate):</p>
<pre class="xml">
  &lt;x&gt;
   &lt;system&gt;oid:2.16.840.1.113883.16.4.3.2.5&lt;/system&gt;
   &lt;id&gt;123&lt;/id&gt;
  &lt;/x&gt;
</pre>
<p>An identifier of a patient FHIR resource on a particular system:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;system&gt;http://pas-server/xxx/patient&lt;/system&gt;
   &lt;id&gt;443556&lt;/id&gt;
  &lt;/x&gt;
</pre>
<p>A guid:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;system&gt;http://hl7.org/fhir/sid/uuid&lt;/system&gt;
   &lt;id&gt;a76d9bbf-f293-4fb7-ad4c-2851cac77162&lt;/id&gt;
  &lt;/x&gt;
</pre>
<p>A full URL as the identifier:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;system&gt;http://hl7.org/fhir/sid/uri&lt;/system&gt;
   &lt;id&gt;http://server.acme.com/fhir/people/@1&lt;/id&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Coding"></a>
<h2>Coding</h2>
<p>
A "<i>coding</i>" is a representation of a defined concept using a symbol from a defined "code system" - 
which may be an enumeration, a list of codes, a full terminology such as SNOMED-CT or LOINC 
or a formal ontology. 
</p>
<%dt Coding%>

<a name="codesystem"></a>
<p>
There must be a <i>system</i> that identifies the terminology or ontology the <i>code</i> is defined by. 
The <i>system</i> is a URI that may be an OID (oid:) a UUID (uuid:), a specially defined URI from 
<a href="terminologies.htm#codesystems">the named systems list</a>, a url that references 
a definition of the system or any other URI. OIDs and UUIDs may be registered in the <a href="http://hl7.org/oid">HL7 OID 
registry</a> and should be if the content is shared or exchanged across institutional boundaries.
</p>
<p>
If present, the <i>code</i> must be a syntactically correct symbol as defined by the <i>system</i>.
In some code systems such as SNOMED-CT, the code may be an expression composed of other codes. 
Note that codes are case sensitive unless specified otherwise by the code system. If no code is 
present and there is no <i>dataAbsentReason</i>, the coding should be interpreted to mean that 
the concept cannot be encoded in the identified system. The <i>display</i> is a text representation 
of the code defined by the <i>system</i> and can be used to display the meaning of the code by
an application that is not aware of the <i>system</i>. 
</p>
<p>
If two Codings have the same the <i>system</i> and <i>code</i> then they have the same meaning.
If either the <i>system</i> or the <i>code</i> differs, then how they are related can only be 
determined by consulting the definitions of the system(s) and any mappings available.
</p>
<p>
The correct value of the <i>system</i> for a given code system can be determined by:
</p>
<ul>
 <li>the <a href="terminologies.htm#codesystems">System Identifiers</a> section</li>
 <li>the <a href="http://www.hl7.org/oid/index.cfm?ref=common">HL7 OID Registry</a></li>
 <li>the documentation associated with the code system</li>
 <li>consulting the owner of the code system</li>
 <li>asking on the HL7 vocabulary mailing list</li>
</ul>
<!--<h3>Version Management</h3>
<p>
Some code systems have periodic releases where the meanings of the codes are changed between
each release. Other code systems provide multiple releases where only minor consistent changes 
are allowed - mainly the addition of new codes. Finally, a few code systems provide an elaborate 
set of policies and procedures to allow concepts to be refined and modified within a single
definitional space. For the second two types of code system, it may help with implementation 
and interpretation tasks to track which minor release (version) of the code system is in use. 
</p>
<p>
For SNOMED-CT, the minor release (and optionally module/release) are indicated as part of the 
<i>system</i> element using the http://snomed.info identifier as defined by SNOMED-CT. For
all other code systems, the <i>version</i> element is used to indicate the minor release. 
In the absence of a specified version release format by the code system (such as 2.36 for 
LOINC), the release date is to be used.
</p>
<p>
The <i>version</i> element must always be ignored when comparing <i>Coding</i> values
</p>-->
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Coding element has a dataAbsentReason flag, it must contain a <i>system</i> element 
and it should contain a <i>display</i> if it contains a <i>code</i>.
<!-- It can only contain a
<i>version</i> element if it contains a <i>system</i> element.-->
</p>
<p>
The context of use usually makes rules about what codes and systems are allowed or required in a 
particular context by <a href="terminologies.htm">binding</a> the element to a value set.
</p>
</div>

<div class="example">
<p><b>Examples</b></p>
<p>A simple code for headache, in ICD-10:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;code&gt;G44.1&lt;/code&gt;
    &lt;system&gt;http://hl7.org/fhir/sid/icd-10&lt;/system&gt;
  &lt;/coding&gt;
  &lt;/x&gt;
</pre>
<p>A SNOMED-CT expression:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;code&gt;128045006:{363698007=56459004}&lt;/code&gt;
    &lt;system&gt;http://snomed.info&lt;/system&gt;
  &lt;/x&gt;
</pre>
</div>

<h3>Choosing Coding vs. CodeableConcept</h3>
<p>
A <b>Coding</b> is a simple direct reference to a code in a code system. The following type, <b>CodeableConcept</b>
is a complex type that may include multiple <b>Coding</b> and/or a text representation. The interplay between one
or more coding systems and a text representation is an extremely common pattern encountered in healthcare data and
the CodeableConcept caters for the general case. Accordingly, it is usually used in resources in preference to
the simpler Coding. Some resource definitions use <b>Coding</b> directly because the interplay between text and codes
is inherently part of the resource model. In such cases, these resource definitions have to make allowance for the 
design issues directly.
</p>


<a name="CodeableConcept"></a>
<h2>
CodeableConcept
</h2>
<p>
A CodeableConcept represents a represents a field that is usually defined by formal 
reference to one or more terminologies or ontologies, but may also be defined by the 
provision of text. This is a common pattern in healthcare data.
</p>
<%dt CodeableConcept%>
<p>
Each "<i>coding</i>" is a representation of the concept using a symbol from a defined "code system" - 
which may be an enumeration, a list of codes, a full terminology such as SNOMED-CT or LOINC, 
or a formal ontology. The concept may be coded multiple times in different code systems (or even 
multiple times in the same code systems, where multiple forms are possible, such as 
with SNOMED-CT). The different codings may have slightly different granularity due to the differences 
in the definitions of the underlying codes. 
</p>
<p>
Whether or not <i>coding</i> elements are present, the <i>text</i> 
is a human language representation of the concept as seen/selected/uttered by the user 
who entered the data, and/or which represents the intended meaning of the user or concept. 
Very often the <i>text</i> is the same as a <i>display</i> of one of the codings. One of the codings 
may be flagged as the primary - the code that the user actually chose directly. 
If present, the value of the primary element is an ID that must match an <i>id</i> attribute
on one of the codings. 
</p>

<div class="use">
<p><b>Use</b></p>
<p>
Unless the CodeableConcept element has a dataAbsentReason flag, it must contain 
at least one <i>coding</i> with a <i>code</i>, or a <i>text</i>. 
</p>
<p>
The context of use usually makes rules about what codes and systems are allowed or required in a 
particular context by <a href="terminologies.htm">binding</a> the element to a value set.
</p>
<p>
The ordering of Codings within a CodeableConcept is undefined.  Conformant systems shall not depend on 
Codings appearing in a particular sequence.
</p>
</div>



<div class="example">
<p><b>Examples</b></p>
<p>A simple code for headache initially coded in SNOMED-CT and translated to ICD-10:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;R51&lt;/code&gt;
      &lt;system&gt;http://hl7.org/fhir/sid/icd-10&lt;/system&gt;
    &lt;/coding&gt;
    &lt;coding id="1"&gt;
      &lt;code&gt;25064002&lt;/code&gt;
      &lt;system&gt;http://snomed.info&lt;/system&gt;
    &lt;/coding&gt;
    &lt;text&gt;general headache&lt;/text&gt;
    &lt;primary&gt;1&lt;/primary&gt;
  &lt;/x&gt;
</pre>
<p>A concept represented in an institution's local coding systems for unit for which no UCUM equivalent exists:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;tab&lt;/code&gt;
      &lt;system&gt;oid:2.16.840.1.113883.19.5.2&lt;/system&gt;
      &lt;display&gt;Tablet&lt;/display&gt;
    &lt;/coding&gt;
    &lt;coding&gt;
      &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
    &lt;/coding&gt;
  &lt;/x&gt;
</pre>
<p>A SNOMED-CT expression:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;coding&gt;
      &lt;code&gt;128045006:{363698007=56459004}&lt;/code&gt;
      &lt;system&gt;http://snomed.info&lt;/system&gt;
    &lt;/coding&gt;
    &lt;text&gt;Cellulitis of the foot&lt;/text&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Choice"></a>
<h2>
Choice
</h2>
<p>
A code taken from a short list of codes that are not defined in a formal code system. Choice is generally used 
for things like pain scales, questionnaires or formally defined assessment indexes. The possible codes may be 
ordered with some arbitrarily defined scale. Note: Choice is not an appropriate data type to use when the possible
codes are defined as a value set from a formal code system or otherwise stored on a terminology server.
</p>
<%dt Choice%>
<p>
The <i>code</i> is the selected value. A list of possible values must be provided; at least a code must be provided for each <i>value</i>. 
The selected code must be found in the list of possible codes. 
</p>
<p>
If isOrdered is true, then the values have an inherent meaningful order and the list of values must be provided in the correct order.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Choice element has a dataAbsentReason flag, it must contain a <i>code</i>.
The Choice element must always contain at least one possible value.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>The results on a urinalysis strip:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;code&gt;+&lt;/code&gt;
    &lt;value&gt;
      &lt;code&gt;neg&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;trace&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;+&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;++&lt;/code&gt;
    &lt;/value&gt;
    &lt;value&gt;
      &lt;code&gt;+++&lt;/code&gt;
    &lt;/value&gt;
    &lt;isOrdered&gt;true&lt;/isOrdered&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Quantity"></a>
<h2>
Quantity
</h2>
<p>
A measured amount (or an amount that can potentially be measured).
</p>
<%dt Quantity%>

<p>
The <i>value</i> contains the numerical value of the quantity, including an implicit precision. 
The <i>range</i> indicates how the value should be understood and 
represented. If no range is specified, the value is a point
value (i.e. '='). The <i>range</i> element can never be ignored.
</p>
<p>
The <i>units</i> element must contain a displayable unit that defines what is measured. 
The units may additionally be coded in the <i>code</i> and the <i>system</i>, 
which is a URI, OID or a SID that defines the code (see <a href="#CodeableConcept">CodeableConcept</a> for further information about <i>system</i>). 
</p>
<p>
If the units are able to be coded in UCUM and a code is provided, it SHOULD be a UCUM code. 
If a UCUM unit is provided in the <i>code</i> then a canonical value can be generated for 
purposes of comparison between quantities. Note that the <i>units</i> element will often 
contain text that is actually a valid UCUM unit, but it cannot be assumed that it does. 
</p>

<div class="use">
<p><b>Use</b></p>
<p>
Unless the Quantity element has a dataAbsentReason flag, it must contain 
at a <i>value</i> and a <i>unit</i>. If a <i>code</i> is present, a <i>system</i>
is also required.
</p>
<p>
The context of use may frequently define what kind of quantity
this is and therefore what kind of units can be used. The context 
of use may additionally require a <i>code</i> from a particular <i>system</i>.
The context of use may also restrict the values for <i>range</i>.
</p>
</div>
<h3>
Defined Variations on Quantity
</h3>
<p>
These are used as types in resource content models, but they are really just Quantity with some rules:
</p>
<a name="Duration"></a>
<a name="Distance"></a>
<a name="Count"></a>
<a name="Money"></a>
<table class="list">
 <tr><td>Duration  </td><td>The unit must be an amount of time and a UCUM unit must be provided.</td></tr>
 <tr><td>Distance  </td><td>The unit must be an amount of length and a UCUM unit must be provided.</td></tr>
 <tr><td>Count     </td><td>The value must a whole number and the UCUM unit must be "1"</td></tr>
 <tr><td>Money     </td><td>The unit must be a currency and the code must from ISO 4217<br/>(system = "http://hl7.org/fhir/sid/iso-4217")</td></tr>
</table>

<div class="example">
<p><b>Examples</b></p>
<p>A duration:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;value&gt;25&lt;/value&gt;
    &lt;unit&gt;sec&lt;/unit&gt;
    &lt;code&gt;s&lt;/code&gt;
    &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>A concentration where the value was out of range:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;value&gt;40000&lt;/value&gt;
    &lt;range&gt;&amp;gt;&lt;/range&gt;
    &lt;unit&gt;mcg/L&lt;/unit&gt;
    &lt;code&gt;ug&lt;/code&gt;
    &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>An amount of prescribed medication:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;value&gt;3&lt;/value&gt;
    &lt;unit&gt;capsules&lt;/unit&gt;
    &lt;code&gt;385049006&lt;/code&gt;
    &lt;system&gt;http://snomed.info&lt;/system&gt;
  &lt;/x&gt;
</pre>
<p>A price:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;value&gt;25.45&lt;/value&gt;
    &lt;unit&gt;US$&lt;/unit&gt;
    &lt;code&gt;USD&lt;/code&gt;
    &lt;system&gt;http://hl7.org/fhir/sid/iso-4217&lt;/system&gt;
  &lt;/x&gt;
</pre>
</div>



<a name="Range"></a>
<h2>
Range
</h2>
<p>
A set of ordered Quantity values defined by a low and high limit.
</p>
<p>
A Range specifies a set of possible values; usually, one value 
from the range applies (e.g. "give the patient between 2 and 4 tablets").
</p>
<%dt Range%>
<p>
The <i>units</i> and <i>code</i>/<i>system</i> elements of the <i>low</i> or <i>high</i> elements must match. 
If the <i>low</i> or <i>high</i> elements are missing, the meaning
is that the low or high boundaries are not known and therefore neither is the range. A 
<i>dataAbsentReason</i> flag must be provided on the <i>Range</i> in this case. 
</p>
<p>
The <i>range</i> flag on the <i>low</i> or <i>high</i> elements cannot have the values &lt;, &lt;=, =&gt;, or &gt;. Note that the Range type should not be 
used to represent measurements where the range flag might be used instead.
</p>
<p>
The low and the high values are inclusive, and are assumed to have arbitrarily high precision. E.g. the range 1.5 to 2.5 
includes 1.50, and 2.50 but not 1.49 or 2.51.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Range element has a <i>dataAbsentReason</i> flag, it must contain 
a <i>low</i> and a <i>high</i>.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Range of Quantity (distance):</p>
<pre class="xml">
  &lt;x&gt;
   &lt;low&gt;
     &lt;value&gt;2.8&lt;/value&gt;
     &lt;unit&gt;m&lt;/unit&gt;
   &lt;/low&gt;
   &lt;high&gt;
     &lt;value&gt;4.6&lt;/value&gt;
     &lt;unit&gt;m&lt;/unit&gt;
   &lt;/high&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Ratio"></a>
<h2>
Ratio
</h2>
<p>
A ratio of two Quantity values - a numerator and a denominator.
</p>
<%dt Ratio%>
<p>
Common factors in the numerator and denominator are not automatically cancelled out. The Ratio data type is used for titers  (e.g.,  "1:128")  and  other  quantities  produced  by  laboratories  that  truly 
represent  ratios.  Ratios  are  not  simply  "structured  numerics" and blood  pressure  measurements (e.g. "120/60") are not ratios. In addition, ratios are used where common factors in the numerator and denominator do not 
cancel out. The most common example of this is where the ratio represents a unit cost, and the numerator is a currency.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Ratio element has a <i>dataAbsentReason</i> flag, it must contain 
a <i>numerator</i> and a <i>denominator</i>. The context of use may require 
particular types of Quantity for the numerator or denominator.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Titer (Ratio of integer:integer)</p>
<pre class="xml">
  &lt;x&gt;
   &lt;numerator&gt;
     &lt;value&gt;1&lt;/value&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value&gt;128&lt;/value&gt;
   &lt;/denominator&gt;
  &lt;/x&gt;
</pre>
<p>Unit cost (Ratio of Money:Quantity):</p>
<pre class="xml">
  &lt;x&gt;
   &lt;numerator&gt;
     &lt;value&gt;103.50&lt;/value&gt;
     &lt;unit&gt;US$&lt;/unit&gt;
     &lt;code&gt;USD&lt;/code&gt;
     &lt;system&gt;http://hl7.org/fhir/sid/iso-4217&lt;/system&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value&gt;128&lt;/value&gt;
     &lt;unit&gt;day&lt;/unit&gt;
     &lt;code&gt;day&lt;/code&gt;
     &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
   &lt;/denominator&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="Period"></a>
<h2>
Period
</h2>
<p>
A time period defined by a start and end time.
</p>
<p>
A period specifies a range of times. The context
of use will specify whether the entire range applies (e.g. "the patient
was an inpatient of the hospital for this time range") or one value 
from the period applies (e.g. "give to the patient between 2 and 4 pm").
</p>
<%dt Period%>
<p>
If the <i>low</i> or <i>high</i> elements are missing, the meaning
is that the low or high boundaries are not known. If the low 
element is missing, a <i>dataAbsentReason</i> flag must be provided 
on the <i>Period</i> element in this case. If the <i>high</i> is missing, 
it means that the period is ongoing.
</p>
<p>
The high value includes any matching date/time. For example, the period 
2011-05-23 to 2011-05-27 includes all the times of 23rd May through to 
the end of the 27th May.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Unless the Period element has a <i>dataAbsentReason</i> flag, it must contain 
a <i>low</i>.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>23rd May 2011 to 27th May, including 27th May:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;low&gt;
     &lt;date&gt;2011-05-23&lt;/date&gt;
   &lt;/low&gt;
   &lt;high&gt;
     &lt;date&gt;2011-05-27&lt;/date&gt;
   &lt;/high&gt;
  &lt;/x&gt;
</pre>
</div>


<hr/>
<a name="Structures"/>
<h2>Structures</h2>
<p>
<img src="dt-structures.png"/>
</p>
<a name="HumanId"></a>
<h2>HumanId</h2>


<p>An identifier that humans use. This is different from a system
identifier because identifiers that humans use are regularly changed or 
retired due to human intervention and error. Note that a 
human identifier may be a system identifier on some master 
system, but becomes a human identifier elsewhere due to how it is 
exchanged between humans. Driver's license numbers are a 
good example of this. Also, because human mediated identifiers
are often invoked as implicit links to external business processes,
such identifiers are often associated with multiple different resources. 
Human identifiers often have some type associated with them that is
important to allow the identifier to be picked as a basis for 
exchange elsewhere, either in other electronic interchanges or 
paper forms.
</p>
<%dt HumanId%>
<p>
Note that in many cases, the assigner is used to indicate what registry/state/facility/etc. assigned the identifier. 
Another possible source for the type of an identifier is HL7 v2 table 0203. 
</p>  
<p>
The resource elements often use HumanId for an identifier that may be an external human mediated reference, that may also 
come from a direct unambiguous reference to a resource or may be from a separate workflow, possibly human mediated. When 
the identifier is actually a direct resource reference, the <i>type</i> should be a 
<a href="terminologies.htm#resourcetypes">resource type</a>, the <i>identifier</i>.<i>system</i> should be the URL
of the source system or, if a particular end point is 
not known, then "http://hl7.org/fhir/sid/fhir/[X]" where "[X]" is the resource name , 
and the <i>identifier</i>.<i>id</i> should be the resource id.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
An <i>identifier</i> with an <i>id</i> element is required unless a <i>dataAbsentReason</i>
flag is provided on the <i>identifier</i> element. If the HumanId is mandatory, then either an 
<i>identifier.system</i> or an <i>type</i> must be provided (In some cases, the <i>type</i> of the 
identifier will be known, but not the <i>identifier</i>.<i>system</i>. For instance, 
a driver's license number, where the state, province or country that issues
the license identifier (or at least the appropriate system uri for a known license provider) is unknown). 
</p>
<p>
The <i>assigner</i>.<i>id</i> may be replaced with <i>assigner</i>.<i>text</i> when used with the <i>dataAbsentReason</i> "astext".
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A US SSN:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;type&gt;
      &lt;code&gt;ssn&lt;/code&gt;
      &lt;system&gt;http://hl7.org/fhir/sid/fhir/identifier-type&lt;/system&gt;
    &lt;/type&gt;
    &lt;identifier&gt;
      &lt;system&gt;http://hl7.org/fhir/sid/us-ssn&lt;/system&gt;
      &lt;id&gt;000111111&lt;/id&gt;
    &lt;/identifier&gt;
  &lt;/x&gt;
</pre>
<p>Notes:</p> 
<ul>
<li>US SSNs are often presented like this: 000-11-1111, the dashes are for presentation and should be removed, as specified in the <a href="terminologies.htm">definition of ssn-us</a></li>
<li>There is apparent duplication between type and system; the type says that this is a national social security identifier from some country, while the system specifically identifies the 
  US SSN. Not all countries will have a registered system id like USA does; it might be useful to also reference the country in the assigning authority</li>
</ul>
<p>A medical record number assigned on 5-July 2009:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;type&gt;
      &lt;code&gt;patient&lt;/code&gt;
      &lt;system&gt;http://hl7.org/fhir/sid/fhir/identifier-type&lt;/system&gt;
    &lt;/type&gt;
    &lt;identifier&gt;
      &lt;system&gt;oid:0.1.2.3.4.5.6.7&lt;/system&gt;
      &lt;id&gt;2356&lt;/id&gt;
    &lt;/identifier&gt;
   &lt;period&gt;
     &lt;low&gt;2009-06-05&lt;/low&gt;
   &lt;/period&gt;
  &lt;/x&gt;
</pre>
</div>

<a name="HumanName"></a>
<h2>
HumanName
</h2>
<p>
A name of a human with parts and usage information.
</p>
<p>
Names may be changed or repudiated.  People may have different names in different 
contexts. Names may be divided into parts of different type that have variable 
significance depending on context, though the division into parts does not always 
matter. With personal names, the different parts may or may not be imbued with
some implicit meaning; various cultures associate different importance with the 
name parts and the degree to which systems must care about name parts around the 
world varies widely.
</p>
<%dt HumanName%>
<p>
The <i>text</i> element specifies the entire name as it should be represented. This
may be provided instead of or as well as specific <i>part</i> elements. Every <i>part</i>
must have a <i>value</i>.
</p>
<p>
Note that the order of the parts within a given part type has significance and must be observed.
The different part types may be re-ordered between different contexts of use and the order 
between part types is not expected to be meaningful.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
Either <i>text</i> or at least one <i>part</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the name element. 
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>Full name of Peter James Chalmers.</p>
<pre class="xml">
  &lt;x&gt;
    &lt;use&gt;usual&lt;/use&gt;
    &lt;part&gt;
      &lt;type&gt;given&lt;/type&gt;
      &lt;value&gt;Peter&lt;/value&gt;
    &lt;/part&gt;
    &lt;part&gt;
      &lt;type&gt;given&lt;/type&gt;
      &lt;value&gt;James&lt;/value&gt;
    &lt;/part&gt;
    &lt;part&gt;
      &lt;type&gt;family&lt;/type&gt;
      &lt;value&gt;Chalmers&lt;/value&gt;
    &lt;/part&gt;
  &lt;/x&gt;
</pre>
<p>See <a href="datatypes-examples.htm#HumanName">further examples</a></p>
</div>
<a name="Address"></a>
<h2>
Address
</h2>
<p>
A postal address. There are a variety of postal address formats defined around the world. 
This format defines a superset that is the basis for addresses all around the world.
Postal addresses are often used to record a location that can be
visited to find a patient or person.
</p>

<%dt Address%>
<p>
The <i>text</i> element specifies the entire address as it should be represented. This
may be provided instead of or as well as specific <i>part</i> elements. Every <i>part</i>
must have a <i>value</i>.
</p>


<div class="use">
<p><b>Use</b></p>
<p>
Either <i>text</i> or at least one <i>part</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the address element. 
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>HL7 office's address.</p>
<pre class="xml">
  &lt;x&gt;
   &lt;use&gt;work&lt;/use&gt;
   &lt;text&gt;
       1050 W Wishard Blvd
       RG 5th floor
       Indianapolis, IN 46240
     &lt;/html&gt;
   &lt;/text&gt;
   &lt;part&gt; 
     &lt;type&gt;city&lt;/type&gt;
     &lt;value&gt;Indianapolis&lt;/value&gt;
   &lt;/part&gt;
   &lt;part&gt; 
     &lt;type&gt;state&lt;/type&gt;
     &lt;value&gt;IN&lt;/value&gt;
   &lt;/part&gt;
   &lt;part&gt; 
     &lt;type&gt;zip&lt;/type&gt;
     &lt;value&gt;46240&lt;/value&gt;
   &lt;/part&gt;
  &lt;/x&gt;
</pre>
<!--<p>See <a href="datatypes-examples.htm">further examples</a></p>-->
</div>
<a name="Contact"></a>
<h2>
Contact
</h2>
<p>
All kinds of technology-mediated contact details for a person or organisation, including telephone, email, etc.
</p>
<%dt Contact%>
<p>
If capturing a phone, fax or similar contact, the value should be a properly formatted telephone number according to 
<a href="http://www.itu.int/rec/T-REC-E.123-200102-I/e">ITU-T E.123</a>. 
However, this is frequently not possible due to legacy data and/or recording methods.
</p>
<div class="use">
<p><b>Use</b></p>
<p>
A <i>value</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the contact element. A <i>system</i> is required if a <i>value</i> is provided.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>Home phone number:</p>
<pre class="xml">
  &lt;x&gt;
   &lt;system&gt;phone&lt;/system&gt;
   &lt;value&gt;+15556755745&lt;/value&gt;
   &lt;use&gt;home&lt;/use&gt;
  &lt;/x&gt;
</pre>
<!--<p>See <a href="datatypes-examples.htm">further examples</a></p>-->
</div>
<!-- 
<a name="Location"></a>
<h2>Location</h2>
<p>
A physical location based on geospatial co-ordinates.
</p>
<pre>
&lt;x&gt;
 <identifier>
  <code>
  <names>
  <address>
  <text>
  <parts>
    <part type="Location"></part>
  </parts>
  <partOfs>
    <partOf type="Location"></part>
  </partOfs>
  <spacialLocation>
    <identifier>
    <system>
    
  </spacialLocation>
  <period> 
&lt;/x&gt;
</pre>
<p>
TODO: what should this be - ?  (google KML)
</p>
-->
<a name="Schedule"></a>
<h2>
Schedule
</h2>
<p>
A schedule that specifies an event that may occur multiple times. Schedules are not used for recording when things did happen, but when they are expected or requested to occur.
A schedule can be either a list of events - periods on which the event occurs, 
or a single event with repeating criteria, or just repeating criteria with no actual event. 
</p>
<p>
Note: a possible enhancement to this is to have the repeat content repeat with each event. This is richer and more complex - is the added functionality useful?
</p>
<%dt Schedule%>
<p>
If events are specified, at least a low must be specified for each event. If no high is 
specified, the event is assumed to last a limited but
unknown time as clinically relevant.
</p>
<p>
If the schedule has repeating criteria, the repeat can occur a given number of times per 
the specified duration or in relation to some real world event. Also, if the event repeats,
a time to end the schedule can be specified, either by specifying a count number of times 
it can occur or a date at which to end the schedule. If no end condition is specified, 
the Schedule will terminate on some criteria that are expressed elsewhere. 
</p>
<p>
There are 3 rules concerning the contents of a <i>Schedule</i>:
</p>
<ol>
 <li>There can only be a repeat element if there is none or one event</li>
 <li>Only one of <i>frequency</i> and <i>when</i> can be present</li>
 <li>Only one of <i>count</i> and <i>end</i> can be present</li>
</ol>

<div class="use">
<p><b>Use</b></p>
<p>
At least one <i>event</i> or a <i>repeat</i> is required unless a <i>dataAbsentReason</i>
flag is provided on the Schedule element. If a <i>repeat</i> is present, either <i>frequency</i> or <i>when</i> is required.
</p>
</div>
<div class="example">
<p><b>Example</b></p>
<p>A series of appointments for radiotherapy:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-07T09:00&lt;/low&gt;
      &lt;high&gt;2012-01-07T13:00&lt;/high&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-14T09:00&lt;/low&gt;
      &lt;high&gt;2012-01-14T13:00&lt;/high&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;low&gt;2012-01-22T11:00&lt;/low&gt;
      &lt;high&gt;2012-01-22T15:00&lt;/high&gt;
    &lt;/event&gt;
  &lt;/x&gt;
</pre>
<p>BID (twice a day) (no start or end specified):</p>
<pre class="xml">
  &lt;x&gt;
   &lt;repeat&gt;
     &lt;frequency&gt;2&lt;/frequency&gt;
     &lt;duration&gt;
       &lt;value&gt;1&lt;/value&gt;
       &lt;units&gt;day&lt;/units&gt;
       &lt;code&gt;d&lt;/code&gt;
       &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
     &lt;/duration&gt;
   &lt;/repeat&gt;
  &lt;/x&gt;
</pre>
<p>1/2 an hour before breakfast for 10 days from 23-Dec 2011:</p>
<pre class="xml">
  &lt;x&gt;
    &lt;event&gt;
      &lt;low&gt;2011-12-23&lt;/low&gt;
    &lt;/event&gt;
    &lt;repeat&gt;
      &lt;when&gt;ACM&lt;/when&gt;
      &lt;duration&gt;
        &lt;value&gt;30&lt;/value&gt;
        &lt;units&gt;min&lt;/units&gt;
        &lt;code&gt;min&lt;/code&gt;
        &lt;system&gt;http://hl7.org/fhir/sid/ucum&lt;/system&gt;
      &lt;/duration&gt;
      &lt;end&gt;2012-01-02&lt;/end&gt;
    &lt;/repeat&gt;
  &lt;/x&gt;
</pre>
<p>
Note that the end date is inclusive like the high date of a Period.
</p>

</div>

<h2>Schema &amp; UML models</h2>
<p>
<a href="fhir-base.xsd">Data Types Schema</a>.
</p>
<p>
  With regard to the UML models, see notes about the <a href="xml.htm#objects">UML Object models</a>, and particularly the note regarding the <a href="mixins.htm">UML representation of dataAbsentReason</a>
</p>

<%footer%>


<%/maindiv%>    
</body>
</html>